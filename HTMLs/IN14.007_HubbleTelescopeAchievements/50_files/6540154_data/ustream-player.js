define("ustream-player",[],function(){return function(e){function t(t){for(var n,o,a=t[0],i=t[1],s=0,l=[];s<a.length;s++)o=a[s],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&l.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(u&&u(t);l.length;)l.shift()()}var n={},r={0:0};function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){throw console.error(e),e};var a=window.webpackJsonpustream_player=window.webpackJsonpustream_player||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var s=0;s<a.length;s++)t(a[s]);var u=i;return o(o.s=345)}([function(e,t,n){"use strict";e.exports=n(336)},function(e,t,n){e.exports=n(340)()},function(e,t,n){"use strict";var r=n(42),o=n(107),a=n(7),i=n(41),s=Object(a.a)("facade"),u={};function l(e,t){return e+"."+t}t.a={types:{COMMAND:"command",EVENT:"event",DATA:"data",REPORT:"report"},events:r.a,send:function(e,t,n){var r=l(e,t);-1===o.a.indexOf(t)&&s.debug(e+" "+t,n),Object(i.a)(u,r,n),Object(i.a)(u,e+".*",t,n)},on:function(e,t,n){var r=l(e,t);u[r]||(u[r]=[]),u[r].push(n)}}},function(e,t,n){"use strict";var r=n(7),o=n(107),a=n(41),i=Object(r.a)("lib/event/notifier"),s={};function u(e,t){return"".concat(e,".").concat(t)}t.a={types:{COMMAND:"command",EVENT:"event",UI:"ui",SCREEN:"screen",REPORT:"report"},events:{},send:function(e,t,n){var r=u(e,t);o.a.includes(t)||i.debug("".concat(e,": ").concat(t),n),Object(a.a)(s,r,n),Object(a.a)(s,"".concat(e,".*"),t,n)},on:function(e,t,n){var r=u(e,t);s[r]||(s[r]=[]),s[r].push(n)},off:function(e,t,n){var r=u(e,t),o=s[r];if(o){var a=o.indexOf(n);-1!==a&&o.splice(a,1)}}}},function(e,t,n){"use strict";var r=n(115),o=n(188),a=n.n(o)()(r.a);t.a=a},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";n.r(t);var r={POSITION:"".concat("Atlas",".position"),FINISHED:"".concat("Atlas",".finished"),BUFFER_EMPTY:"".concat("Atlas",".bufferEmpty"),BUFFER_FULL:"".concat("Atlas",".bufferFull"),METADATA:"".concat("Atlas",".metadata"),BANDWIDTH:"".concat("Atlas",".bandwidth"),STORED:"".concat("Atlas",".stored"),BUFFERED:"".concat("Atlas",".buffered"),SEEK_STARTED:"".concat("Atlas",".seekStarted"),SEEK_COMPLETED:"".concat("Atlas",".seekCompleted"),QUALITY_CHANGE_STARTED:"".concat("Atlas",".qualityChangeStarted"),QUALITY_CHANGE_COMPLETED:"".concat("Atlas",".qualityChangeCompleted"),QUALITY_CHANGE_CANCELLED:"".concat("Atlas",".qualityChangeCancelled"),LANGUAGE_CHANGE_STARTED:"".concat("Atlas",".languageChangeStarted"),LANGUAGE_CHANGE_COMPLETED:"".concat("Atlas",".languageChangeCompleted"),LANGUAGE_CHANGE_CANCELLED:"".concat("Atlas",".languageChangeCancelled"),ERROR:"".concat("Atlas",".error"),LOG:"".concat("Atlas",".log"),THROTTLE:"".concat("Atlas",".throttle"),AUDIO_TRACKS:"".concat("Atlas",".audioTracks"),TEXT_TRACKS:"".concat("Atlas",".textTracks"),X08_DETECTED:"".concat("Atlas",".x08Detected"),WEBKIT_SUPPORTS_FULLSCREEN:"".concat("Atlas",".webkitSupportsFullscreen"),WEBKIT_ENTER_FULLSCREEN:"".concat("Atlas",".webkitEnterFullscreen"),WEBKIT_END_FULLSCREEN:"".concat("Atlas",".webkitEndFullscreen"),GAP_RECOVERING:"".concat("Atlas",".gapRecovering"),ATLAS_SEEKABLE:"".concat("Atlas",".atlasSeekable"),ATLAS_FULLY_INITIALIZED:"".concat("Atlas",".atlasFullyInitialized")},o={UNSUPPORTED:"unsupported",INVALID_OPTIONS:"invalidOptions",SEGMENT_NOT_FOUND:"segmentNotFound",SEGMENT_LOAD_FAILED:"segmentLoadFailed",VIDEO_PLAYER:"videoPlayer",UNRECOVERED_STALLED:"unrecoveredStalled",CAN_NOT_CREATE_URL:"canNotCreateUrl",NEW_REPRESENTATION:"newRepresentation",PLAY_ERROR:"playError"},a={FLV_MOVIE:"flv",FLV_SEGMENTED:"flv/segmented",MP4_MOVIE:"mp4",MP4_SEGMENTED:"mp4/segmented",HLS:"hls",VTT:"text/vtt"},i=-2,s=2,u=function(){var e={};function t(t,n,r){r=isNaN(+r)?0:Math.max(i,Math.min(s,+r)),e||(e={}),e[t]||(e[t]=[]);for(var o=e[t],a=0;o[a]&&o[a].priority>r;)++a;o.splice(a,0,{callback:n,priority:r})}function n(t,n){if(e&&e[t]){for(var r=0;r<e[t].length;++r)e[t][r].callback===n&&e[t].splice(r--,1);e[t].length||delete e[t]}}function r(t){return e&&e.hasOwnProperty(t)?e[t].length:0}function o(t,n){for(var r=0;e&&e[t]&&r<e[t].length;++r)if(e[t][r].callback===n)return!0;return!1}return{addListener:t,removeListener:n,hasListener:function(t){return e&&e.hasOwnProperty(t)&&!!e[t].length},listenerCount:r,allListenerCount:function(){return e?Object.getOwnPropertyNames(e).map(r).reduce(function(e,t){return e+t},0):0},on:t,off:n,dispatch:function(t,n){if(e&&e[t]){var r,a=[];for(r=0;r<e[t].length;++r)a.push(e[t][r].callback);for(r=0;r<a.length;++r)o(t,a[r])&&a[r](n)}},cleanup:function(){e=null},MINIMUM_PRIORITY:i,MAXIMUM_PRIORITY:s}},l={FATAL:100,ERROR:200,WARN:300,INFO:400,DEBUG:500},c=u(),f={LOG:"log"};function d(e,t,n,r){var o=new Date;if(c.hasListener(f.LOG)){var a={timestamp:o,source:e,line:t,data:n,level:r};c.dispatch(f.LOG,a)}}var p={create:function(e){return{debug:function(t,n){d(e,t,n,l.DEBUG)},info:function(t,n){d(e,t,n,l.INFO)},warn:function(t,n){d(e,t,n,l.WARN)},error:function(t,n){d(e,t,n,l.ERROR)},fatal:function(t,n){d(e,t,n,l.FATAL)}}},log:d,getStack:function(){return(new Error).stack.split("\n").slice(2).map(function(e){return e.substr(7)})},events:f,levels:l,addListener:function(e,t){c.addListener(e,t)},removeListener:function(e,t){c.removeListener(e,t)},cleanup:function(){c.cleanup()}},h={BASE:"Controller",FINISHED:"Controller.finished",STREAM_URL:"Controller.streamURL",ADD_BUFFER:"Controller.addBuffer",REMOVE_BUFFER:"Controller.removeBuffer",REQUEST_SEGMENT:"Controller.requestSegment",LOAD_MOVIE_META:"Controller.loadMovieMeta",LOAD_SEGMENT:"Controller.loadSegment",ABORT_DOWNLOAD:"Controller.abortDownload",CONTENT_MOVED:"Controller.contentMoved",BROADCASTER_TIME_UPDATE:"Controller.broadcasterTimeUpdate",REQUEST_KEYFRAME_POSITION:"Controller.requestKeyFramePosition",CANCEL_KEYFRAME_REQUEST:"Controller.cancelKeyFrameRequest",SWITCH_STREAM:"Controller.switchStream",CANCEL_STREAM_SWITCH:"Controller.cancelStreamSwitch",MISSING_RAP_AT_RANGE:"Controller.missingRapAtPoint",CAN_NOT_CREATE_URL:"Controller.canNotCreateUrl",NEW_REPRESENTATION:"Controller.newRepresentation",QUALITY_CHANGE_STARTED:"Controller.qualityChangeStarted",QUALITY_CHANGE_COMPLETED:"Controller.qualityChangeCompleted",QUALITY_CHANGE_CANCELLED:"Controller.qualityChangeCancelled",LANGUAGE_CHANGE_STARTED:"Controller.languageChangeStarted",LANGUAGE_CHANGE_COMPLETED:"Controller.languageChangeCompleted",LANGUAGE_CHANGE_CANCELLED:"Controller.languageChangeCancelled",ATLAS_FULLY_INITIALIZED:"Controller.atlasFullyInitialized"},m={BASE:"Debug",LOG:"Debug.log"},v={BASE:"SegmentDownloader",LOAD_INIT:"SegmentDownloader.loadInit",LOAD_START:"SegmentDownloader.loadStart",LOAD_COMPLETE:"SegmentDownloader.loadComplete",RAW:"SegmentDownloader.raw",SEGMENT:"SegmentDownloader.segment",EMPTY_SEGMENT:"SegmentDownloader.emptySegment",CONFIG:"SegmentDownloader.config",FAILED:"SegmentDownloader.failed",ABORTED:"SegmentDownloader.aborted",DESTROY:"SegmentDownloader.destroy"},y={BASE:"StorageManager",EOS_POSITION_DETECTED:"StorageManager.eosPositionDetected",SEGMENT_STORAGE_CREATED:"StorageManager.segmentStorageCreated",SEGMENT_STORAGE_REMOVED:"StorageManager.segmentStorageRemoved",SEGMENT_STORAGE_UPDATED:"StorageManager.segmentStorageUpdated"},g={BASE:"SegmentStorage",SEGMENT_MISSING:"SegmentStorage.segmentMissing",SEGMENT_MISSING_BY_ID:"SegmentStorage.segmentMissingById",KEYFRAME_POSITION:"SegmentStorage.keyFramePosition",SEGMENTS_REMOVED:"SegmentStorage.segmentsRemoved",SEGMENT_CHANGE:"SegmentStorage.segmentChange"},b={BASE:"VideoPlayer",ERROR:"".concat("VideoPlayer",".error"),POSITION:"".concat("VideoPlayer",".position"),BUFFERED:"".concat("VideoPlayer",".buffered"),BUFFER_EMPTY:"".concat("VideoPlayer",".bufferEmpty"),BUFFER_FULL:"".concat("VideoPlayer",".bufferFull"),SEEK_COMPLETED:"".concat("VideoPlayer",".seekCompleted"),STREAM_INFO:"".concat("VideoPlayer",".streamInfo"),THROTTLE:"".concat("VideoPlayer",".throttle"),RENDERER_CHANGE:"".concat("VideoPlayer",".rendererChange"),CC_DETECTED:"".concat("VideoPlayer",".ccDetected"),AUDIO_TRACKS:"".concat("VideoPlayer",".audioTracks"),TEXT_TRACKS:"".concat("VideoPlayer",".textTracks"),RESIZE:"".concat("VideoPlayer",".resize"),UNRECOVERED_STALLED:"".concat("VideoPlayer",".unrecoveredStalled"),PLAY_ERROR:"".concat("VideoPlayer",".playError"),WEBKIT_SUPPORTS_FULLSCREEN:"".concat("VideoPlayer",".webkitSupportsFullscreen")},E={ABORT:"abort",CAN_PLAY:"canplay",CAN_PLAY_THROUGH:"canplaythrough",DURATION_CHANGE:"durationchange",EMPTIED:"emptied",ENCRYPTED:"encrypted",ENDED:"ended",ERROR:"error",INTERRUPT_BEGIN:"interruptbegin",INTERRUPT_END:"interruptend",LOADED_DATA:"loadeddata",LOADED_METADATA:"loadedmetadata",LOAD_START:"loadstart",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",RATE_CHANGE:"ratechange",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",WAITING:"waiting",WEBKIT_ENTER_FULLSCREEN:"webkitenterfullscreen",WEBKIT_END_FULLSCREEN:"webkitendfullscreen"},S={BASE:"videoTagProxyEvents"};for(var T in E)E.hasOwnProperty(T)&&(S[T]="videoTagProxyEvents."+E[T]);var O=S,C={BASE:"Buffer",STREAM_SWITCH:"Buffer.streamSwitch",BUFFER_CLEAR:"Buffer.bufferClear",BUFFER_UPDATING:"Buffer.bufferUpdating",BUFFER_UPDATED:"Buffer.bufferUpdated",APPEND:"Buffer.append",REMOVE:"Buffer.remove",PURGE:"Buffer.purge"},w={BASE:"BufferManager",BUFFER_ADDED:"BufferManager.bufferAdded",BUFFER_REMOVED:"BufferManager.bufferRemoved",APPEND_TO_BUFFER:"BufferManager.appendToBuffer"},_=p.create("Facade"),P=u(),I=[h.CONTENT_MOVED,h.BROADCASTER_TIME_UPDATE,m.LOG,v.LOAD_INIT,v.LOAD_START,v.DESTROY,v.SEGMENT,v.EMPTY_SEGMENT,v.RAW,v.CONFIG,y.SEGMENT_STORAGE_CREATED,g.SEGMENT_CHANGE,b.POSITION,b.BUFFERED,b.STREAM_INFO,C.BUFFER_UPDATING,C.BUFFER_UPDATED,C.APPEND,w.APPEND_TO_BUFFER,O.PROGRESS,O.TIME_UPDATE],L={dispatch:function(e,t,n){0!==t.indexOf("Flash:")&&(t="Js:"+t),-1===I.indexOf(e)&&_.debug("dispatch : "+e+" from "+t+" to "+P.listenerCount(e)+" listener(s)",n);var r={type:e,originId:t,data:n};P.dispatch(r.type,r);var o=r.type.split(".");for(o.push("*");o.length>1;)o.splice(o.length-2,1),P.dispatch(o.join("."),r)},addListener:function(e,t,n){void 0!==e?P.addListener(e,t,n):_.warn("undefined event type listener adding is prohibited")},removeListener:function(e,t){P.removeListener(e,t)},validateNotificationData:function(e,t){for(var n=[],r=0;t&&r<t.length;++r)void 0===e.data[t[r]]&&n.push(t[r]);if(n.length)throw _.error("missing data from notification ("+n.join(", ")+")",e),new Error("Missing data from notification ("+n.join(", ")+")")},allListenerCount:function(){return P.allListenerCount()},cleanup:function(){P.cleanup()},MINIMUM_PRIORITY:P.MINIMUM_PRIORITY,MAXIMUM_PRIORITY:P.MAXIMUM_PRIORITY},R={MINIMUM_REMAINING_THRESHOLD:"minimumRemainingThreshold",MOVING_WINDOW_INTERVAL_DELAY:"movingWindowIntervalDelay",CONCURRENT_DOWNLOAD_COUNT:"concurrentDownloadCount",COLDSTART_THRESHOLD:"coldstartThreshold",BUFFER_COLLECT_DELAY_IN_MILLISEC:"bufferCollectTimeoutInMillisec",QUALITY_SWITCH_BUFFER_THRESHOLD:"qualitySwitchBufferThreshold",VIDEO_TAG_ATTRIBUTES:"videoTagAttributes",CHUNK_PRELOAD_COUNT:"chunkPreloadCount",MEMORY_LIMIT_IN_BYTES:"memoryLimitInBytes",FLASH_PROXY_URL_PLAIN:"flashProxyUrlPlain",FLASH_PROXY_URL_SECURE:"flashProxyUrlSecure"},A={};A[R.MINIMUM_REMAINING_THRESHOLD]=5e3,A[R.MOVING_WINDOW_INTERVAL_DELAY]=500,A[R.CONCURRENT_DOWNLOAD_COUNT]=2,A[R.COLDSTART_THRESHOLD]=1e3,A[R.BUFFER_COLLECT_DELAY_IN_MILLISEC]=1500,A[R.QUALITY_SWITCH_BUFFER_THRESHOLD]=2e3,A[R.VIDEO_TAG_ATTRIBUTES]=null,A[R.CHUNK_PRELOAD_COUNT]=5,A[R.MEMORY_LIMIT_IN_BYTES]=134217728;var k,N=A,D={BASE:"AtlasAPI",PAUSE:"".concat("AtlasAPI",".pause"),RESUME:"".concat("AtlasAPI",".resume"),PLAYBACK_SPEED:"".concat("AtlasAPI",".playbackSpeed"),SEEK:"".concat("AtlasAPI",".seek"),SET_OPTION:"".concat("AtlasAPI",".setOption"),UPDATE_HASHES:"".concat("AtlasAPI",".updateHashes"),VOLUME:"".concat("AtlasAPI",".volume"),CAPTIONS:"".concat("AtlasAPI",".captions"),CAPTION_POSITION:"".concat("AtlasAPI",".captionPosition"),SELECT_AUDIO:"".concat("AtlasAPI",".selectAudio"),SUSPEND:"".concat("AtlasAPI",".suspend"),WAKE:"".concat("AtlasAPI",".wake"),CLEANUP:"".concat("AtlasAPI",".cleanup"),UPDATE_OPTIONS:"".concat("AtlasAPI",".updateOptions"),SET_MAX_MEMORY_USAGE:"".concat("AtlasAPI",".setMaxMemoryUsage")},M="Options",U=p.create(M);function x(e){return k?k[e]:void 0}function j(e){return"number"==typeof e&&e>0&&e<1/0}var F={init:function(){k||(k=Object.assign({},N))},get:x,set:function(e,t,n){if(k[e]===t)return!1;var r=!0;switch(e){case R.MINIMUM_REMAINING_THRESHOLD:r=function(e){return!!j(e)&&(k[R.MINIMUM_REMAINING_THRESHOLD]=e,!0)}(t);break;case R.MOVING_WINDOW_INTERVAL_DELAY:r=function(e,t){return!(n||!j(e)||(k[R.MOVING_WINDOW_INTERVAL_DELAY]=e,0))}(t);break;case R.CONCURRENT_DOWNLOAD_COUNT:r=function(e){return!!j(e)&&(k[R.CONCURRENT_DOWNLOAD_COUNT]=e,!0)}(t);break;case R.QUALITY_SWITCH_BUFFER_THRESHOLD:r=function(e){return!(!j(e)&&0!==e||(k[R.QUALITY_SWITCH_BUFFER_THRESHOLD]=e,0))}(t);break;case R.VIDEO_TAG_ATTRIBUTES:r=function(e){return k[R.VIDEO_TAG_ATTRIBUTES]=e,!0}(t);break;case R.CHUNK_PRELOAD_COUNT:r=function(e){return!!j(e)&&(e>20&&U.warn('"'+R.CHUNK_PRELOAD_COUNT+'" is too high, the recommended maximum is 20'),k[R.CHUNK_PRELOAD_COUNT]=e,!0)}(t);break;case R.MEMORY_LIMIT_IN_BYTES:r=function(e){return!!j(e)&&(e<5242880?U.warn('"'+R.MEMORY_LIMIT_IN_BYTES+'" is too low, the recommended minimum is 5242880'):e>1073741824&&U.warn('"'+R.MEMORY_LIMIT_IN_BYTES+'" is too high, the recommended maximum is 1073741824'),k[R.MEMORY_LIMIT_IN_BYTES]=e,!0)}(t);break;default:k[e]=t}return r&&function(e,t){L.dispatch(e,M,t)}(D.SET_OPTION,{name:e,value:x(e),externalCall:n}),r},cleanup:function(){k=!1}},V={},B={BASE:"MSEProxy",SOURCE_OBJECT_URL:"MSEProxy.sourceObjectURL",SOURCE_OPEN:"MSEProxy.sourceOpen",SOURCE_CLOSE:"MSEProxy.sourceClose",SOURCE_BUFFER_ADDED:"MSEProxy.sourceBufferAdded",SOURCE_BUFFER_REMOVED:"MSEProxy.sourceBufferRemoved"};function H(e,t){for(var n=0;t&&n<t.length;++n)if(t[n].start<=e&&t[n].end>=e)return t[n];return null}var G={buffered:function(e){for(var t=[],n=0;n<e.length;++n)t.push({start:Math.floor(1e3*e.start(n)),end:Math.floor(1e3*e.end(n))});return t},current:H,next:function(e,t){for(var n=0;n<t.length&&!(t[n].start>e);)n++;return n<t.length?t[n]:null},remaining:function(e,t){var n=H(e,t);return n?n.end-e:0},remainingTotal:function(e,t){for(var n=0,r=0;r<t.length;++r)t[r].end>e&&(n+=t[r].end-Math.max(t[r].start,e));return n},intersect:function(e,t){if(!e&&!t)return[];if(e&&!t)return e;for(var n=0,r=0,o=[];n<e.length&&r<t.length;){var a=Math.max(e[n].start,t[r].start),i=Math.min(e[n].end,t[r].end);a<i&&o.push({start:a,end:i}),e[n].end<t[r].end?n++:t[r].end<e[n].end?r++:(n++,r++)}return o}},q={create:function(e){var t=[];function n(){for(;e&&t&&t.length;)e.removeEventListener(t[0].type,t[0].closure),t.shift()}return{addListener:function(n,r){t&&(t.push({type:n,closure:r}),e&&e.addEventListener(n,r))},removeListener:function(n,r){for(var o=0;t&&o<t.length;++o)t[o].type===n&&t[o].closure===r&&(t.splice(o--,1),e&&e.removeEventListener(n,r))},clearListeners:n,setTarget:function(n){!function(){for(var n=0;e&&t&&n<t.length;++n)e.removeEventListener(t[n].type,t[n].closure)}(),e=n,function(){for(var n=0;e&&t&&n<t.length;++n)e.addEventListener(t[n].type,t[n].closure)}()},destroy:function(){n(),t=null,e=null}}}},z={BYTES:"bytes",REMOVE:"remove",PURGE:"purge"},W="updateend",K="error",Y="abort";function Q(e,t){L.dispatch(e,"ActionQueue",t)}var Z={create:function(e,t){var n=p.create("ActionQueue."+t),r=[],o=!1,a=q.create(e);function i(){L.removeListener(b.ERROR,m),L.removeListener(C.APPEND,u),L.removeListener(C.REMOVE,l),L.removeListener(C.PURGE,c),L.removeListener(B.SOURCE_CLOSE,i),L.removeListener(w.BUFFER_REMOVED,s),a.destroy(),r=null}function s(e){L.validateNotificationData(e,["bufferId"]),e.data.bufferId===t&&i()}function u(e){L.validateNotificationData(e,["streamId","bufferId","start","end","duration","bytes"]),e.data.bufferId===t&&f({streamId:e.data.streamId,type:z.BYTES,start:e.data.start,end:e.data.end,duration:e.data.duration,bytes:e.data.bytes})}function l(e){L.validateNotificationData(e,["streamId","bufferId","start","end"]),e.data.bufferId===t&&f({streamId:e.data.streamId,type:z.REMOVE,start:e.data.start,end:e.data.end})}function c(e){L.validateNotificationData(e,["streamId","bufferId"]),e.data.bufferId===t&&f({streamId:e.data.streamId,type:z.PURGE})}function f(e){o?(e.type===z.PURGE&&(r=[]),r.push(e)):d(e)}function d(a){switch(a.type){case z.BYTES:n.debug("execute action",{streamId:a.streamId,type:a.type,start:a.start,end:a.end,duration:a.duration,length:a.bytes.length}),e.appendBuffer(a.bytes);break;case z.REMOVE:n.debug("execute action",{streamId:a.streamId,type:a.type,start:a.start,end:a.end}),e.remove(a.start/1e3,a.end/1e3);break;case z.PURGE:if(n.debug("execute action",{streamId:a.streamId,type:a.type,bufferedLength:e.buffered.length,actionsLength:r.length}),!e.buffered.length)return void h();e.remove(e.buffered.start(0),e.buffered.end(e.buffered.length-1))}o||(o=!0,Q(C.BUFFER_UPDATING,{bufferId:t}))}function h(){r.length?d(r.shift()):(o=!1,Q(C.BUFFER_UPDATED,{bufferId:t,ranges:G.buffered(e.buffered)}))}function m(){r=[],o=!1,n.error("onVideoTagError")}return L.addListener(b.ERROR,m),L.addListener(C.APPEND,u),L.addListener(C.REMOVE,l),L.addListener(C.PURGE,c),L.addListener(B.SOURCE_CLOSE,i),L.addListener(w.BUFFER_REMOVED,s),a.addListener(W,h),a.addListener(K,function(){r=[],n.error("onError")}),a.addListener(Y,function(){n.warn("abort")}),{bufferId:t,sourceBuffer:e}}},X={BASE:"Component",CREATE:"Component.create",DESTROY:"Component.destroy"};function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var $="undefined",ee="Shockwave Flash",te="ShockwaveFlash.ShockwaveFlash",ne="application/x-shockwave-flash",re=navigator,oe=re.mimeTypes,ae=re.userAgent.toLowerCase(),ie=re.platform.toLowerCase();function se(){var e=/android/i.test(ae);return e&&(e=ae.match(/android (\d+)(?:\.(\d+))?(?:\.(\d+))?/i)).shift(),e}function ue(){var e=/iphone|ipad|ipod/.test(ae);return e&&(e=ae.match(/os (\d*)?\_?(\d*)?\_?(\d*)/i)).shift(),e}function le(){return/BB10(.*)Mobile/i.test(ae)}function ce(){return ae.indexOf("playstation")>-1}function fe(){var e=/chrome/i.test(ae);return e&&!de()&&(e=ae.match(/chrome\/(\d*)\.(\d*)?\.?(\d*)/i)).shift(),e}function de(){var e=!1;return void 0!==window.opera&&"[object Opera]"===window.opera.toString()?e=window.opera.version().split("."):navigator&&(e=ae.match(/opr\/(\d+)\.(\d+)\.(\d+)\.(\d+)/i)),e}function pe(){var e,t;if(J(window.ActiveXObject)===$)return!1;try{if(e=new window.ActiveXObject(te))return!(t=e.GetVariable("$version"))||(t=t.split(" ")[1].split(","),[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)])}catch(e){}return!1}var he={win:/win/.test(ie||ae),mac:/mac/.test(ie||ae),desktop:!(se()||ue()||le()||ce()),ios:ue(),android:se(),blackberry:le(),playstation:ce(),chrome:fe(),opera:de(),ff:/firefox/.test(ae),safari:/safari/.test(ae)&&!fe()&&!de(),ie:function(){var e=document.getElementsByTagName("html")[0].className.indexOf("ie ")>-1;return e||(e=ae.indexOf("trident")>-1),e}(),ssl:/https/.test(location.protocol),swf:function(){var e,t=[0,0,0];return J(re.plugins)!==$&&"object"===J(re.plugins[ee])?!(e=re.plugins[ee].description)||J(oe)!==$&&oe[ne]&&!oe[ne].enabledPlugin||(e=e.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),t[0]=+e.replace(/^(.*)\..*$/,"$1"),t[1]=+e.replace(/^.*\.(.*)\s.*$/,"$1"),t[2]=/[a-zA-Z]/.test(e)?+e.replace(/^.*[a-zA-Z]+(.*)$/,"$1"):0):pe()&&(t=pe()),"000"===t.join("")&&(t=!1),t}(),flashPPAPI:function(){var e=oe&&oe[ne]&&oe[ne].enabledPlugin&&oe[ne].enabledPlugin.filename||"";return"pepflashplayer.dll"===(e=e.toLowerCase())||"libpepflashplayer.so"===e||"pepperflashplayer.plugin"===e||"chrome.plugin"===e.slice(-13)}(),flashActiveX:pe(),nav:{appCodeName:re.appCodeName,appName:re.appName,appVersion:re.appVersion,cpuClass:re.cpuClass,platform:re.platform,product:re.product,userAgent:re.userAgent,vendor:re.vendor,vendorSub:re.vendorSub}},me={UINT32_MAX_VALUE:4294967295,HLS_MIME_TYPE:"application/vnd.apple.mpegURL",VERSION:"3.34.2",MINIMUM_AVAILABLE_CONTENT_AFTER_SEEK:250,DOWNLOAD_RETRY_DELAY:1e3},ve="MSEProxy",ye=p.create(ve),ge={SOURCE_OPEN:"sourceopen",SOURCE_ENDED:"sourceended",SOURCE_CLOSE:"sourceclose"},be=window.MediaSource||window.WebKitMediaSource;function Ee(e,t){L.dispatch(e,ve,t)}function Se(){return!!be}ye.info(he.nav.appName+" "+he.nav.appVersion);var Te=function(e){var t,n,r={};function o(){L.removeListener(D.SUSPEND,o),L.addListener(D.WAKE,a),l()}function a(){L.removeListener(D.WAKE,a),L.addListener(D.SUSPEND,o),u()}function i(e){L.validateNotificationData(e,["bufferId","contentType"]);var t=e.data.contentType.indexOf("vtt")>-1;r[e.data.bufferId]||t?t||ye.warn("there is already a sourceBuffer for "+e.data.bufferId):(r[e.data.bufferId]=Z.create(n.addSourceBuffer(e.data.contentType),e.data.bufferId),ye.debug("created sourceBuffer for "+e.data.bufferId),Ee(B.SOURCE_BUFFER_ADDED,{bufferId:e.data.bufferId}))}function s(e){if(L.validateNotificationData(e,["bufferId"]),r[e.data.bufferId]){try{n.removeSourceBuffer(r[e.data.bufferId].sourceBuffer)}catch(e){}delete r[e.data.bufferId],Ee(B.SOURCE_BUFFER_REMOVED,{bufferId:e.data.bufferId})}else ye.warn("there is no sourceBuffer for "+e.data.bufferId)}function u(){n=new be,t.setTarget(n),Ee(B.SOURCE_OBJECT_URL,{source:URL.createObjectURL(n)})}function l(){n=null,r={},Ee(B.SOURCE_CLOSE)}function c(t){switch(ye.debug("onMediaSourceEvent",t),t.type){case ge.SOURCE_OPEN:n.duration=e&&e<1/0?e/1e3:me.UINT32_MAX_VALUE,Ee(B.SOURCE_OPEN);break;case ge.SOURCE_CLOSE:for(var o in r)r.hasOwnProperty(o)&&(Ee(B.SOURCE_BUFFER_REMOVED,{bufferId:r[o].bufferId}),delete r[o]);Ee(B.SOURCE_CLOSE)}}return ye.debug("create"),(t=q.create()).addListener(ge.SOURCE_OPEN,c),t.addListener(ge.SOURCE_ENDED,c),t.addListener(ge.SOURCE_CLOSE,c),u(),L.addListener(w.BUFFER_ADDED,i),L.addListener(w.BUFFER_REMOVED,s),L.addListener(D.CLEANUP,function e(){L.removeListener(w.BUFFER_ADDED,i),L.removeListener(w.BUFFER_REMOVED,s),L.removeListener(D.CLEANUP,e),L.removeListener(D.SUSPEND,o),L.removeListener(D.WAKE,a),l(),t.destroy(),t=null,Ee(X.DESTROY)}),L.addListener(D.SUSPEND,o),Ee(X.CREATE),{name:ve}},Oe=Se(),Ce=function(e){return!!Se()&&be.isTypeSupported(e)},we=function(){var e,t,n,r,o,a,i="undefined",s="object",u="application/x-shockwave-flash",l="SWFObjectExprInst",c=window,f=document,d=navigator,p=!1,h=[],m=[],v=[],y=[],g=!1,b=!1,E=!0,S=!1,T=function(){var e=typeof f.getElementById!==i&&typeof f.getElementsByTagName!==i&&typeof f.createElement!==i,t=d.userAgent.toLowerCase(),n=d.platform.toLowerCase(),r=/win/.test(n||t),o=/mac/.test(n||t),a=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),l="Microsoft Internet Explorer"===d.appName,h=[0,0,0],m=null;if(typeof d.plugins!==i&&typeof d.plugins["Shockwave Flash"]===s)(m=d.plugins["Shockwave Flash"].description)&&typeof d.mimeTypes!==i&&d.mimeTypes[u]&&d.mimeTypes[u].enabledPlugin&&(p=!0,l=!1,m=m.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),h[0]=j(m.replace(/^(.*)\..*$/,"$1")),h[1]=j(m.replace(/^.*\.(.*)\s.*$/,"$1")),h[2]=/[a-zA-Z]/.test(m)?j(m.replace(/^.*[a-zA-Z]+(.*)$/,"$1")):0);else if(typeof c.ActiveXObject!==i)try{var v=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");v&&(m=v.GetVariable("$version"))&&(l=!0,h=[j((m=m.split(" ")[1].split(","))[0]),j(m[1]),j(m[2])])}catch(e){}return{w3:e,pv:h,wk:a,ie:l,win:r,mac:o}}();function O(){if(!g&&document.getElementsByTagName("body")[0]){try{var e,t=x("span");t.style.display="none",(e=f.getElementsByTagName("body")[0].appendChild(t)).parentNode.removeChild(e),e=null,t=null}catch(e){return}g=!0;for(var n=h.length,r=0;r<n;r++)h[r]()}}function C(e){g?e():h[h.length]=e}function w(){var e=m.length;if(e>0)for(var t=0;t<e;t++){var n=m[t].id,r=m[t].callbackFn,o={success:!1,id:n};if(T.pv[0]>0){var a=U(n);if(a)if(!F(m[t].swfVersion)||T.wk&&T.wk<312)if(m[t].expressInstall&&P()){var s={};s.data=m[t].expressInstall,s.width=a.getAttribute("width")||"0",s.height=a.getAttribute("height")||"0",a.getAttribute("class")&&(s.styleclass=a.getAttribute("class")),a.getAttribute("align")&&(s.align=a.getAttribute("align"));for(var u={},l=a.getElementsByTagName("param"),c=l.length,f=0;f<c;f++)"movie"!==l[f].getAttribute("name").toLowerCase()&&(u[l[f].getAttribute("name")]=l[f].getAttribute("value"));I(s,u,n,r)}else L(a),r&&r(o);else B(n,!0),r&&(o.success=!0,o.ref=_(n),o.id=n,r(o))}else if(B(n,!0),r){var d=_(n);d&&typeof d.SetVariable!==i&&(o.success=!0,o.ref=d,o.id=d.id),r(o)}}}function _(e){var t=null,n=U(e);return n&&"OBJECT"===n.nodeName.toUpperCase()&&(t=typeof n.SetVariable!==i?n:n.getElementsByTagName(s)[0]||n),t}function P(){return!b&&F("6.0.65")&&(T.win||T.mac)&&!(T.wk&&T.wk<312)}function I(o,a,s,u){var d=U(s);if(s=M(s),b=!0,n=u||null,r={success:!1,id:s},d){"OBJECT"===d.nodeName.toUpperCase()?(e=R(d),t=null):(e=d,t=s),o.id=l,(typeof o.width===i||!/%$/.test(o.width)&&j(o.width)<310)&&(o.width="310"),(typeof o.height===i||!/%$/.test(o.height)&&j(o.height)<137)&&(o.height="137");var p=T.ie?"ActiveX":"PlugIn",h="MMredirectURL="+encodeURIComponent(c.location.toString().replace(/&/g,"%26"))+"&MMplayerType="+p+"&MMdoctitle="+encodeURIComponent(f.title.slice(0,47)+" - Flash Player Installation");if(typeof a.flashvars!==i?a.flashvars+="&"+h:a.flashvars=h,T.ie&&4!=d.readyState){var m=x("div");s+="SWFObjectNew",m.setAttribute("id",s),d.parentNode.insertBefore(m,d),d.style.display="none",N(d)}A(o,a,s)}}function L(e){if(T.ie&&4!=e.readyState){e.style.display="none";var t=x("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(R(e),t),N(e)}else e.parentNode.replaceChild(R(e),e)}function R(e){var t=x("div");if(T.win&&T.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(s)[0];if(n){var r=n.childNodes;if(r)for(var o=r.length,a=0;a<o;a++)1==r[a].nodeType&&"PARAM"===r[a].nodeName||8==r[a].nodeType||t.appendChild(r[a].cloneNode(!0))}}return t}function A(e,t,n){var r,o=U(n);if(n=M(n),T.wk&&T.wk<312)return r;if(o){var a,l,c,f=T.ie?x("div"):x(s);for(c in typeof e.id===i&&(e.id=n),t)t.hasOwnProperty(c)&&"movie"!==c.toLowerCase()&&k(f,c,t[c]);for(a in T.ie&&(f=function(e,t){var n=x("div");return n.innerHTML="<object classid='clsid:D27CDB6E-AE6D-11cf-96B8-444553540000'><param name='movie' value='"+e+"'>"+t+"</object>",n.firstChild}(e.data,f.innerHTML)),e)e.hasOwnProperty(a)&&("styleclass"===(l=a.toLowerCase())?f.setAttribute("class",e[a]):"classid"!==l&&"data"!==l&&f.setAttribute(a,e[a]));T.ie?v[v.length]=e.id:(f.setAttribute("type",u),f.setAttribute("data",e.data)),o.parentNode.replaceChild(f,o),r=f}return r}function k(e,t,n){var r=x("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function N(e){var t=U(e);t&&"OBJECT"===t.nodeName.toUpperCase()&&(T.ie?(t.style.display="none",function e(){if(4==t.readyState){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}else setTimeout(e,10)}()):t.parentNode.removeChild(t))}function D(e){return e&&e.nodeType&&1===e.nodeType}function M(e){return D(e)?e.id:e}function U(e){if(D(e))return e;var t=null;try{t=f.getElementById(e)}catch(e){}return t}function x(e){return f.createElement(e)}function j(e){return parseInt(e,10)}function F(e){e+="";var t=T.pv,n=e.split(".");return n[0]=j(n[0]),n[1]=j(n[1])||0,n[2]=j(n[2])||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]}function V(e,t,n,r){var s=f.getElementsByTagName("head")[0];if(s){var u="string"==typeof n?n:"screen";if(r&&(o=null,a=null),!o||a!=u){var l=x("style");l.setAttribute("type","text/css"),l.setAttribute("media",u),o=s.appendChild(l),T.ie&&typeof f.styleSheets!==i&&f.styleSheets.length>0&&(o=f.styleSheets[f.styleSheets.length-1]),a=u}o&&(typeof o.addRule!==i?o.addRule(e,t):typeof f.createTextNode!==i&&o.appendChild(f.createTextNode(e+" {"+t+"}")))}}function B(e,t){if(E){var n=t?"visible":"hidden",r=U(e);g&&r?r.style.visibility=n:"string"==typeof e&&V("#"+e,"visibility:"+n)}}function H(e){return null!==/[\\\"<>\.;]/.exec(e)&&typeof encodeURIComponent!==i?encodeURIComponent(e):e}return T.w3&&((typeof f.readyState!==i&&("complete"===f.readyState||"interactive"===f.readyState)||typeof f.readyState===i&&(f.getElementsByTagName("body")[0]||f.body))&&O(),g||(typeof f.addEventListener!==i&&f.addEventListener("DOMContentLoaded",O,!1),T.ie&&(f.attachEvent("onreadystatechange",function e(){"complete"===f.readyState&&(f.detachEvent("onreadystatechange",e),O())}),c==top&&function e(){if(!g){try{f.documentElement.doScroll("left")}catch(t){return void setTimeout(e,0)}O()}}()),T.wk&&function e(){g||(/loaded|complete/.test(f.readyState)?O():setTimeout(e,0))}())),h[0]=function(){p?function(){var e=f.getElementsByTagName("body")[0],t=x(s);t.setAttribute("style","visibility: hidden;"),t.setAttribute("type",u);var n=e.appendChild(t);if(n){var r=0;!function o(){if(typeof n.GetVariable!==i)try{var a=n.GetVariable("$version");a&&(a=a.split(" ")[1].split(","),T.pv=[j(a[0]),j(a[1]),j(a[2])])}catch(e){T.pv=[8,0,0]}else if(r<10)return r++,void setTimeout(o,10);e.removeChild(t),n=null,w()}()}else w()}():w()},T.ie&&window.attachEvent("onunload",function(){for(var e=y.length,t=0;t<e;t++)y[t][0].detachEvent(y[t][1],y[t][2]);for(var n=v.length,r=0;r<n;r++)N(v[r]);for(var o in T)T[o]=null;for(var a in T=null,we)we[a]=null;we=null}),{registerObject:function(e,t,n,r){if(T.w3&&e&&t){var o={};o.id=e,o.swfVersion=t,o.expressInstall=n,o.callbackFn=r,m[m.length]=o,B(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){if(T.w3)return _(e)},embedSWF:function(e,t,n,r,o,a,u,l,c,f){var d=M(t),p={success:!1,id:d};T.w3&&!(T.wk&&T.wk<312)&&e&&t&&n&&r&&o?(B(d,!1),C(function(){n+="",r+="";var h={};if(c&&typeof c===s)for(var m in c)h[m]=c[m];h.data=e,h.width=n,h.height=r;var v={};if(l&&typeof l===s)for(var y in l)v[y]=l[y];if(u&&typeof u===s)for(var g in u)if(u.hasOwnProperty(g)){var b=S?encodeURIComponent(g):g,E=S?encodeURIComponent(u[g]):u[g];typeof v.flashvars!==i?v.flashvars+="&"+b+"="+E:v.flashvars=b+"="+E}if(F(o)){var T=A(h,v,t);h.id==d&&B(d,!0),p.success=!0,p.ref=T,p.id=T.id}else{if(a&&P())return h.data=a,void I(h,v,t,f);B(d,!0)}f&&f(p)})):f&&f(p)},switchOffAutoHideShow:function(){E=!1},enableUriEncoding:function(e){S=typeof e===i||e},ua:T,getFlashPlayerVersion:function(){return{major:T.pv[0],minor:T.pv[1],release:T.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(e,t,n){return T.w3?A(e,t,n):void 0},showExpressInstall:function(e,t,n,r){T.w3&&P()&&I(e,t,n,r)},removeSWF:function(e){T.w3&&N(e)},createCSS:function(e,t,n,r){T.w3&&V(e,t,n,r)},addDomLoadEvent:C,addLoadEvent:function(e){if(typeof c.addEventListener!==i)c.addEventListener("load",e,!1);else if(typeof f.addEventListener!==i)f.addEventListener("load",e,!1);else if(typeof c.attachEvent!==i)!function(e,t,n){e.attachEvent(t,n),y[y.length]=[e,t,n]}(c,"onload",e);else if("function"==typeof c.onload){var t=c.onload;c.onload=function(){t(),e()}}else c.onload=e},getQueryParamValue:function(e){var t=f.location.search||f.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),!e)return H(t);for(var n=t.split("&"),r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return H(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(b){var o=U(l);o&&e&&(o.parentNode.replaceChild(e,o),t&&(B(t,!0),T.ie&&(e.style.display="block")),n&&n(r)),b=!1}},version:"2.3"}}(),_e=we,Pe={random:function(e,t,n,r){var o,a="",i="";if((void 0===t||t)&&(a+="abcdefghijklmnopqrstuvwxyz"),n&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),r&&(a+="0123456789"),a.length)for(o=0;o<e;++o)i+=a.substr(Math.floor(a.length*Math.random()),1);return i},hash:function(e,t){for(var n=0,r=0;r<e.length;++r)n=(1&n)<<31|n>>>1,n^=e.charCodeAt(r);return function(e,t){for(var n="",r=0;r<Math.ceil(t/4);++r)n=(15&e).toString(16)+n,e>>>=4;return n}(n,t)},leadingZero:function(e,t){for(var n="0";n.length<t;)n+=n;return(n+e).substr(-t,t)}},Ie="FlashProxy",Le="window.ustream.",Re=p.create(Ie);function Ae(e,t){L.dispatch(e,Ie,t)}Re.info("FlashPlayer version",{version:he.swf});var ke=function(e,t){var n,r,o=function(e){var t=F.get(R.FLASH_PROXY_URL_SECURE),n=F.get(R.FLASH_PROXY_URL_PLAIN);if(void 0!==t&&void 0!==n)return"".concat(he.ssl?t:n,"/player/atlas/atlas-").concat(me.VERSION,".swf");Re.error("flash url is missing")}(),a="atlas."+Pe.random(3);function i(e){e.type===m.LOG?p.log(e.data.source,e.data.line,e.data.data,e.data.level):0!==e.originId.indexOf("Flash:")&&r&&r.dispatch(e.type,e.originId,e.data?encodeURIComponent(JSON.stringify(e.data)):null)}return(n=function(e){var t=(Le+a).split("."),n=window;for(t.shift();t.length;)n[t[0]]||(n[t[0]]={}),n=n[t.shift()];return n}()).ready=function(){r=document.getElementById(a),Ae(X.CREATE)},n.dispatch=function(e){L.dispatch(e.type,e.originId,e.data?JSON.parse(decodeURIComponent(e.data)):null)},function(){var t=document.createElement("div");t.id=a,document.getElementById(e).appendChild(t);var n={url:o,width:"100%",height:"100%",minVersion:"11.0.0",params:{wmode:"opaque",allowfullscreen:!0,bgcolor:"#000000",allowscriptaccess:"always"},flashVars:{cpath:Le+a}};_e.embedSWF(n.url,a,n.width,n.height,n.minVersion,null,n.flashVars,n.params),V.player={type:"flash",id:a}}(),L.addListener("*",i),L.addListener(D.CLEANUP,function e(){L.removeListener("*",i),L.removeListener(D.CLEANUP,e),r&&r.parentNode.removeChild(r),delete V.player,function(e){var t=(Le+a).split("."),n=window;for(t.shift();t.length>1;)n=n[t.shift()];delete n[t.shift()]}(),Ae(X.DESTROY)}),{name:Ie}},Ne=he.swf[0]>=11&&!he.safari,De={BASE:"videoTagHandler",PAUSE:"videoTagHandler.pause",PLAY:"videoTagHandler.play",SEEK:"videoTagHandler.seek"},Me="coldStart";function Ue(e,t){L.dispatch(e,Me,t)}var xe={create:function(){var e=p.create(Me),t=!1;function n(){L.addListener(O.LOADED_METADATA,o),L.addListener(O.CAN_PLAY_THROUGH,c),L.addListener(O.DURATION_CHANGE,u)}function r(){L.removeListener(O.LOADED_METADATA,o),L.removeListener(O.CAN_PLAY_THROUGH,c),L.removeListener(O.DURATION_CHANGE,u),L.removeListener(O.PROGRESS,l)}function o(){L.removeListener(O.LOADED_METADATA,o),he.ios&&Ue(De.PLAY)}function a(){L.removeListener(O.TIME_UPDATE,a),t=!0}function i(){t||(L.removeListener(O.TIME_UPDATE,a),r()),L.removeListener(D.SUSPEND,i),L.addListener(D.WAKE,s)}function s(){L.removeListener(D.WAKE,s),L.addListener(D.SUSPEND,i),t||(L.addListener(O.TIME_UPDATE,a),n())}function u(t){e.debug("onDurationChange"),L.removeListener(O.DURATION_CHANGE,u),f(t)||L.addListener(O.PROGRESS,l)}function l(t){e.debug("onProgress"),f(t)}function c(){r(),Ue(De.PLAY)}function f(t){L.validateNotificationData(t,["buffered"]);var n=G.remainingTotal(0,t.data.buffered,!0),r=F.get(R.COLDSTART_THRESHOLD);return e.debug("checkBufferOnColdStart",{buffered:t.data.buffered,remaining:n}),n>r&&n<1/0&&(e.info("buffer full, starting playback"),c(),!0)}return L.addListener(D.CLEANUP,function e(){L.removeListener(D.CLEANUP,e),L.removeListener(D.SUSPEND,i),L.removeListener(D.WAKE,s),L.removeListener(O.TIME_UPDATE,a),r(),t=!1,Ue(X.DESTROY)}),L.addListener(D.SUSPEND,i),L.addListener(O.TIME_UPDATE,a),n(),{name:Me}}},je="buffercollector";function Fe(e,t){L.dispatch(e,je,t)}var Ve={create:function(){var e,t=p.create(je),n=!1;function r(){n=!0}function o(){n=!1}function a(){n&&(t.debug("buffercollector - bufferempty stop stream (PAUSE)"),Fe(De.PAUSE),L.removeListener(O.PROGRESS,s),L.removeListener(O.TIME_UPDATE,s),L.addListener(O.PROGRESS,s),L.addListener(O.TIME_UPDATE,s))}function i(){t.debug("buffercollector - delay is over start stream (PLAY)"),Fe(De.PLAY)}function s(n){L.validateNotificationData(n,["position","buffered"]);var r=F.get(R.BUFFER_COLLECT_DELAY_IN_MILLISEC),o=G.remainingTotal(n.data.position,n.data.buffered,!0);o>0&&o<1/0&&(t.debug("buffercollector - buffer collected, start delay"),e=setTimeout(i,r),L.removeListener(O.TIME_UPDATE,s),L.removeListener(O.PROGRESS,s))}return L.addListener(D.CLEANUP,function t(){L.removeListener(D.CLEANUP,t),L.removeListener(O.WAITING,r),L.removeListener(O.PLAYING,o),L.removeListener(b.BUFFER_EMPTY,a),L.removeListener(O.PROGRESS,s),e=clearTimeout(e),Fe(X.DESTROY)}),L.addListener(O.WAITING,r),L.addListener(O.PLAYING,o),L.addListener(b.BUFFER_EMPTY,a),{name:je}}},Be="mseBuffered";function He(e,t){L.dispatch(e,Be,t)}var Ge={create:function(){var e=100,t=500,n=!0;function r(r){L.validateNotificationData(r,["position","buffered"]);var o=G.remaining(r.data.position,r.data.buffered);!n&&o<e?(n=!0,He(b.BUFFER_EMPTY,{position:r.data.position})):n&&o>t&&(n=!1,He(b.BUFFER_FULL))}return L.addListener(O.TIME_UPDATE,r),L.addListener(O.PROGRESS,r),L.addListener(O.STALLED,r),L.addListener(D.CLEANUP,function e(){L.removeListener(O.TIME_UPDATE,r),L.removeListener(O.PROGRESS,r),L.removeListener(O.STALLED,r),L.removeListener(D.CLEANUP,e),He(X.DESTROY)}),{name:Be}}},qe={BASE:"GapRecovery",GAP_RECOVERING:"GapRecovery.gapRecovering"},ze={FAKE_FIRST_SAMPLE_AS_IDR:!0,USE_INTERVAL_TO_DETECT_CONTENT_END:he.chrome||he.safari,OFFSET_FRAGMENTS_TO_ZERO:!1,INFINITE_THRESHOLD_WHILE_PLAYING_LIVE:!0,SEEK_WITHOUT_RAP:!0,ZERO_BYTE_SEGMENT:!0},We="mseGapRecovery",Ke="gap detected";function Ye(e,t){L.dispatch(e,We,t)}var Qe,Ze,Xe={create:function(){var e=p.create("gapRecovery"),t=null,n=null,r=null,o=0;function a(){L.addListener(O.PROGRESS,s),L.addListener(O.STALLED,s)}function i(){L.removeListener(O.PROGRESS,s),L.removeListener(O.STALLED,s),L.removeListener(O.WAITING,l)}function s(a){L.validateNotificationData(a,["position","buffered"]),o=a.data.position;var i=G.current(o,a.data.buffered),s=G.next(o,a.data.buffered);if(r=s?s.start:null,!i&&s)e.warn(Ke),l();else if(i&&s&&n!==i.end){var c=(n=i.end)-o;e.warn(Ke,{playPosition:o,gapPosition:n,remainingUntilGap:c})}else null===n||s||(n=null,e.warn("gap cleared"));ze.USE_INTERVAL_TO_DETECT_CONTENT_END&&(null!==n&&null!==r?function(e){null===t&&(t=setTimeout(l,Math.max(0,n-e-66)))}(o):u()),L.removeListener(O.WAITING,l),null!==n&&L.addListener(O.WAITING,l)}function u(){null!==t&&(clearInterval(t),t=null)}function l(){L.removeListener(O.WAITING,l),ze.USE_INTERVAL_TO_DETECT_CONTENT_END&&u(),Ye(qe.GAP_RECOVERING,{position:r,gapLength:n?r-n:r-o}),Ye(De.PAUSE),Ye(De.SEEK,{position:r}),Ye(De.PLAY),e.warn("gap recovered",{playPosition:r}),n=null,r=null}function c(){u(),i(),L.removeListener(De.SEEK,f),L.addListener(De.SEEK,f,L.MINIMUM_PRIORITY)}function f(){L.removeListener(De.SEEK,f),a()}return L.addListener(D.CLEANUP,function e(){L.removeListener(D.CLEANUP,e),L.removeListener(D.SEEK,c),i(),L.removeListener(De.SEEK,f),u(),Ye(X.DESTROY)}),L.addListener(D.SEEK,c),a(),{name:We}}},Je="mseStalledRecovery",$e=1e3;function et(e,t){L.dispatch(e,Je,t)}var tt={create:function(){var e,t=p.create(Je),n=void 0,r=0,o=!1;function a(){o=!0}function i(){o=!1}function s(){e&&u(),o?t.debug("The stalled events are not handled when the buffer is empty"):e=setTimeout(c,$e)}function u(){e=clearTimeout(e)}function l(e){L.validateNotificationData(e,["start","end"]),(Qe=Qe||[]).push(e.data)}function c(){if(et(b.UNRECOVERED_STALLED,{position:n,remaining:r}),void 0===n||V.isLive&&0===n)return t.warn("unrecovered stalled event, but no playPosition for repair seek"),void s();t.warn("unrecovered stalled event, dispatching seek for repair"),e=void 0;var o=F.get(R.MOVING_WINDOW_INTERVAL_DELAY);et(D.SEEK,{position:n+o})}function f(e){L.validateNotificationData(e,["position"]),e.data.position>Ze&&(Qe=void 0,S(),L.addListener(O.STALLED,m))}function d(e){e.data.position!==n&&u(),y(e)}function m(t){y(t),e||s()}function v(e){var r=function(e){if(!Qe)return null;var t,n;for(n=0;n<Qe.length;n++)if(e<=(t=Qe[n]).end&&e>=t.start)return t;return null}(n);ze.SEEK_WITHOUT_RAP&&r?0!==r.start?et(D.SEEK,{position:r.start-1}):t.warn("would have tried to seek before 0 position"):m(e)}function y(e){L.validateNotificationData(e,["position","remaining"]),n=e.data.position,r=e.data.remaining}function g(){L.removeListener(O.STALLED,m),u()}function E(){L.addListener(O.STALLED,m)}function S(){L.removeListener(h.MISSING_RAP_AT_RANGE,l),L.removeListener(O.STALLED,v),L.removeListener(O.TIME_UPDATE,f)}function T(e){L.validateNotificationData(e,["position"]),u(),L.removeListener(O.STALLED,m),n=e.data.position,Ze=n,S(),L.addListener(h.MISSING_RAP_AT_RANGE,l),L.addListener(O.STALLED,v),L.addListener(O.TIME_UPDATE,f)}return L.addListener(D.CLEANUP,function e(){L.removeListener(D.CLEANUP,e),L.removeListener(D.PAUSE,g),L.removeListener(D.RESUME,E),L.removeListener(D.SEEK,T),L.removeListener(O.TIME_UPDATE,d),L.removeListener(O.STALLED,m),L.removeListener(b.BUFFER_EMPTY,a),L.removeListener(b.BUFFER_FULL,i),S(),u(),et(X.DESTROY),o=!1}),L.addListener(D.PAUSE,g),L.addListener(D.RESUME,E),L.addListener(D.SEEK,T),L.addListener(O.TIME_UPDATE,d),L.addListener(O.STALLED,m),L.addListener(b.BUFFER_EMPTY,a),L.addListener(b.BUFFER_FULL,i),{name:Je}}},nt="mseSeek";function rt(e,t){L.dispatch(e,nt,t)}var ot={create:function(){var e=p.create(nt),t=null,n=!1;function r(){L.addListener(O.TIME_UPDATE,s,L.MAXIMUM_PRIORITY),L.addListener(O.SEEKED,s,L.MAXIMUM_PRIORITY)}function o(){L.removeListener(O.TIME_UPDATE,s),L.removeListener(O.SEEKED,s)}function a(){n=!0}function i(e){L.validateNotificationData(e,["position"]),n||rt(D.SEEK,{position:e.data.position}),n=!1}function s(e){L.validateNotificationData(e,["position","remaining"]),rt(b.POSITION,{position:e.data.position,remaining:e.data.remaining})}function u(e){L.validateNotificationData(e,["position"]),t=e.data.position,o(),L.removeListener(O.PROGRESS,l),L.addListener(O.PROGRESS,l),rt(De.PAUSE)}function l(n){if(L.validateNotificationData(n,["buffered"]),G.remainingTotal(t,n.data.buffered)>=me.MINIMUM_AVAILABLE_CONTENT_AFTER_SEEK){var o=Math.max(n.data.buffered[0].start,t);e.debug("onVideoProgressAfterSeek seeking to "+o+", seekPosition: "+t),rt(De.SEEK,{position:o}),rt(De.PLAY),r(),L.removeListener(O.PROGRESS,l),t=null}}return L.addListener(O.SEEKING,i),L.addListener(D.SEEK,u),L.addListener(De.SEEK,a),L.addListener(D.CLEANUP,function e(){L.removeListener(O.SEEKING,i),L.removeListener(D.SEEK,u),L.removeListener(De.SEEK,a),L.removeListener(D.CLEANUP,e),o(),L.removeListener(O.PROGRESS,l),n=!1,rt(X.DESTROY)}),r(),{name:nt}}},at="directSeek";function it(e,t){L.dispatch(e,at,t)}var st={create:function(){function e(e){L.validateNotificationData(e,["position"]),it(b.POSITION,{position:e.data.position})}return L.addListener(O.TIME_UPDATE,e),L.addListener(D.CLEANUP,function t(){L.removeListener(O.TIME_UPDATE,e),L.removeListener(D.CLEANUP,t),it(X.DESTROY)}),{name:at}}},ut={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4},lt="directBuffered";function ct(e,t){L.dispatch(e,lt,t)}var ft={create:function(){var e=!0,t=0;function n(n){L.validateNotificationData(n,["readyState"]),n.type===O.TIME_UPDATE&&(t=n.data.position),!e&&n.data.readyState<ut.HAVE_CURRENT_DATA?(e=!0,ct(b.BUFFER_EMPTY,{position:t})):e&&n.data.readyState>=ut.HAVE_CURRENT_DATA&&(e=!1,ct(b.BUFFER_FULL))}return L.addListener(O.BASE+".*",n),L.addListener(D.CLEANUP,function e(){L.removeListener(O.BASE+".*",n),L.removeListener(D.CLEANUP,e),ct(X.DESTROY)}),{name:lt}}},dt="directSeek";function pt(e,t){L.dispatch(e,dt,t)}var ht,mt,vt={create:function(){function e(e){L.validateNotificationData(e,["position"]),pt(De.SEEK,{position:e.data.position})}return L.addListener(D.SEEK,e),L.addListener(D.CLEANUP,function t(){L.removeListener(D.SEEK,e),L.removeListener(D.CLEANUP,t),pt(X.DESTROY)}),{name:dt}}},yt="VideoTagProxy",gt=p.create(yt);function bt(e,t){L.dispatch(e,yt,t)}function Et(){if(ht)return ht;var e,t,n,r="atlas.".concat(Pe.random(3)),o=Promise.resolve(),a=!0,i=!0,s=!1;function u(){if(mt){var e=Array.from(mt.textTracks||[]).filter(function(e){return e.language}).map(function(e){var t=e.id,n=e.label,r=e.language,o=e.mode;return{id:t,label:n,language:r,mode:void 0===o?"hidden":o}});bt(b.TEXT_TRACKS,e)}}function l(){var e=Array.from(mt.audioTracks||[]).filter(function(e){return e.language}).map(function(e){var t=e.id,n=e.label,r=e.language,o=e.enabled;return{id:t,label:n,language:r,enabled:void 0!==o&&o}});bt(b.AUDIO_TRACKS,e)}function c(){L.removeListener(D.SUSPEND,c),L.removeListener(h.STREAM_URL,A),L.removeListener(B.SOURCE_OBJECT_URL,A),n.setTarget(null),mt.onerror=null,t="",mt.src=t,L.addListener(D.WAKE,f),L.addListener(h.STREAM_URL,k),L.addListener(B.SOURCE_OBJECT_URL,k)}function f(){L.removeListener(D.WAKE,f),L.removeListener(h.STREAM_URL,k),L.removeListener(B.SOURCE_OBJECT_URL,k),n.setTarget(mt),mt.onerror=N,mt.src=t,L.addListener(D.SUSPEND,c),L.addListener(h.STREAM_URL,A),L.addListener(B.SOURCE_OBJECT_URL,A)}function d(e){L.validateNotificationData(e,["volume"]),mt.volume=e.data.volume}function p(e){L.validateNotificationData(e,["speed"]),mt.playbackRate=e.data.speed}function m(){gt.info("pausing"),a=!1,mt.pause()}function v(){mt.pause()}function y(){gt.info("resuming"),a=!0,C()}function g(e){if(mt&&mt.textTracks&&mt.textTracks.length){var t=function(e){return e>=mt.textTracks.length?0:e}(e.data.trackId),n=e.data.isVisible,r=Array.from(mt.textTracks),o=r.find(function(e){return"showing"===e.mode});o&&(o.mode="hidden"),n&&(r[t].mode="showing")}}function S(e){if(mt&&mt.audioTracks&&function(e){return Array.from(e).filter(function(e){return e.label}).length>1}(mt.audioTracks)){var t=Array.from(mt.audioTracks||[]).find(function(e){return e.enabled}),n=mt.audioTracks.getTrackById(e.data.id);if(!n||t.id===n.id)return;bt(h.LANGUAGE_CHANGE_STARTED,{activeStreamId:"audio:".concat(t.id),targetStreamId:"audio:".concat(n.id)}),t.enabled=!1,n.enabled=!0,setTimeout(function(){L.addListener(O.TIME_UPDATE,function e(){L.removeListener(O.TIME_UPDATE,e),bt(h.LANGUAGE_CHANGE_COMPLETED,{prevStreamId:"audio:".concat(t.id),activeStreamId:"audio:".concat(n.id)})})},500)}}function T(){C()}function C(){mt&&mt.paused&&a&&(o=o.then(function(){return mt.play()}).catch(function(e){return bt(b.PLAY_ERROR,{error:e})}))}function w(){mt.pause()}function _(e){L.validateNotificationData(e,["position"]),mt.currentTime=e.data.position/1e3}function P(e){var t=Math.floor(1e3*mt.currentTime),n=G.buffered(mt.buffered),r=G.remaining(t,n);if(e.type!==E.STALLED||!mt.paused)switch(bt("videoTagProxyEvents.".concat(e.type),{position:t,buffered:n,remaining:r,readyState:mt.readyState,networkState:mt.networkState}),e.type){case E.PROGRESS:bt(b.BUFFERED,{bufferId:"player",ranges:n});break;case E.TIME_UPDATE:i&&(gt.info("First timeUpdate event, the playback starts",{position:t,buffered:n,remaining:r}),i=!1),mt&&!s&&(u(),l(),s=!0);break;case E.LOADED_METADATA:mt&&he.safari&&bt(b.WEBKIT_SUPPORTS_FULLSCREEN,!!mt.webkitSupportsFullscreen)}}function I(e){switch(L.validateNotificationData(e,["source"]),e.type){case h.STREAM_URL:xe.create(),Ve.create(),st.create(),ft.create(),vt.create();break;case B.SOURCE_OBJECT_URL:xe.create(),Ve.create(),Ge.create(),Xe.create(),tt.create(),ot.create()}L.removeListener(h.STREAM_URL,I),L.removeListener(B.SOURCE_OBJECT_URL,I),L.addListener(h.STREAM_URL,A),L.addListener(B.SOURCE_OBJECT_URL,A),A(e)}function A(e){L.validateNotificationData(e,["source"]),t=e.data.source,mt.src=t}function k(e){L.validateNotificationData(e,["source"]),t=e.data.source}function N(e){var t={code:e.target.error.code};switch(e.target.error.code){case e.target.error.MEDIA_ERR_ABORTED:t.message="aborted";break;case e.target.error.MEDIA_ERR_NETWORK:t.message="network";break;case e.target.error.MEDIA_ERR_DECODE:t.message="decode";break;case e.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:t.message="unsupported";break;default:t.message="unknown"}gt.fatal("videotag error",t),bt(b.ERROR,t)}return L.addListener(D.VOLUME,d),L.addListener(D.PLAYBACK_SPEED,p),L.addListener(D.PAUSE,m),L.addListener(D.RESUME,y),L.addListener(h.FINISHED,v),L.addListener(D.CLEANUP,function r(){L.removeListener(D.VOLUME,d),L.removeListener(D.PLAYBACK_SPEED,p),L.removeListener(D.PAUSE,m),L.removeListener(D.RESUME,y),L.removeListener(h.FINISHED,v),L.removeListener(D.CLEANUP,r),L.removeListener(D.SUSPEND,c),L.removeListener(D.WAKE,f),L.removeListener(D.CAPTIONS,g),L.removeListener(D.SELECT_AUDIO,S),L.removeListener(h.STREAM_URL,I),L.removeListener(B.SOURCE_OBJECT_URL,I),L.removeListener(h.STREAM_URL,A),L.removeListener(B.SOURCE_OBJECT_URL,A),L.removeListener(h.STREAM_URL,k),L.removeListener(B.SOURCE_OBJECT_URL,k),L.removeListener(De.PLAY,T),L.removeListener(De.PAUSE,w),L.removeListener(De.SEEK,_),mt&&mt.textTracks&&mt.textTracks.removeEventListener("change",u),mt&&mt.audioTracks&&mt.audioTracks.removeEventListener("change",l),e.removeChild(mt),e=null,t=void 0,n.destroy(),n=null,o=Promise.resolve(),i=!1,s=!1,a=!1,mt=null,delete V.player,ht=void 0,bt(X.DESTROY)}),L.addListener(D.SUSPEND,c),L.addListener(D.CAPTIONS,g),L.addListener(D.SELECT_AUDIO,S),L.addListener(h.STREAM_URL,I),L.addListener(B.SOURCE_OBJECT_URL,I),L.addListener(De.PLAY,T),L.addListener(De.PAUSE,w),L.addListener(De.SEEK,_),ht={name:yt,initVideo:function(t){(mt=document.createElement("video")).style.width="100%",mt.style.height="100%",mt.id=r,mt.onerror=N,function(){var e=F.get(R.VIDEO_TAG_ATTRIBUTES);e&&Object.keys(e).forEach(function(t){mt.setAttribute(t,e[t])})}(),n=q.create(),Object.values(E).forEach(function(e){n.addListener(e,P)}),n.setTarget(mt),mt.textTracks&&mt.textTracks.addEventListener("change",u),mt.audioTracks&&mt.audioTracks.addEventListener("change",l),(e=document.getElementById(t)).appendChild(mt),V.player={type:"html",id:r,element:mt},bt(X.CREATE)},getMetrics:function(){if("function"==typeof mt.getVideoPlaybackQuality){var e=mt.getVideoPlaybackQuality();return{total:e.totalVideoFrames,dropped:e.droppedVideoFrames}}return{total:mt.webkitDecodedFrameCount,dropped:mt.webkitDroppedFrameCount}}}}var St={name:yt,create:Et,isSupported:!!document.createElement("video").canPlayType,isCompatible:function(e){return!!document.createElement("video").canPlayType(e)},getInstance:function(){return ht||Et(),ht},getCurrentTime:function(){return mt?mt.currentTime:0}},Tt=p.create("capabilities"),Ot=[];Oe&&Ot.push(a.MP4_SEGMENTED),Ne&&(Ot.push(a.FLV_SEGMENTED),Ot.push(a.FLV_MOVIE)),St.isSupported&&(Ot.push(a.MP4_MOVIE),St.isCompatible(me.HLS_MIME_TYPE)&&Ot.push(a.HLS)),Tt.info("capabilities",{capabilities:Ot});var Ct=Ot;function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var _t=p.create("validator"),Pt=["audio/mp4","video/mp4","text/vtt"],It=["video/flv"],Lt={baseUrl:"string","[contentStart]":"number","[contentLength]":"number",segmentId:"number",representations:[{contentType:"string",codecs:"string","[initUrl]":"string",segmentUrl:"string",segmentLength:"number"}],"[hashes]":"object"},Rt={baseUrl:"string","[contentStart]":"number","[contentLength]":"number",segmentId:"number",representations:[{contentType:"string",segmentUrl:"string"}],"[hashes]":"object"},At={baseUrl:"string","[contentStart]":"number","[contentLength]":"number",segmentId:"number",representations:[{contentType:"string",segmentUrl:"string",segmentLength:"number"}],"[hashes]":"object"},kt={url:"string",seekParameter:"string"},Nt={url:"string"},Dt={url:"string"};function Mt(e,t){var n=!0;if(e.representations&&e.representations.length)for(var r=0;r<e.representations.length;++r)-1===t.indexOf(e.representations[r].contentType)&&(_t.error("invalid content type: "+e.representations[r].contentType),n=!1);else n=!1;return n}function Ut(e,t,n){n=n||"options";var r=!0;for(var o in t)if(t.hasOwnProperty(o)){var a="["===o.substr(0,1)&&"]"===o.substr(-1,1),i=o.substr(+a,o.length-2*a),s=t[o];if("string"==typeof t[o])a||e.hasOwnProperty(i)?e.hasOwnProperty(i)&&wt(e[i])!==s&&(_t.error(n+" invalid type of "+i+": "+wt(e[i])+" needed: "+s),r=!1):(_t.error(n+" missing property: "+i),r=!1);else if(wt(e[i])!==wt(t[o]))_t.error(n+" invalid type of "+i+": "+wt(e[i])+" needed: "+wt(t[o])),r=!1;else if(t[o].shift)for(var u=0;u<e[i].length;++u){var l=n+"."+i+"["+u+"]";r=Ut(e[i][u],t[o][0],l)&&r}}return r}var xt=function(e){var t=!0;if(!e||"object"!==wt(e))return!1;switch(e.format){case a.MP4_SEGMENTED:return(t=function(e){return!!e.representations&&e.representations.some(function(e){return!!e.contentType&&-1!==e.contentType.indexOf("text")})}(e)?t&&Ut(e,Rt):t&&Ut(e,Lt))&&Mt(e,Pt);case a.FLV_SEGMENTED:return(t=t&&Ut(e,At))&&Mt(e,It);case a.FLV_MOVIE:return Ut(e,kt);case a.HLS:return Ut(e,Nt);case a.MP4_MOVIE:return Ut(e,Dt);default:return _t.error("unrecognized data format: "+e.format),!1}},jt={BASE:"MetaDownloader",LOAD_INIT:"MetaDownloader.loadInit",LOAD_START:"MetaDownloader.loadStart",METADATA:"MetaDownloader.metadata",FAILED:"MetaDownloader.failed",DESTROY:"MetaDownloader.destroy"},Ft=[],Vt={name:"TextTrackBufferMap",appendBuffer:function(e,t){if(Ft[e])return!1;Ft[e]=t},getMetaByBufferId:function(e){return Ft[e]}},Bt={BASE:"TextTrackProxy",TEXT_TRACK_ADDED:"TextTrackProxy.textTrackAdded"},Ht=["url","initUrl","segmentUrl"];function Gt(e){return e.contentType?e.contentType.split("/")[0]:e.format}var qt,zt={stringify:function(e){return[Gt(e),function(e){for(var t="",n=0;n<Ht.length;++n)t+=":",t+=e.hasOwnProperty(Ht[n])?e[Ht[n]]:"";return Pe.hash(t,32)}(e)].join(":")},split:function(e){var t=e.split(":");return{mediaType:t[0],hash:t[1]}},createMediaTypePart:Gt},Wt="TextTrackProxy",Kt=-4,Yt=p.create(Wt),Qt=window.VTTCue?window.VTTCue:window.TextTrackCue,Zt="default",Xt={top:2};function Jt(e,t){L.dispatch(e,Wt,t)}function $t(){if(qt)return qt;var e=[],t=void 0,n=[],r={},o=!1,a={BYTES:"bytes",PURGE:"purge"};function i(e){if(L.validateNotificationData(e,["streamId","bufferId","contentType"]),"text"!==zt.split(e.data.streamId).mediaType)return!1;t=e.data.bufferId,Jt(C.BUFFER_UPDATED,{bufferId:e.data.bufferId,ranges:[{start:0,end:0}]})}function s(n){if(L.validateNotificationData(n,["bufferId","start","end","duration","bytes"]),t!==n.data.bufferId)return!1;e.push({type:a.BYTES,payload:n.data}),u()}function u(){if(o)return!1;for(;e.length;){var t=e.shift();switch(t.type){case a.BYTES:c(t.payload);break;case a.PURGE:o=!0,p()}}}function l(e){L.validateNotificationData(e,["position"]),Zt=e.data.position}function c(e){var t=function(e){if(""===String(e.start)||""===String(e.end)||!e.bytes.text)return null;var t=e.start/1e3,n=e.end/1e3;return function(e,t){var n=t.meta||{},r={id:t.id||void 0,line:Kt,mode:"showing"},o=function(e){return"default"!==Zt&&Xt[Zt]?Xt[Zt]:e.line&&e.line>=10?Kt:e.line}(n);if(void 0!==o&&(n.line=o),!n.positionAlign&&n.align)switch(n.align){case"left":he.ff?n.positionAlign="line-left":n.positionAlign="start";break;case"right":he.ff?n.positionAlign="line-right":n.positionAlign="end"}var a=Object.assign(r,n);try{e=Object.assign(e,a)}catch(e){Yt.warn("couldn't set meta properties to vtt cue")}return e}(new Qt(t,n,e.bytes.text),e.bytes)}(e),r=d();if(n=function(e,t){var r=function(e,t){return!!n.length&&n.filter(function(n){return n.start<=t&&n.end>=e})[0]}(e,t);return r?r.end=Math.max(t,r.end):n.push({start:e,end:t}),n}(e.start,e.end),t&&r)return r.addCue(t),void Jt(C.BUFFER_UPDATED,{bufferId:e.bufferId,ranges:n});Jt(Bt.TEXT_TRACK_ADDED,{track:r,bufferId:e.bufferId})}function f(e){return"stream_"+e}function d(){var e=Vt.getMetaByBufferId(t),n=f(e.sourceStreamVersion);return r.hasOwnProperty(n)?r[n]:function(e){!function(){var e=V.player.element.textTracks;Object.keys(e).forEach(function(t){e[t].mode="disabled"})}();var t=V.player.element.addTextTrack("subtitles",e.label,e.language),n=f(e.sourceStreamVersion);return t.mode="showing",r[n]=t,r[n]}(e)}function p(){var e=d();for(n=[];e.cues.length;)e.removeCue(e.cues[0]);Jt(C.BUFFER_CLEAR,{bufferId:t})}return Yt.debug("create"),L.addListener(C.APPEND,s),L.addListener(C.BUFFER_UPDATED,function(e){if(e.data.bufferId!==t)return!1;o=!1}),L.addListener(w.BUFFER_ADDED,i),L.addListener(D.CLEANUP,function a(){L.removeListener(C.APPEND,s),L.removeListener(w.BUFFER_ADDED,i),L.removeListener(D.CAPTION_POSITION,l),L.removeListener(D.CLEANUP,a),e=[],t=void 0,n=[],r={},o=!1,Zt="default",qt=void 0,Jt(X.DESTROY)}),L.addListener(D.CAPTION_POSITION,l),L.addListener(C.PURGE,function(n){if(n.data.bufferId!==t)return!1;e.push({type:a.PURGE}),u()}),Jt(X.CREATE),qt={name:Wt}}var en={create:$t,name:Wt,getInstance:function(){return qt||$t(),qt}};function tn(e){var t;function n(){return t.bytes[t.position++]}function r(e){e=e||0,t.bytes[t.position++]=255&e}function o(e){r((e=e||0)>>>24&255),r(e>>>16&255),r(e>>>8&255),r(255&e)}return e instanceof Uint8Array||(e=new Uint8Array(e)),t={bytes:e,position:0,readUnsignedByte:n,readUnsignedInt16:function(){for(var e=0,t=0;t<2;++t)e=e<<8|n();return e},readUnsignedInt24:function(){for(var e=0,t=0;t<3;++t)e=e<<8|n();return e},readUnsignedInt32:function(){for(var e=0,t=0;t<4;++t)e=256*e+n();return e},readUnsignedInt64:function(){for(var e=0,t=0;t<8;++t)e=256*e+n();return e},readString:function(e){for(var n="",r=0;r<e;++r)n+=String.fromCharCode(t.bytes[t.position++]);return n},readBytes:function(e){var n=nn(t.bytes,t.position,e);return t.position+=e,n},writeUnsignedByte:r,writeUnsignedInt16:function(e){r((e=e||0)>>>8&255),r(255&e)},writeUnsignedInt24:function(e){r((e=e||0)>>>16&255),r(e>>>8&255),r(255&e)},writeUnsignedInt32:o,writeUnsignedInt64:function(e){o(Math.floor(e/Math.pow(2,32))),o(Math.floor(e%Math.pow(2,32)))},writeString:function(e){for(var n=0;n<e.length;++n)t.bytes[t.position++]=e.charCodeAt(n)},writeBytes:function(e){t.bytes.set(e,t.position),t.position+=e.length}}}function nn(e,t,n){if("function"==typeof e.slice)return e.slice(t,t+n);for(var r=new Uint8Array(n),o=0;o<n;++o)r[o]=e[t+o];return r}var rn={create:tn,slice:nn,concat:function(e){var t,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=tn(new Uint8Array(n));for(t=0;t<e.length;++t)r.writeBytes(e[t]);return r.bytes},stringify:function(e,t,n){var r="";n=n||1,t=t||4;for(var o=0;o<e.length;++o)r+=Pe.leadingZero(e[o].toString(16),2),o<e.length-1&&(n>1&&(o+1)%(t*n)==0?r+="\n":(o+1)%t==0&&(r+=" "));return r}},on={"text/vtt":"text","audio/mp4":"arraybuffer","video/mp4":"arraybuffer"},an={create:function(e){var t,n,r="SegmentDownloader."+e.loaderId,o=p.create(r),a=new Date;function i(){t&&(t.onload=null,t.onerror=null,t.onprogress=null,t.abort(),t=null),L.removeListener(D.CLEANUP,l),L.removeListener(h.ABORT_DOWNLOAD,c),n=clearTimeout(n),s(v.DESTROY,{loaderId:e.loaderId})}function s(e,t){L.dispatch(e,r,t)}function u(){var n={streamId:e.streamId,segmentId:e.segmentId,url:e.url,contentType:e.contentType,status:t.status};0===t.status?n.reason="TIMEOUT":400<=t.status&&t.status<500&&(n.reason=function(){var e;if("string"==typeof t.response)e=t.response;else{if(!(window.ArrayBuffer&&window.Uint8Array&&t.response instanceof ArrayBuffer))return;var n=rn.create(new Uint8Array(t.response));e=n.readString(n.bytes.length)}try{return JSON.parse(e).error}catch(e){return}}()),o.error("segment download error",n),s(v.FAILED,n),i()}function l(){i()}function c(t){L.validateNotificationData(t,["streamId"]),t.data.streamId===e.streamId&&i()}return L.addListener(D.CLEANUP,l),L.addListener(h.ABORT_DOWNLOAD,c),(t=new XMLHttpRequest).open("GET",e.url,!0),t.responseType=on[e.contentType],t.send(),t.onprogress=function(){n=clearTimeout(n),200===t.status&&s(v.LOAD_START,{streamId:e.streamId,segmentId:e.segmentId,url:e.url,contentType:e.contentType}),t.onprogress=null},t.onload=function(){var n,r=new Date;if(200===t.status){switch(t.responseType){case"text":n=""+t.response;break;default:n=new Uint8Array(t.response)}s(v.RAW,{raw:n,streamId:e.streamId,segmentId:e.segmentId,contentType:e.contentType}),s(v.LOAD_COMPLETE,{url:e.url,time:r-a,size:n.length,streamId:e.streamId,segmentId:e.segmentId,contentType:e.contentType}),i()}else u()},t.onerror=u,s(v.LOAD_INIT,{streamId:e.streamId,segmentId:e.segmentId,url:e.url,contentType:e.contentType}),n=setTimeout(function(){t&&(t.abort(),u())},7e3),{loaderId:e.loaderId,url:e.url}}},sn="DownloadManager";function un(e,t){L.dispatch(e,sn,t)}var ln=function(){function e(e){L.validateNotificationData(e,["loaderId","segmentId","streamId","url","contentType"]),an.create(e.data)}return L.addListener(h.LOAD_SEGMENT,e),L.addListener(D.CLEANUP,function t(){L.removeListener(h.LOAD_SEGMENT,e),L.removeListener(D.CLEANUP,t),un(X.DESTROY)}),un(X.CREATE),{name:sn}},cn={BASE:"GarbageCollector",DISCARD_START_SEGMENT:"GarbageCollector.discardStartSegment",DISCARD_END_SEGMENT:"GarbageCollector.discardEndSegment"},fn=function(){var e,t=[],n=0;function r(){return n<t.length?t[n]:null}function o(){if(!r())return!1;for(;!r().hasNextFragment&&n<t.length-1;)n<t.length-1&&n++,r()&&r().reset(),i(),r();return r().hasNextFragment}function a(e){return r().keyFrames.length&&r().keyFrames[0]<=e}function i(){e.start=t&&t.length?function(){for(var e=0;e<t.length;){if(t[e].firstTimestamp!==me.UINT32_MAX_VALUE)return t[e].firstTimestamp;e++}return 0}():0,e.end=t&&t.length?function(){for(var e=t.length-1;e>=0;){if(t[e].lastTimestamp!==me.UINT32_MAX_VALUE)return t[e].lastTimestamp;e--}return 0}():0,e.firstId=t&&t.length?t[0].segmentId:-1,e.lastId=t&&t.length?t[t.length-1].segmentId:-1,e.duration=function(){for(var e=0,n=0;n<t.length;++n)e+=t[n].duration;return e}(),e.avgSegmentDuration=e.duration/t.length,e.size=function(){for(var e=0,n=0;n<t.length;++n)e+=t[n].size;return e}(),e.segments=t,e.hasNextFragment=o(),e.hasNextRAPFragment=!!r()&&r().hasNextRAPFragment,e.nextFragmentContainsRAP=!!o()&&r().nextFragmentContainsRAP,e.nextFragmentStartTime=o()?r().nextFragmentStartTime:me.UINT32_MAX_VALUE,e.activeSegment=r(),e.activeFragmentStartTime=function(){var e=r();return e?e.activeFragmentStartTime:me.UINT32_MAX_VALUE}(),e.hasLastSegment=t.some(function(e){return e.lastSegment})}return e={getNextFragment:function(){var e=o()?r().getNextFragment():null;return i(),e},appendSegment:function(e){t.push(e),n===me.UINT32_MAX_VALUE&&e.fragments.length&&(n=0),i()},prependSegment:function(e){t.unshift(e),n++,i()},appendSegments:function(e){t=t.concat(e),i()},prependSegments:function(e){t=e.concat(t),n+=t.length,i()},removeSegmentFromBeginning:function(){t.splice(0,1),n--,i()},removeSegmentFromEnd:function(){t.splice(-1,1),i()},setTimePosition:function(e){n=me.UINT32_MAX_VALUE;for(var o=0;o<t.length;++o)t[o].firstTimestamp<=e&&(n=o);if(r()){for(;!a(e)&&n>0;)n--;r().setTimePosition(e)}i()},getSegmentWithKeyframe:function(e){return e=e||0,t.find(function(t){return t.keyFrames.some(function(t){return t>=e})})}},i(),e},dn={create:function(e,t){var n,r="SegmentStorage."+e,o=t,a=p.create(r),i={},s=[],u=0,l=null,c=-1;function f(e,t){L.dispatch(e,r,t)}function d(){null!==l&&T(l),S()}function h(e,t){return t.segmentId===e.firstId-1}function m(e,t){return t.segmentId===e.lastId+1}function v(e,t){return e.firstId<=t.segmentId&&e.lastId>=t.segmentId}function y(){for(var e=E(),t=0;s.length>1&&t<s.length-1;++t)s[t].lastId+1===s[t+1].firstId&&(t===u?(s[t].appendSegments(s[t+1].segments),s.splice(t+1,1),t--):(s[t+1].prependSegments(s[t].segments),s.splice(t--,1)));u=s.indexOf(e)}function b(){for(var e=E(),t=s.length;--t>=0;)s[t].start===s[t].end&&s.splice(t,1);(u=s.indexOf(e))<0&&(s.length?(u=0,w(E().start),a.warn("removeEmptyBundles: currentBundle removed, bundleIndex set to 0")):a.debug("removeEmptyBundles: no remaining bundles"))}function E(){return s&&s.length>u?s[u]:null}function S(){n.streamId=e,n.activeFragmentStartTime=function(){var e=E();return e?e.activeFragmentStartTime:me.UINT32_MAX_VALUE}(),n.hasNextFragment=!!E()&&E().hasNextFragment,n.hasNextRAPFragment=!!E()&&E().hasNextRAPFragment,n.nextFragmentContainsRAP=!!E()&&E().nextFragmentContainsRAP,n.nextFragmentStartTime=E()?E().nextFragmentStartTime:me.UINT32_MAX_VALUE}function T(t,n){if(s.length&&0===s[0].firstId&&t<s[0].start&&t>=0)return u=0,void w(E().start);for(var r=0;s&&r<s.length;++r)if(C(s[r])<=t&&s[r].end>=t)return u=r,void w(t);u=me.UINT32_MAX_VALUE,l=t,S(),n||f(g.SEGMENT_MISSING,{streamId:e,position:t})}function O(e){return 0!==e.duration}function C(e){var t=e.segments.findIndex(O);if(t<=0)return e.start;var n=t*o,r=o-e.segments[t].duration;return e.start-(n+r)}function w(t){!function(){if(E().end-l<me.MINIMUM_AVAILABLE_CONTENT_AFTER_SEEK){var t=E().lastId+1;a.warn("active bundle available content is not enough after seek, requesting the next segment",{streamId:e,segmentId:t,seekPosition:l}),f(g.SEGMENT_MISSING_BY_ID,{streamId:e,segmentId:t})}}(),l=null,a.debug("setTimePosition "+t),E().setTimePosition(t),S()}return a.debug("construct "+e),n={getNextFragment:function(){var t=E()?E().getNextFragment():null;return S(),function(){var t=E().activeSegment.segmentId;c!==t&&(c=t,setTimeout(function(){f(g.SEGMENT_CHANGE,{segmentId:t,streamId:e})},0))}(),t},getEoSPosition:function(){var e=s.find(function(e){return e.hasLastSegment});return e&&e.duration>0?e.end:me.UINT32_MAX_VALUE},getSegmentWithKeyframe:function(e){var t=E();if(t)return t.getSegmentWithKeyframe(e)},setTimePosition:T,removeSegmentFromBeginning:function(){var e=s&&s.length?s[0]:null;return!!e&&(e.removeSegmentFromBeginning(),b(),d(),!0)},removeSegmentFromEnd:function(){var e=s&&s.length?s[s.length-1]:null;return!!e&&(e.removeSegmentFromEnd(),b(),d(),!0)},destroy:function(){i={},s=[],u=0,l=null,c=-1},insertSegment:function(e){return!!function(e){for(var t=0;t<s.length;++t){if(h(s[t],e))return s[t].prependSegment(e),y(),!0;if(m(s[t],e))return s[t].appendSegment(e),y(),!0;if(v(s[t],e))return a.warn("findBundleForSegment : segment overlaps existing bundle",{bundleStart:s[t].start,bundleEnd:s[t].end,segmentStart:e.firstTimestamp,segmentEnd:e.lastTimestamp}),!1}return a.debug("creating new bundle for segment",{segmentId:e.segmentId,start:e.firstTimestamp,end:e.lastTimestamp}),s.push(fn()),s[s.length-1].appendSegment(e),function(){var e=E();s.sort(function(e,t){return e.start>t.start?1:e.start<t.start?-1:0}),u=s.indexOf(e)}(),!0}(e)&&(d(),!0)},getState:function(){for(var t=[],n=[],r=0,o=[],a=[],i=0;i<s.length;++i)r+=s[i].size,t.push({start:s[i].start,end:s[i].end}),n.push({start:s[i].firstId,end:s[i].lastId}),o.push(s[i].duration),a.push(s[i].size);return{streamId:e,size:r,ranges:t,ids:n,bundleDurations:o,bundleSizes:a}},getConfigForHash:function(e){return i[e]},insertConfig:function(e,t){i[e]=t}},S(),n}};function pn(e){return(V.representations||[]).find(function(t){return t.streamId===e})}function hn(e){var t=pn(e);if(void 0!==t){var n=V.representations.indexOf(t);return V.representations.splice(n,1)}}var mn,vn={addRepresentation:function(e,t,n){void 0===n&&(n="active"),V.representations=V.representations||[],hn(t);var r=Object.assign({},e,{streamId:t,status:n});V.representations.push(r)},getRepresentation:pn,removeRepresentation:hn,cleanup:function(){Object.getOwnPropertyNames(V).forEach(function(e){delete V[e]})}},yn="StorageManager";function gn(e,t){L.dispatch(e,yn,t)}function bn(){if(mn)return mn;var e={},t=-1/0,n={};function r(e){L.validateNotificationData(e,["position"]),t=e.data.position}function o(){t=-1/0}function a(e){L.validateNotificationData(e,["streamId","segment"]);var t=l(e.data.streamId);t.insertSegment(e.data.segment)&&gn(y.SEGMENT_STORAGE_UPDATED,t.getState()),function(e){var t=l(e).getEoSPosition();t!==me.UINT32_MAX_VALUE&&gn(y.EOS_POSITION_DETECTED,{position:t})}(e.data.streamId)}function i(e){L.validateNotificationData(e,["streamId","after"]),n[e.data.streamId]=e.data.after,u(e.data.streamId)}function s(e){L.validateNotificationData(e,["streamId"]),delete n[e.data.streamId]}function u(e){var t=n[e];if(t||0===t){var r=l(e).getSegmentWithKeyframe(t);r&&(delete n[e],function(e,t){var n=e.keyFrames.find(function(e){return e>=t});gn(g.KEYFRAME_POSITION,{streamId:e.streamId,position:n})}(r,t))}}function l(t){return function(t){if(!e.hasOwnProperty(t)){var n=function(e){return vn.getRepresentation(e).segmentLength}(t),r=dn.create(t,n);e[t]=r,function(e){gn(y.SEGMENT_STORAGE_CREATED,{streamId:e})}(t)}}(t),e[t]}function c(t){n.hasOwnProperty(t)&&delete n[t],e.hasOwnProperty(t)&&(e[t].destroy(),delete e[t],gn(y.SEGMENT_STORAGE_REMOVED,{streamId:t}))}function f(e){L.validateNotificationData(e,["streamId","position"]);var n=l(e.data.streamId),r=Math.max(e.data.position,t+me.MINIMUM_AVAILABLE_CONTENT_AFTER_SEEK);n.setTimePosition(r)}function d(e){L.validateNotificationData(e,["streamId","ranges"]),e.data.ranges.length?u(e.data.streamId):c(e.data.streamId)}function p(e){L.validateNotificationData(e,["streamId"]);var t,n=l(e.data.streamId);switch(e.type){case cn.DISCARD_START_SEGMENT:t=n.removeSegmentFromBeginning();break;case cn.DISCARD_END_SEGMENT:t=n.removeSegmentFromEnd()}t&&gn(y.SEGMENT_STORAGE_UPDATED,n.getState())}function m(e){L.validateNotificationData(e,["streamId","config","hash"]),l(e.data.streamId).insertConfig(e.data.hash,e.data.config)}return V.player&&"flash"===V.player.type||(L.addListener(h.SWITCH_STREAM,f,L.MINIMUM_PRIORITY),L.addListener(D.SEEK,r),L.addListener(D.CLEANUP,function t(){L.removeListener(h.SWITCH_STREAM,f),L.removeListener(D.SEEK,r),L.removeListener(D.CLEANUP,t),L.removeListener(y.SEGMENT_STORAGE_UPDATED,d),L.removeListener(De.SEEK,o),L.removeListener(cn.DISCARD_START_SEGMENT,p),L.removeListener(cn.DISCARD_END_SEGMENT,p),L.removeListener(v.SEGMENT,a),L.removeListener(v.EMPTY_SEGMENT,a),L.removeListener(v.CONFIG,m),L.removeListener(h.REQUEST_KEYFRAME_POSITION,i),L.removeListener(h.CANCEL_KEYFRAME_REQUEST,s),Object.getOwnPropertyNames(e).forEach(c),e={},n={},mn=void 0,gn(X.DESTROY)}),L.addListener(y.SEGMENT_STORAGE_UPDATED,d),L.addListener(De.SEEK,o),L.addListener(cn.DISCARD_START_SEGMENT,p),L.addListener(cn.DISCARD_END_SEGMENT,p),L.addListener(v.SEGMENT,a),L.addListener(v.EMPTY_SEGMENT,a),L.addListener(v.CONFIG,m),L.addListener(h.REQUEST_KEYFRAME_POSITION,i),L.addListener(h.CANCEL_KEYFRAME_REQUEST,s),gn(X.CREATE)),mn={name:yn,getSegmentStorage:l,removeSegmentStorage:c}}var En={name:yn,create:bn,getInstance:function(){return mn||bn(),mn}},Sn={name:"DownloadQueue/SimpleOrder",create:function(e){return function(t,n){var r=t.segmentId,o=n.segmentId;return Math.min(r,o)>=e?r-o:o-r}}},Tn={name:"DownloadQueue/QualityChangeOrder",create:function(e,t,n){var r=n?Sn.create(n):Sn.create(e);return function(e,n){var o=t[e.mediaType]===e.streamId,a=t[n.mediaType]===n.streamId;return o&&!a?-1:!o&&a?1:r(e,n)}}},On=function(){var e={};return{add:function(t){if(!t.hasOwnProperty("id"))throw new Error('Invalid hashObject: missing "id"');if(!t.hasOwnProperty("hash"))throw new Error('Invalid hashObject: missing "hash"');e[t.id]=t.hash},getHashBySegmentId:function(t){var n=Object.keys(e).filter(function(e){return t-t%10===parseInt(e,10)}).pop();return e[n]}}},Cn={},wn={};function _n(e){return zt.split(e).mediaType}function Pn(e,t){return function(e,t){return t.hasOwnProperty("segmentId")&&(t["segmentId%06d"]=Pe.leadingZero(t.segmentId,6),t["segmentId%04d"]=Pe.leadingZero(t.segmentId,4)),Object.getOwnPropertyNames(t).reduce(function(e,n){var r=t[n];return e.replace("#"+n+"#",r)},e)}(Cn[e].segmentUrl,{segmentId:t,hashId:function(e,t){var n=_n(e);if(!wn[n])throw new Error('no hashes for "'+n+'"');var r=wn[n].getHashBySegmentId(t);if(!r)throw new Error("cannot find hash for "+t);return r}(e,t)})}var In={update:function(e,t){Cn[e]=function(e){return{segmentUrl:e.segmentUrl?e.baseUrl+e.segmentUrl:""}}(t),t.hashes&&function(e,t){var n=_n(e);wn[n]||(wn[n]=On()),Object.getOwnPropertyNames(t).forEach(function(e){var r=t[e];wn[n].add({id:e,hash:r})})}(e,t.hashes)},getUrl:function(e,t){return Pn(e,t)},getSegmentUrl:Pn,reset:function(e){delete Cn[e];var t=_n(e);delete wn[t]}},Ln="DownloadQueue",Rn=p.create(Ln);function An(e,t){L.dispatch(e,Ln,t)}function kn(e){return zt.split(e).mediaType}function Nn(){return(new Date).getTime()}var Dn={create:function(){var e,t,n,r,o,a,i=[],s=[],u={},l={},c={},f=null;function d(){a=!0,U()}function p(){var e=function(e){var t=(V.representations||[]).find(function(e){return"active"===e.status&&"video"===kn(e.streamId)});return t?t.streamId:void 0}();if(!e)return!1;var n=f.getSegmentStorage(e),r=t+F.get(R.QUALITY_SWITCH_BUFFER_THRESHOLD),o=n.getSegmentWithKeyframe(r);return!!o&&o.segmentId}function m(e){if(L.validateNotificationData(e,["segmentId","streamId","contentType"]),!function(e){return s.some(function(t){return e.segmentId===t.segmentId&&e.streamId===t.streamId})}(e.data)){var t=H(e.data.streamId,e.data.segmentId);t&&!function(e){return i.some(function(t){return t.url===e})}(t)&&(k(e.data),j())}}function y(e){L.validateNotificationData(e,["streamId"]);var t=[];s=s.filter(function(n){return n.streamId!==e.data.streamId||(t.push(n),!1)}),t.length&&Rn.debug("removed downloads with specific a streamId",{streamId:e.data.streamId,removedDownloads:t});var n=kn(e.data.streamId);delete u[n],l[n]=0,G()}function g(r){L.validateNotificationData(r,["bufferId","currentId","playPosition"]),"video"===r.data.bufferId.substr(0,5)&&(e=r.data.currentId,t=r.data.playPosition,n=r.data.videoTagSegmentId||null)}function b(e){L.validateNotificationData(e,["streamId"]);var t=zt.split(e.data.streamId);c[t.mediaType]=t.hash}function E(e){L.validateNotificationData(e,["streamId"]),T(e.data.streamId)}function S(e){L.validateNotificationData(e,["streamId"]),T(e.data.streamId)}function T(e){var t=zt.split(e);c[t.mediaType]=void 0,U()}function O(e){L.validateNotificationData(e,["loaderId"]),i=i.filter(function(t){return t.loaderId!==e.data.loaderId}),G(),j()}function w(e){L.validateNotificationData(e,["segmentId","streamId","contentType"]);var t=kn(e.data.streamId);l[t]=l[t]?l[t]+1:1;var n=l[t]*me.DOWNLOAD_RETRY_DELAY;!function(e,t){u[e]=Nn()+t}(t,n),k(e.data),r||(r=setTimeout(function(){r=void 0,j()},n))}function _(){a=!1}function P(){var e;do{e=Pe.random(5)}while(!I(e));return e}function I(e){return i.every(function(t){return t.loaderId!==e})}function A(e){L.validateNotificationData(e,["streamId"]);var t=kn(e.data.streamId);l[t]=0}function k(e){var t=kn(e.streamId);s.push({segmentId:e.segmentId,mediaType:t,streamId:e.streamId,contentType:e.contentType})}function N(){return Object.getOwnPropertyNames(c).some(function(e){return!!c[e]})}function M(){return n&&!a?n:e||0}function U(){var e=[],t=M();s=s.filter(function(n){return!(n.segmentId<t&&(e.push(n),1))}),e.length&&Rn.debug("removed downloads which are passed by the play position",{removedDownloads:e}),G()}function x(e){s.splice(s.indexOf(e),1)}function j(){for(var e,t,n=function(){var e=N()&&p(),t=M();return N()?Tn.create(t,c,e):Sn.create(t)}();s.length&&i.length<F.get(R.CONCURRENT_DOWNLOAD_COUNT)-Object.getOwnPropertyNames(u).filter(B).length;){if(!(e=s.filter(function(e){return!B(e.mediaType)}).sort(n)).length)return Rn.debug("resortedQueue is empty",{locks:u,queue:s}),!1;Rn.debug("resorted the queue before downloading a segment",{resortedQueue:e}),(t=e.shift()).loaderId=P(),t.url=H(t.streamId,t.segmentId),t.url&&(i.push(t),x(t),An(h.LOAD_SEGMENT,t))}G()}function B(e){if(!u.hasOwnProperty(e))return!1;var t=u[e];return Nn()<t}function H(e,t){try{return In.getUrl(e,t)}catch(n){return void An(h.CAN_NOT_CREATE_URL,{streamId:e,segmentId:t,reason:n.message})}}function G(){o.activeDownloaders=i,o.queue=s}return L.addListener(h.REQUEST_SEGMENT,m),L.addListener(h.ABORT_DOWNLOAD,y),L.addListener(h.CONTENT_MOVED,g),L.addListener(h.SWITCH_STREAM,b),L.addListener(h.CANCEL_STREAM_SWITCH,E),L.addListener(C.STREAM_SWITCH,S),L.addListener(D.CLEANUP,function e(){L.removeListener(h.REQUEST_SEGMENT,m),L.removeListener(h.ABORT_DOWNLOAD,y),L.removeListener(h.CONTENT_MOVED,g),L.removeListener(h.SWITCH_STREAM,b),L.removeListener(h.CANCEL_STREAM_SWITCH,E),L.removeListener(C.STREAM_SWITCH,S),L.removeListener(D.CLEANUP,e),L.removeListener(D.SEEK,d),L.removeListener(v.FAILED,w),L.removeListener(v.LOAD_COMPLETE,A),L.removeListener(v.DESTROY,O),L.removeListener(De.SEEK,_),f=null,i=null,s=null,u=null,r=clearTimeout(r),l=null,G(),An(X.DESTROY)}),L.addListener(D.SEEK,d),L.addListener(v.FAILED,w),L.addListener(v.LOAD_COMPLETE,A),L.addListener(v.DESTROY,O),L.addListener(De.SEEK,_),f=En.getInstance(),An(X.CREATE),o={name:Ln,isMediaTypeLocked:B},G(),o},name:Ln},Mn={decorate:function(e){var t,n=rn.create(e.bytes);for(n.position=e.fourCC?e.start+8:e.start,e.boxes=[];n.position<e.start+e.length;)(t={}).start=n.position,t.length=n.readUnsignedInt32(),t.fourCC=n.readString(4),t.bytes=e.bytes,e.boxes.push(t),n.position+=t.length-8}},Un={parse:function(e){return{dataOffsetPresent:!!(1&e),firstSampleFlagsPresent:!!(4&e),sampleDurationsPresent:!!(256&e),sampleSizesPresent:!!(512&e),sampleFlagsPresent:!!(1024&e),sampleCompositionTimeOffsetsPresent:!!(2048&e)}},serialize:function(e){var t=0;return t|=1*e.dataOffsetPresent,t|=4*e.firstSampleFlagsPresent,t|=256*e.sampleDurationsPresent,t|=512*e.sampleSizesPresent,(t|=1024*e.sampleFlagsPresent)|2048*e.sampleCompositionTimeOffsetsPresent}},xn={parse:function(e){return{baseDataOffsetPresent:!!(1&e),sampleDescriptionIndexPresent:!!(2&e),defaultSampleDurationPresent:!!(8&e),defaultSampleSizePresent:!!(16&e),defaultSampleFlagsPresent:!!(32&e)}},serialize:function(e){var t=0;return t|=1*e.baseDataOffsetPresent,t|=2*e.sampleDescriptionIndexPresent,t|=8*e.defaultSampleDurationPresent,(t|=16*e.defaultSampleSizePresent)|32*e.defaultSampleFlagsPresent}},jn={fmov:Mn,free:Mn,mdia:Mn,minf:Mn,moof:Mn,moov:Mn,mvex:Mn,stbl:Mn,traf:Mn,trak:Mn,ustm:Mn,fhst:{decorate:function(e){function t(){var t,n=rn.create(e.bytes);n.position=e.start+8,e.hashes=[];for(var r=0;r<Math.floor((e.length-8)/4);++r)t=n.readUnsignedInt32(),e.hashes.push(Pe.leadingZero(t.toString(16),8))}e.parseBytes=t,t()}},hash:{decorate:function(e){function t(){var t=rn.create(e.bytes);t.position=e.start+8;var n=t.readUnsignedInt32();e.hash=Pe.leadingZero(n.toString(16),8)}e.parseBytes=t,t()}},idta:{decorate:function(e){function t(){var t=rn.create(e.bytes);t.position=e.start+8,e.rawInit=t.readBytes(e.length-8)}e.parseBytes=t,t()}},sidx:{decorate:function(e){var t,n,r=rn.create(e.bytes);r.position=e.start+8,e.version=r.readUnsignedByte(),e.rawFlags=r.readUnsignedInt24(),e.referenceId=r.readUnsignedInt32(),e.timeScale=r.readUnsignedInt32(),e.version?(e.earliestPresentationTime=r.readUnsignedInt64(),e.firstOffset=r.readUnsignedInt64()):(e.earliestPresentationTime=r.readUnsignedInt32(),e.firstOffset=r.readUnsignedInt32()),r.readUnsignedInt16(),e.referenceCount=r.readUnsignedInt16(),e.references=[];for(var o=0;o<e.referenceCount;++o)t={},n=r.readUnsignedInt32(),t.referenceType=!!(2147483648&n),t.subsegmentSize=2147483647&n,t.subsegmentDuration=r.readUnsignedInt32(),n=r.readUnsignedInt32(),t.containsRAP=!!(2147483648&n),t.rapType=(1879048192&n)>>>28,t.rapDeltaTime=268435455&n,e.references.push(t)}},styp:{decorate:function(e){var t=rn.create(e.bytes);for(t.position=e.start+8,e.majorBrand=t.readString(4),e.minorVersion=t.readUnsignedInt32(),e.compatibleBrands=[];t.position<e.start+e.length;)e.compatibleBrands.push(t.readString(4))}},trun:{decorate:function(e){function t(){var t=rn.create(e.bytes);t.position=e.start+8,e.version=t.readUnsignedByte(),e.flags=Un.parse(t.readUnsignedInt24()),e.sampleCount=t.readUnsignedInt32(),e.flags.dataOffsetPresent&&(e.dataOffset=t.readUnsignedInt32()),e.flags.firstSampleFlagsPresent&&(e.firstSampleFlags=t.readUnsignedInt32()),e.samples=[];for(var n=0;n<e.sampleCount;++n){var r={};e.flags.sampleDurationsPresent&&(r.duration=t.readUnsignedInt32()),e.flags.sampleSizesPresent&&(r.size=t.readUnsignedInt32()),e.flags.sampleFlagsPresent&&(r.flags=t.readUnsignedInt32()),e.flags.sampleCompositionTimeOffsetsPresent&&(r.compositionTimeOffset=t.readUnsignedInt32()),e.samples.push(r)}}e.parseBytes=t,e.writeBytes=function(){e.flags=e.flags||{};var t=4*e.flags.dataOffsetPresent,n=4*e.flags.firstSampleFlagsPresent,r=4*(e.flags&&e.flags.sampleDurationsPresent)+4*(e.flags&&e.flags.sampleSizesPresent)+4*(e.flags&&e.flags.sampleFlagsPresent)+4*(e.flags&&e.flags.sampleCompositionTimeOffsetsPresent);e.length=16+t+n+e.sampleCount*r;var o=rn.create(new Uint8Array(e.length));o.writeUnsignedInt32(e.length),o.writeString(e.fourCC),o.writeUnsignedByte(e.version),o.writeUnsignedInt24(Un.serialize(e.flags)),o.writeUnsignedInt32(e.sampleCount),e.flags.dataOffsetPresent&&o.writeUnsignedInt32(e.dataOffset),e.flags.firstSampleFlagsPresent&&o.writeUnsignedInt32(e.firstSampleFlags);for(var a=0;a<e.sampleCount;++a)e.flags.sampleDurationsPresent&&o.writeUnsignedInt32(e.samples[a].duration),e.flags.sampleSizesPresent&&o.writeUnsignedInt32(e.samples[a].size),e.flags.sampleFlagsPresent&&o.writeUnsignedInt32(e.samples[a].flags),e.flags.sampleCompositionTimeOffsetsPresent&&o.writeUnsignedInt32(e.samples[a].compositionTimeOffset);e.bytes=o.bytes,e.start=0},t()}},tfdt:{decorate:function(e){function t(){var t=rn.create(e.bytes);t.position=e.start+8,e.version=t.readUnsignedByte(),e.rawFlags=t.readUnsignedInt24(),e.version?e.baseMediaDecodeTime=t.readUnsignedInt64():e.baseMediaDecodeTime=t.readUnsignedInt32()}e.parseBytes=t,e.writeBytes=function(){e.length=12+(e.version?8:4);var t=rn.create(new Uint8Array(e.length));t.writeUnsignedInt32(e.length),t.writeString(e.fourCC),t.writeUnsignedByte(e.version),t.writeUnsignedInt24(e.rawFlags),e.version?t.writeUnsignedInt64(e.baseMediaDecodeTime):t.writeUnsignedInt32(e.baseMediaDecodeTime),e.bytes=t.bytes,e.start=0},t()}},tfhd:{decorate:function(e){function t(){var t=rn.create(e.bytes);t.position=e.start+8,e.version=t.readUnsignedByte(),e.flags=xn.parse(t.readUnsignedInt24()),e.trackId=t.readUnsignedInt32(),e.flags.baseDataOffsetPresent&&(e.baseDataOffset=t.readUnsignedInt64()),e.flags.sampleDescriptionIndexPresent&&(e.sampleDescriptionIndex=t.readUnsignedInt32()),e.flags.defaultSampleDurationPresent&&(e.defaultSampleDuration=t.readUnsignedInt32()),e.flags.defaultSampleSizePresent&&(e.defaultSampleSize=t.readUnsignedInt32()),e.flags.defaultSampleFlagsPresent&&(e.defaultSampleFlags=t.readUnsignedInt32())}e.parseBytes=t,e.writeBytes=function(){e.flags=e.flags||{},e.length=16,e.length+=8*e.flags.baseDataOffsetPresent,e.length+=4*e.flags.sampleDescriptionIndexPresent,e.length+=4*e.flags.defaultSampleDurationPresent,e.length+=4*e.flags.defaultSampleSizePresent,e.length+=4*e.flags.defaultSampleFlagsPresent;var t=rn.create(new Uint8Array(e.length));t.writeUnsignedInt32(e.length),t.writeString(e.fourCC),t.writeUnsignedByte(e.version),t.writeUnsignedInt24(xn.serialize(e.flags)),t.writeUnsignedInt32(e.trackId),e.flags.baseDataOffsetPresent&&t.writeUnsignedInt64(e.baseDataOffset),e.flags.sampleDescriptionIndexPresent&&t.writeUnsignedInt32(e.sampleDescriptionIndex),e.flags.defaultSampleDurationPresent&&t.writeUnsignedInt32(e.defaultSampleDuration),e.flags.defaultSampleSizePresent&&t.writeUnsignedInt32(e.defaultSampleSize),e.flags.defaultSampleFlagsPresent&&t.writeUnsignedInt32(e.defaultSampleFlags),e.bytes=t.bytes,e.start=0},t()}},mfhd:{decorate:function(e){function t(){var t=rn.create(e.bytes);t.position=e.start+8,e.version=t.readUnsignedByte(),e.rawFlags=t.readUnsignedInt24(),e.sequenceNumber=t.readUnsignedInt32()}e.parseBytes=t,e.writeBytes=function(){e.length=16;var t=rn.create(new Uint8Array(e.length));t.writeUnsignedInt32(e.length),t.writeString(e.fourCC),t.writeUnsignedByte(e.version),t.writeUnsignedInt24(e.rawFlags),t.writeUnsignedInt32(e.sequenceNumber),e.bytes=t.bytes,e.start=0},t()}}},Fn=p.create("MP4Parser");function Vn(e){if(e.bytes)return e.length;if(e.boxes){for(var t=e.fourCC?8:0,n=0;n<e.boxes.length;++n)t+=Vn(e.boxes[n]);return t}return 0}var Bn={parse:function(e){var t={bytes:e,start:0,length:e.length};return function e(t){var n=t.fourCC?jn[t.fourCC]:Mn;if(n&&(n.decorate(t),t.boxes)){for(var r=0;r<t.boxes.length;++r)e(t.boxes[r]);t.boxes.length&&(delete t.bytes,delete t.start,delete t.length)}}(t),t},serialize:function(e){var t=rn.create(new Uint8Array(Vn(e)));return function e(t,n){if(n.bytes)t.writeBytes(rn.slice(n.bytes,n.start,n.length));else if(n.boxes){n.fourCC&&(t.writeUnsignedInt32(Vn(n)),t.writeString(n.fourCC));for(var r=0;r<n.boxes.length;++r)e(t,n.boxes[r])}else Fn.error("error writing "+n.fourCC+", no bytes/boxes")}(t,e),t.bytes}};function Hn(e,t){for(var n=0;n<e.boxes.length;++n)if(e.boxes[n].fourCC===t)return e.boxes[n];return null}var Gn={getBoxByPath:function(e,t){for(var n=t.split(".");e&&n.length;)e=Hn(e,n.shift());return e},getBoxByFourCC:Hn},qn=function(e){return{sampleDegradationPriority:65535&e,sampleIsDifferenceSample:!!(e>>>16&1),samplePaddingValue:e>>>17&7,sampleHasRedundancy:e>>>20&3,sampleIsDependedOn:e>>>22&3,sampleDependsOn:e>>>24&3,reserved:e>>>26&63}},zn=function(e){var t=0;return t|=65535&e.sampleDegradationPriority,t|=+e.sampleIsDifferenceSample<<16,t|=(7&e.samplePaddingValue)<<17,t|=(3&e.sampleHasRedundancy)<<20,t|=(3&e.sampleIsDependedOn)<<22,(t|=(3&e.sampleDependsOn)<<24)|(63&e.reserved)<<26};function Wn(e,t){for(var n=t.baseMediaDecodeTime,r=0;r<e.sampleCount;++r)n+=e.samples[r].duration;return n}function Kn(e,t){for(var n=[],r=0;r<e.length;++r)n.push(Gn.getBoxByPath(e[r],t));return n}var Yn={mergeFragments:function(e){var t=function(e){for(var t=[],n=0;n<e.length;++n)t.push(Bn.parse(e[n]));return t}(e),n=t.shift(),r=Gn.getBoxByPath(n,"moof.traf.trun"),o=Gn.getBoxByPath(n,"moof.traf.tfdt"),a=r.length;!function(e,t,n){for(var r,o=Kn(n,"moof.traf.trun"),a=Kn(n,"moof.traf.tfdt"),i=0;i<o.length;++i)r=Wn(e,t),e.samples[e.sampleCount-1].duration+=a[i].baseMediaDecodeTime-r,e.samples=e.samples.concat(o[i].samples),e.sampleCount=e.samples.length}(r,o,t);for(var i=0;i<r.sampleCount;++i)r.samples[i].size;r.writeBytes(),r.dataOffset+=r.length-a,r.writeBytes();var s=Gn.getBoxByFourCC(n,"mdat");return s.bytes=function(e){var t,n,r,o=8;for(t=0;t<e.length;++t)o+=Gn.getBoxByFourCC(e[t],"mdat").length-8;(r=rn.create(new Uint8Array(o))).writeUnsignedInt32(o),r.writeString("mdat");var a=[];for(t=0;t<e.length;++t){n=Gn.getBoxByFourCC(e[t],"mdat");var i=rn.slice(n.bytes,n.start+8,n.length-8);a.push(i),r.writeBytes(i)}return r.bytes}([n].concat(t)),s.start=0,s.length=s.bytes.length,Bn.serialize(n)},setFirstSampleAsRAP:function(e){var t=Bn.parse(e),n=Gn.getBoxByPath({boxes:t.boxes},"moof.traf.trun"),r=function(e){return e.flags.sampleFlagsPresent?qn(e.samples[0].flags):e.flags.firstSampleFlagsPresent?qn(e.firstSampleFlags):null}(n);return r.sampleIsDifferenceSample&&(r.sampleIsDifferenceSample=!1,r.sampleDependsOn=2,function(e,t){e.flags.sampleFlagsPresent?e.samples[0].flags=zn(t):e.flags.firstSampleFlagsPresent&&(e.firstSampleFlags=zn(t)),e.writeBytes()}(n,r)),Bn.serialize(t)}},Qn="Buffer",Zn=3e4,Xn=5e3,Jn={create:function(e,t,n){var r,o,a,i,s,u=Qn+"."+e,l=p.create(u),c=t,f=!0,d={},m=[];function v(e,t){L.dispatch(e,Qn,t)}function y(e){L.validateNotificationData(e,["position"]),o&&(T(),O()),i.getSegmentStorage(c).setTimePosition(e.data.position),P()}function g(t){L.validateNotificationData(t,["bufferId","streamId","position"]),t.data.bufferId===e&&(r=t.data.position,o=t.data.streamId,t.data.streamId.indexOf("text")>-1&&P())}function E(t){L.validateNotificationData(t,["bufferId"]),t.data.bufferId===e&&(r=void 0,o=void 0)}function S(t){if(L.validateNotificationData(t,["bufferId"]),t.data.bufferId===e){var s,u=i.getSegmentStorage(c);if(function(){if(!o)return!1;if(c.indexOf("text")>-1)return!0;var e=i.getSegmentStorage(c).activeFragmentStartTime;if(e===me.UINT32_MAX_VALUE)return!1;var t=i.getSegmentStorage(o);return t.setTimePosition(e),t.activeFragmentStartTime!==me.UINT32_MAX_VALUE&&t.nextFragmentStartTime>=r&&t.nextFragmentContainsRAP}())return void T();for(;u&&u.hasNextFragment&&!s;)s=u.getNextFragment(),f&&!s.containsRAP?s=null:f=!1;s&&(function(t){var n=i.getSegmentStorage(c);a!==t.hash&&n.getConfigForHash(t.hash)&&(l.info("appending config",{streamId:c,fragmentHash:t.hash,fragmentStart:t.start}),v(C.APPEND,{streamId:c,bufferId:e,start:t.start,end:t.end,duration:t.duration,bytes:n.getConfigForHash(t.hash)}),a=t.hash)}(s),function(t){var r=i.getSegmentStorage(c),o=t.bytes,a={start:t.start,end:t.end};"video"===n.substr(0,5)&&ze.FAKE_FIRST_SAMPLE_AS_IDR&&(t.containsRAP?r.hasNextFragment&&!r.nextFragmentContainsRAP&&(o=function(e,t){var n,r=i.getSegmentStorage(c),o=[];for(l.debug("merging subsequent fragments without RAP");r.hasNextFragment&&!r.nextFragmentContainsRAP;)n=r.getNextFragment(),e.end=n.end,o.push(n.bytes);return Yn.mergeFragments([t].concat(o))}(a,o)):(o=Yn.setFirstSampleAsRAP(o),v(h.MISSING_RAP_AT_RANGE,{start:t.start,end:t.end}))),m.push(a),v(C.APPEND,{streamId:c,bufferId:e,start:t.start,end:t.end,duration:t.duration,bytes:o})}(s))}}function T(){if(c=o,o=void 0,r=void 0,l.info("switching stream"),c.indexOf("text")>-1)O();else{var e=i.getSegmentStorage(c);s=e.activeFragmentStartTime}}function O(){s=void 0,v(C.STREAM_SWITCH,{bufferId:e,streamId:c})}function _(t){if(L.validateNotificationData(t,["position"]),void 0!==s&&s<=t.data.position&&O(),m.length&&t.data.position-Zn>m[0].start){for(var n=m.shift(),r=t.data.position-Xn;m.length&&m[0].end<r;)n.end=m.shift().end;v(C.REMOVE,{streamId:c,bufferId:e,start:n.start,end:n.end})}}function P(){m=[],v(C.PURGE,{streamId:c,bufferId:e})}function I(t){if(e!==t.data.bufferId)return!1;v(C.BUFFER_UPDATING,{bufferId:e}),m=[{start:0,end:0}],v(C.BUFFER_UPDATED,{bufferId:e,ranges:m})}return L.addListener(D.SEEK,y),L.addListener(h.SWITCH_STREAM,g),L.addListener(h.CANCEL_STREAM_SWITCH,E),L.addListener(w.APPEND_TO_BUFFER,S),L.addListener(w.BUFFER_REMOVED,function t(n){L.validateNotificationData(n,["bufferId"]),n.data.bufferId===e&&(L.removeListener(D.SEEK,y),L.removeListener(h.SWITCH_STREAM,g),L.removeListener(h.CANCEL_STREAM_SWITCH,E),L.removeListener(w.APPEND_TO_BUFFER,S),L.removeListener(w.BUFFER_REMOVED,t),L.removeListener(b.POSITION,_),L.removeListener(C.BUFFER_CLEAR,I),c=null,o=null,i=null,s=void 0)}),L.addListener(b.POSITION,_),L.addListener(C.BUFFER_CLEAR,I),i=En.getInstance(),d.bufferId=e,d.contentType=n,d}},$n="BufferManager",er=p.create($n);function tr(e,t){L.dispatch(e,$n,t)}var nr={create:function(){var e,t,n,r,o=[],a=!1,i={},s={},u={},l=0;function c(){for(a=!0;o.length;){var t=o.shift();p(t.streamId,t.contentType)}e=setInterval(_,1e3)}function f(){a=!1,v(),clearInterval(e)}function d(e){L.validateNotificationData(e,["streamId","contentType"]),a?p(e.data.streamId,e.data.contentType):o.push({streamId:e.data.streamId,contentType:e.data.contentType})}function p(e,t){var n,o=t.split("/")[0],a=Object.keys(i).filter(function(e){return e.indexOf(o)>-1})[0];a?n=a:(n=o+"."+Pe.random(3),i[n]=Jn.create(n,e,t)),V.firstReferencePosition&&r.getSegmentStorage(e).setTimePosition(V.firstReferencePosition+(Date.now()-V.startTime)),s[n]=[],tr(w.BUFFER_ADDED,{streamId:e,bufferId:n,contentType:t})}function m(e){i.hasOwnProperty(e)&&(delete i[e],delete s[e],delete u[e],tr(w.BUFFER_REMOVED,{bufferId:e}))}function v(){for(var e in i)i.hasOwnProperty(e)&&m(e)}function g(e){L.validateNotificationData(e,["bufferId"]),m(e.data.bufferId)}function E(e){L.validateNotificationData(e,["bufferId"]),u[e.data.bufferId]=!0}function S(e){L.validateNotificationData(e,["bufferId","ranges"]),u[e.data.bufferId]=!1,s[e.data.bufferId]=e.data.ranges,_()}function T(e){L.validateNotificationData(e,["position"]),l=e.data.position,_()}function O(e){var t=e.substring(0,e.indexOf("."));return V.representations.some(function(e){return e.mediaType.indexOf(t)>-1})}function _(){var e=function(){var e=["audio","video"].filter(function(e){return(V.representations||[]).some(function(t){return t.mediaType.indexOf(e)>-1})});return Object.getOwnPropertyNames(s).reduce(function(t,n){var r=n.split(".")[0];return-1!==e.indexOf(r)&&(t[n]=s[n]),t},{})}(),r=function(e){return Object.getOwnPropertyNames(e).every(function(n){var r=e[n];return G.remainingTotal(l,r)>=t})}(e),o=Object.getOwnPropertyNames(e).map(function(t){return e[t]}),a=G.intersect.apply(null,o),i=G.remainingTotal(l,a);for(var c in r&&i<n?t+=1e3:t=F.get(R.MINIMUM_REMAINING_THRESHOLD),s)if(s.hasOwnProperty(c)&&!u[c]){var f=G.remainingTotal(l,s[c]);f||!V.representations||O(c)?f<t&&tr(w.APPEND_TO_BUFFER,{bufferId:c}):m(c)}}return er.debug("create"),L.addListener(B.SOURCE_OPEN,c),L.addListener(B.SOURCE_CLOSE,f),L.addListener(h.ADD_BUFFER,d),L.addListener(h.REMOVE_BUFFER,g),L.addListener(D.CLEANUP,function n(){L.removeListener(B.SOURCE_OPEN,c),L.removeListener(B.SOURCE_CLOSE,f),L.removeListener(h.ADD_BUFFER,d),L.removeListener(h.REMOVE_BUFFER,g),L.removeListener(D.CLEANUP,n),L.removeListener(C.BUFFER_UPDATING,E),L.removeListener(C.BUFFER_UPDATED,S),L.removeListener(b.POSITION,T),L.removeListener(D.SEEK,T),L.removeListener(y.SEGMENT_STORAGE_UPDATED,_),L.removeListener(B.SOURCE_BUFFER_ADDED,_),L.removeListener(Bt.TEXT_TRACK_ADDED,_),v(),clearInterval(e),i=null,o=null,l=null,s=null,u=null,t=null,tr(X.DESTROY)}),L.addListener(C.BUFFER_UPDATING,E),L.addListener(C.BUFFER_UPDATED,S),L.addListener(b.POSITION,T),L.addListener(D.SEEK,T),L.addListener(y.SEGMENT_STORAGE_UPDATED,_),L.addListener(B.SOURCE_BUFFER_ADDED,_),L.addListener(Bt.TEXT_TRACK_ADDED,_),t=F.get(R.MINIMUM_REMAINING_THRESHOLD),n=F.get(R.COLDSTART_THRESHOLD),tr(X.CREATE),r=En.getInstance(),{name:$n}},name:$n};function rr(e,t){return e/t}var or,ar={seconds:rr,milliseconds:function(e,t){return Math.floor(1e3*rr(e,t))}},ir={offset:function(e){void 0===or&&(or=e.baseMediaDecodeTime),e.baseMediaDecodeTime-=or,e.writeBytes()}},sr=["moof","mdat"],ur=p.create("FragmentExtractor");function lr(e,t,n,r){var o=Gn.getBoxByPath({boxes:e},"moof.traf.tfdt"),a=Gn.getBoxByPath({boxes:e},"moof.traf.trun");if(o&&a){ze.OFFSET_FRAGMENTS_TO_ZERO&&ir.offset(o);var i=ar.milliseconds(o.baseMediaDecodeTime,n),s=ar.milliseconds(t.subsegmentDuration,n);return{start:i,duration:s,end:i+s,bytes:Bn.serialize({boxes:e}),containsRAP:!!t.containsRAP,rapType:t.rapType,rapDeltaTime:t.rapDeltaTime,sampleCount:a.samples.length,hash:r}}ur.warn("a mandatory box is missing from the fragment, skip parsing.",{hash:r})}var cr={process:function(e,t){for(var n,r,o,a=Gn.getBoxByFourCC(t,"sidx"),i=[],s=[],u=function(e,t){var n=[e],r=Gn.getBoxByPath(t,"free.ustm.fhst");return r&&(n=r.hashes),n}(e,t),l=0;l<t.boxes.length;++l)r=t.boxes[l],-1!==sr.indexOf(r.fourCC)&&(s.push(r),sr.indexOf(r.fourCC)===sr.length-1&&(o=u[Math.min(i.length,u.length-1)],(n=lr(s,a.references[i.length],a.timeScale,o))&&i.push(n),s=[]));return i}},fr="ConfigExtractor";function dr(e,t,n){!function(e,t){L.dispatch(e,fr,t)}(v.CONFIG,{config:e,hash:t,streamId:n})}var pr={process:function(e,t){!function(e,t){for(var n,r=0;t&&r<t.boxes.length;++r)"fmov"===t.boxes[r].fourCC&&(n=Gn.getBoxByFourCC(t.boxes[r],"hash"),dr(Gn.getBoxByFourCC(t.boxes[r],"idta").rawInit,n.hash,e))}(e,Gn.getBoxByPath(t,"free.ustm"))}},hr={create:function(e,t,n,r){var o,a=0,i=[],s=0,u=me.UINT32_MAX_VALUE,l=me.UINT32_MAX_VALUE,c=0;function f(){return n&&n.length}function d(){return f()&&(0===a||a-1<n.length)}function p(){if(d())return n[0===a?a:a-1]}function h(){return f()&&a<n.length}function m(){a=0,v()}function v(){o.hasActiveFragment=d(),o.activeFragmentStartTime=function(){var e=p();return e?e.start:me.UINT32_MAX_VALUE}(),o.hasNextFragment=h(),o.hasNextRAPFragment=function(){for(var e=a;e<n.length;){if(n[e].containsRAP)return!0;++e}return!1}(),o.nextFragmentContainsRAP=!!h()&&n[a].containsRAP,o.nextFragmentStartTime=h()?n[a].start:me.UINT32_MAX_VALUE}return function(){for(var e=0;n&&e<n.length;++e)(n[e].containsRAP||"audio"===t.split(":")[0])&&i.push(n[e].start),s+=n[e].bytes.length;f()&&(u=n[0].start,l=n[n.length-1].start+n[n.length-1].duration,c=l-u)}(),o={getActiveFragment:p,lastSegment:!!r,getNextFragment:function(){var e=h()?n[a++]:void 0;return v(),e},setTimePosition:function(e){m();for(var t=0;n&&t<n.length;++t)if(n[t].containsRAP){if(!(n[t].start<=e))break;a=t}v()},reset:m,segmentId:e,streamId:t,fragments:n,size:s,keyFrames:i,firstTimestamp:u,lastTimestamp:l,duration:c},v(),o}},mr="MP4SegmentWrapper",vr=["video/mp4","audio/mp4"],yr=function(){var e=p.create(mr);function t(e,t){L.dispatch(e,mr,t)}function n(n){L.validateNotificationData(n,["segmentId","streamId","raw","contentType"]),-1!==vr.indexOf(n.data.contentType)&&(0===n.data.raw.length?ze.ZERO_BYTE_SEGMENT&&(e.warn("zero byte segment",{streamId:n.data.streamId,segmentId:n.data.segmentId}),function(e){var n=hr.create(e.segmentId,e.streamId,[]);t(v.EMPTY_SEGMENT,{segment:n,streamId:e.streamId,segmentId:e.segmentId})}({segmentId:n.data.segmentId,streamId:n.data.streamId})):function(n){var r,o,a,i=Bn.parse(n.raw);pr.process(n.streamId,i),Gn.getBoxByFourCC(i,"styp")&&(r=cr.process(n.streamId,i),a=function(e){var t=!1,n=Gn.getBoxByFourCC(e,"styp");return n&&(t=-1!==n.compatibleBrands.indexOf("lmsg")),t}(i),o=hr.create(n.segmentId,n.streamId,r,a),e.debug("process segment",{streamId:n.streamId,segmentId:n.segmentId,firstTimestamp:o.firstTimestamp,lastTimestamp:o.lastTimestamp,duration:o.duration,keyFrames:o.keyFrames,lastSegment:o.lastSegment}),t(v.SEGMENT,{segment:o,streamId:n.streamId,segmentId:n.segmentId,firstTimestamp:o.firstTimestamp,lastTimestamp:o.lastTimestamp,duration:o.duration,keyFrames:o.keyFrames}))}({segmentId:n.data.segmentId,streamId:n.data.streamId,raw:n.data.raw}))}return L.addListener(D.CLEANUP,function e(){L.removeListener(D.CLEANUP,e),L.removeListener(v.RAW,n),t(X.DESTROY)}),L.addListener(v.RAW,n),t(X.CREATE),{name:mr}},gr=" --\x3e ",br=new RegExp("([0-9:.]+)"+gr+"([0-9.:]+)(.*)");function Er(e){var t=e.replace(/[^0-9.:]/gi,"").split(":");return 60*Number(t[0])*60+60*Number(t[1])+Number(t[2])}var Sr,Tr={parse:function(e){var t=[],n=e.replace(/\r\n/g,"\n").split("\n\n"),r=function(e){for(var t=0;t<e.length;){var n=e[t];if(br.test(n))return t;t++}return-1}(n);return-1===!r?t:t=n.slice(r).map(function(e){return e.split("\n").filter(function(e){return""!==e})}).filter(function(e){return e.length>=2}).map(function(e){return function(e){var t=function(e){var t=e.filter(function(e){return new RegExp(gr).test(e)});return e.indexOf(t[0])}(e),n=0===t?null:e[0],r=t+1,o=e[t].match(br),a=o[1],i=o[2],s=o[3]?o[3].split(" ").filter(function(e){return!!e}).reduce(function(e,t){var n=t.split(":");switch(n[0]){case"A":n[0]="align";break;case"T":n[0]="position";break;case"L":n[0]="line";break;case"S":n[0]="size";break;case"D":n[0]="vertical"}return e[n[0]]=function(e){return function(e){return/%$/.test(e)}(e)?+e.slice(0,-1):parseInt(e,10)||e}(n[1]),e},{}):null,u=e.slice(r).filter(function(e){return""!==e});return{id:n,start:Er(a),end:Er(i),payload:u,meta:s}}(e)})}},Or="VTTSegmentWrapper",Cr=[a.VTT],wr=function(){var e=p.create(Or);function t(e,t){L.dispatch(e,Or,t)}function n(n){L.validateNotificationData(n,["segmentId","streamId","raw","contentType"]),-1!==Cr.indexOf(n.data.contentType)&&function(n){var r=function(e,t){for(var n=[];e.length;){var r=e.shift(),o=1e3*r.start,a=1e3*r.end,i=r.payload.join("\n");n.push({start:o,duration:a-o,end:a,bytes:{id:r.id,meta:r.meta,text:i,length:i.length},containsRAP:!0,rapType:0,rapDeltaTime:0,sampleCount:r.payload.length,hash:t})}return n}(Tr.parse(n.raw),n.streamId),o=hr.create(n.segmentId,n.streamId,r);e.debug("process segment",{segment:o,streamId:n.streamId,segmentId:n.segmentId,firstTimestamp:o.firstTimestamp,lastTimestamp:o.lastTimestamp,duration:o.duration,keyFrames:o.keyFrames}),t(v.SEGMENT,{segment:o,streamId:n.streamId,segmentId:n.segmentId,firstTimestamp:o.firstTimestamp,lastTimestamp:o.lastTimestamp,duration:o.duration,keyFrames:o.keyFrames})}({segmentId:n.data.segmentId,streamId:n.data.streamId,raw:n.data.raw})}return L.addListener(D.CLEANUP,function e(){L.removeListener(D.CLEANUP,e),L.removeListener(v.RAW,n),t(X.DESTROY)}),L.addListener(v.RAW,n),t(X.CREATE),{name:Or}},_r="BroadcasterTimer",Pr=p.create(_r),Ir=function(){return Sr||(Sr=function(){var e,t,n=v(),r=0,o=[];function a(){Pr.info("destroyed"),L.removeListener(D.PAUSE,c),L.removeListener(D.SUSPEND,c),L.removeListener(D.RESUME,f),L.removeListener(D.WAKE,f),L.removeListener(D.SET_OPTION,d),L.removeListener(D.CLEANUP,a),L.removeListener(h.FINISHED,p),i()}function i(){u(),o=[],r=0,t=void 0,Sr=null}function s(){e=setInterval(m,n)}function u(){clearInterval(e)}function l(){return(new Date).getTime()}function c(){u()}function f(){s()}function d(e){L.validateNotificationData(e,["name"]),e.data.name===R.MOVING_WINDOW_INTERVAL_DELAY&&(n=v(),u(),s())}function p(){u()}function m(){var e=t?l()-t:n;r+=e,t=l(),L.dispatch(h.BROADCASTER_TIME_UPDATE,_r,{position:r,bufferIds:o})}function v(){return F.get(R.MOVING_WINDOW_INTERVAL_DELAY)}return L.addListener(D.PAUSE,c),L.addListener(D.SUSPEND,c),L.addListener(D.RESUME,f),L.addListener(D.WAKE,f),L.addListener(D.SET_OPTION,d),L.addListener(D.CLEANUP,a),L.addListener(h.FINISHED,p),s(),{startInterval:s,reset:i,destroy:a,tickAhead:function(e){r=Math.max(0,r+e)},getPosition:function(){return r},setMovingWindow:m,addBufferId:function(e){o.push(e)}}}()),Sr},Lr="ContentRangeLive",Rr=1,Ar=10;function kr(){return(new Date).getTime()}var Nr,Dr=function(e){var t,n,r,o,a,i=e.bufferId,s=e.segmentLength,u=Ir(),l=p.create(Lr+"."+i),c=Date.now()-e.lastStreamModuleReceived,f=e.segmentStartId+Math.floor((c||0)/s),d=f,m=f,v=e.segmentStartId+Math.floor((e.contentLength||0)/s),y=f,g=e.contentLength?0:null;function E(e){L.validateNotificationData(e,["position"]),T(e.data.position)}function S(e){L.validateNotificationData(e,["position"]),T(e.data.position)}function T(e){o=kr(),d=w(r=e)||null,u.setMovingWindow()}function C(e){if(L.validateNotificationData(e,["position","bufferIds"]),e.data.bufferIds.includes(i)){var t=y,n=g;if(o){var a=kr()-o,u=r+a;u>=g&&(g=u)}(V.firstReferenceId||0===V.firstReferenceId)&&(y=V.firstReferenceId+Math.floor(e.data.position/s),m=y-Ar,v=y+Rr),_(),(t!==y||n!==g)&&L.dispatch(h.CONTENT_MOVED,Lr,{bufferId:i,currentId:y,playPosition:g,videoTagSegmentId:d})}}function w(e){if("number"!=typeof n||"number"!=typeof e)return y;var r=e-n;return Math.max(0,t+Math.floor(r/s))}function _(){a.startId=m,a.endId=v,a.currentId=y,a.playPosition=g}return L.addListener(b.POSITION,E,L.MAXIMUM_PRIORITY),L.addListener(O.STALLED,S,L.MAXIMUM_PRIORITY),L.addListener(D.SEEK,E,L.MAXIMUM_PRIORITY),L.addListener(h.BROADCASTER_TIME_UPDATE,C),u.addBufferId(i),a={setReferencePoint:function(e,r){t=e,n=r,V.firstReferencePosition=V.firstReferencePosition||n,V.firstReferenceId=V.firstReferenceId||t},getSegmentIdForPosition:function(e){u.setMovingWindow();var t=w(e);return t>=m&&t<=v?t:void 0},setContentEnd:function(e){v=e,_()},broadcasterTickAhead:u.tickAhead,destroy:function(){l.info("destroyed"),L.removeListener(b.POSITION,E),L.removeListener(D.SEEK,E),L.removeListener(O.STALLED,S),L.removeListener(h.BROADCASTER_TIME_UPDATE,C),m=null,v=null,y=null,t=null,n=null,r=null,o=null,_()},getPlayPosition:function(){return g}},_(),a},Mr="ContentRangeRecorded",Ur=function(e){var t,n,r=e.bufferId,o=e.segmentLength,a=p.create(Mr+"."+r),i=e.segmentStartId,s=i,u=0,l=Math.floor(e.contentLength/o),c=Math.floor(e.startTime/o),f=e.contentLength?0:null;function d(e){L.validateNotificationData(e,["position"]),t=e.data.position,s=v(t)||null,m(e)}function m(e){L.validateNotificationData(e,["position"]);var t=c,n=f;f=e.data.position,c=i+Math.floor(f/o),y(),(t!==c||n!==f)&&L.dispatch(h.CONTENT_MOVED,Mr,{bufferId:r,currentId:c,playPosition:f,videoTagSegmentId:s})}function v(e){return Math.floor(e/o)}function y(){n.currentId=c,n.playPosition=f,n.startId=u,n.endId=l}return L.addListener(D.SEEK,m),L.addListener(qe.GAP_RECOVERING,m),L.addListener(b.POSITION,d,L.MAXIMUM_PRIORITY),n={getSegmentIdForPosition:v,setContentEnd:function(e){l=e,y()},destroy:function(){a.info("destroyed"),L.removeListener(D.SEEK,m),L.removeListener(qe.GAP_RECOVERING,m),L.removeListener(b.POSITION,d),u=null,l=null,c=null,t=null,y()}},y(),L.dispatch(h.ATLAS_FULLY_INITIALIZED,Mr),n},xr="livePauseHandler",jr=null,Fr=null,Vr=function(e){return jr||(jr=function(e){function t(){var r=e.getPlayPosition()||V.firstReferencePosition,o=Date.now()-Fr;!function(e,t){L.dispatch(e,xr,t)}(D.SEEK,{position:r+o}),L.removeListener(D.RESUME,t),L.addListener(De.SEEK,n)}function n(){L.addListener(D.PAUSE,r),L.removeListener(De.SEEK,n)}function r(){Fr=Date.now(),L.addListener(D.RESUME,t),L.removeListener(D.PAUSE,r)}return L.addListener(D.PAUSE,r),L.dispatch(h.ATLAS_FULLY_INITIALIZED,xr),{destroy:function(){L.removeListener(D.RESUME,t),L.removeListener(D.PAUSE,r),L.removeListener(De.SEEK,n),jr=null,Fr=null}}}(e)),jr},Br=function(e,t){var n,r,o;function a(t){n=t.data.position,r=e.getSegmentIdForPosition(n),L.addListener(y.SEGMENT_STORAGE_UPDATED,u)}function i(e,t){return e.start<=t&&e.end>=t}function s(e){var t=function(e){var t=e.ids.findIndex(function(e){return i(e,r)});return e.ranges[t]}(e);0!==(t?Math.abs(t.end-t.start):0)&&(i(t,n)?l():function(e){var t=function(e){return e.start>n?e.start:e.end}(e);Nr.getSegmentStorage(o).setTimePosition(t),l()}(t))}function u(e){L.validateNotificationData(e,["streamId","ranges","ids"]),o===e.data.streamId&&s({ranges:e.data.ranges,ids:e.data.ids})}function l(){n=null,r=null,L.removeListener(y.SEGMENT_STORAGE_UPDATED,u)}return o=t,Nr=En.getInstance(),L.addListener(D.SEEK,a),{setStreamId:function(e){o=e},destroy:function(){return l(),L.removeListener(D.SEEK,a),o=null,Nr=null,null}}},Hr=function(e,t){var n=e.slice().reverse().findIndex(t);return-1===n?-1:e.length-1-n},Gr={create:function(e){var t=e.bufferId,n=e.representationsOptions,r=e.lastStreamModuleReceived,o=p.create("ContentLoader."+t),a=!n.contentLength;V.startTime=V.startTime||(new Date).getTime(),V.isLive=a;var i,s,u,l,c,f,d,m={},E={},S=zt.stringify(n),T=0,O=0,w=0;function _(){L.removeListener(D.CLEANUP,_),L.removeListener(D.SUSPEND,B),L.removeListener(g.SEGMENT_MISSING,$),L.removeListener(g.SEGMENT_MISSING_BY_ID,ee),L.removeListener(v.SEGMENT,Q),L.removeListener(v.EMPTY_SEGMENT,Z),L.removeListener(v.FAILED,X),L.removeListener(y.SEGMENT_STORAGE_UPDATED,Y),L.removeListener(h.CONTENT_MOVED,q),L.removeListener(h.SWITCH_STREAM,z),L.removeListener(h.CANCEL_STREAM_SWITCH,W),L.removeListener(C.STREAM_SWITCH,K),L.removeListener(D.PAUSE,x),L.removeListener(D.SEEK,P),L.removeListener(D.WAKE,H),L.removeListener(v.SEGMENT,J),i=i.destroy(),s&&(s=s.destroy()),u=clearTimeout(u),d=d.destroy(),m={},A(h.ABORT_DOWNLOAD,{streamId:S}),c&&A(h.ABORT_DOWNLOAD,{streamId:c})}function P(e){w=e.data.position,U(),L.removeListener(D.SEEK,P),L.addListener(De.SEEK,I,L.MINIMUM_PRIORITY),L.addListener(b.SEEK_COMPLETED,I,L.MINIMUM_PRIORITY)}function I(){L.addListener(h.CONTENT_MOVED,q),L.addListener(D.PAUSE,x),L.removeListener(De.SEEK,I),L.removeListener(b.SEEK_COMPLETED,I)}function A(e,t){L.dispatch(e,"ContentLoader",t)}function k(e,t,n){if(!function(e,t){return null!==M(e,t)}(e,t)){var r={streamId:e,segmentId:t,contentType:E[e].contentType,reason:n};A(h.REQUEST_SEGMENT,r)}}function N(e,t,n){u=setTimeout(function(){k(e,t,n)},10)}function M(e,t){var n=m[e];if(!n)return null;for(var r=n.ids,o=0;o<r.length;o+=1){var a=r[o];if(a.start<=t&&t<=a.end)return a}return null}function U(){if(i){var e,t,n=function(){var e=m[S];if(!e)return null;if(!i)return null;var t=e.ranges,n=e.ids,r=Hr(t,function(e){var t=e.start,n=e.end;return w>=t&&w<=n+200});return-1===r?null:n[r]}();if(n)e=G.remaining(i.playPosition,m[S].ranges),t=n.end+1;else{e=0,t=i.currentId;var r=M(S,t);r&&(t=r.end+1)}e<function(){if(ze.INFINITE_THRESHOLD_WHILE_PLAYING_LIVE&&a)return 1/0;var e=F.get(R.CHUNK_PRELOAD_COUNT);return E[S].segmentLength*e}()&&j(t)&&(k(S,t,"check remaining time"),c&&t>f&&k(c,t,"check remaining time while switching quality"))}}function x(){L.removeListener(D.SEEK,P),L.removeListener(h.CONTENT_MOVED,q),L.removeListener(D.PAUSE,x),L.addListener(D.SEEK,P)}function j(e){return i.startId<=e&&i.endId>=e}function B(){L.removeListener(D.SUSPEND,B),L.removeListener(h.CONTENT_MOVED,q),L.addListener(D.WAKE,H)}function H(){L.removeListener(D.WAKE,H),L.addListener(h.CONTENT_MOVED,q),L.addListener(D.SUSPEND,B)}function q(e){L.validateNotificationData(e,["bufferId","playPosition"]),w=e.data.playPosition,e.data.bufferId===t&&U()}function z(e){if(L.validateNotificationData(e,["bufferId","streamId","position"]),e.data.bufferId===t){if(c===S)return f=void 0,void(c=void 0);if(c===e.data.streamId)return;if(void 0!==(f=i.getSegmentIdForPosition(e.data.position))){k(c=e.data.streamId,f,"start quality change");var n=i.currentId,r=M(S,f);r&&(n=Math.max(n,r.end));for(var a=1;a<=n-f;a++)k(c,f+a,"request chunks before contentrange endId")}else o.error("unable to get segmentId for "+e.data.position)}}function W(e){L.validateNotificationData(e,["bufferId"]),e.data.bufferId===t&&(c&&A(h.ABORT_DOWNLOAD,{streamId:c}),c=void 0,f=void 0)}function K(e){L.validateNotificationData(e,["bufferId","streamId"]),e.data.bufferId===t&&e.data.streamId===c&&(A(h.ABORT_DOWNLOAD,{streamId:S}),S=c,c=void 0,d.setStreamId(S),te())}function Y(e){L.validateNotificationData(e,["streamId","ranges","ids"]);var t=e.data.streamId;E.hasOwnProperty(t)&&(m[t]={ranges:e.data.ranges,ids:e.data.ids},U())}function Q(e){if(L.validateNotificationData(e,["streamId","segmentId","firstTimestamp","duration","segment"]),E.hasOwnProperty(e.data.streamId)&&e.data.firstTimestamp!==me.UINT32_MAX_VALUE){a&&i.setReferencePoint(e.data.segmentId,e.data.firstTimestamp),e.data.segment.lastSegment&&i.setContentEnd(e.data.segmentId),Math.abs(E[e.data.streamId].segmentLength-e.data.duration)>.2*E[e.data.streamId].segmentLength&&o.warn("unusual segment duration: "+e.data.duration+", segmentId: "+e.data.segmentId),T+=e.data.duration,O+=E[e.data.streamId].segmentLength;var t=T-O;o.debug("downloaded duration: "+T+", expected duration: "+O+", diff: "+t)}}function Z(e){if(L.validateNotificationData(e,["streamId","segmentId"]),E.hasOwnProperty(e.data.streamId)){var t=e.data.segmentId+1;!a&&j(t)&&k(e.data.streamId,t,"zero byte segment")}}function X(e){L.validateNotificationData(e,["streamId","segmentId","status"]),E.hasOwnProperty(e.data.streamId)&&a&&404===e.data.status&&(L.removeListener(v.SEGMENT,J),L.addListener(v.SEGMENT,J,L.MAXIMUM_PRIORITY))}function J(e){L.validateNotificationData(e,["streamId","segmentId","firstTimestamp"]),E.hasOwnProperty(e.data.streamId)&&(L.removeListener(v.SEGMENT,J),i.broadcasterTickAhead(-1*me.DOWNLOAD_RETRY_DELAY))}function $(e){if(L.validateNotificationData(e,["streamId","position"]),E.hasOwnProperty(e.data.streamId)){var t=i.getSegmentIdForPosition(e.data.position);void 0!==t?N(e.data.streamId,t,"segment missing by position"):o.error("unable to get segmentId for position: "+e.data.position)}}function ee(e){L.validateNotificationData(e,["streamId","segmentId"]),E.hasOwnProperty(e.data.streamId)&&N(e.data.streamId,e.data.segmentId,"segment missing by id")}function te(){l.baseUrl=E[S].baseUrl,l.segmentUrl=E[S].segmentUrl,l.initUrl=E[S].initUrl,l.streamId=S}return o.debug("init",{bufferId:t,activeStreamId:S,representations:n}),L.addListener(D.CLEANUP,_),L.addListener(D.SUSPEND,B),L.addListener(g.SEGMENT_MISSING,$),L.addListener(g.SEGMENT_MISSING_BY_ID,ee),L.addListener(v.SEGMENT,Q),L.addListener(v.EMPTY_SEGMENT,Z),L.addListener(v.FAILED,X),L.addListener(y.SEGMENT_STORAGE_UPDATED,Y),L.addListener(h.CONTENT_MOVED,q),L.addListener(h.SWITCH_STREAM,z),L.addListener(h.CANCEL_STREAM_SWITCH,W),L.addListener(C.STREAM_SWITCH,K),E[S]=n,function(e){var n,o=E[S];if(!o.contentLength)return i=Dr({bufferId:t,segmentStartId:e,segmentLength:o.segmentLength,lastStreamModuleReceived:r}),s=Vr(i),L.addListener(D.PAUSE,x),L.addListener(D.SEEK,P),!1;n=V.player&&V.player.element?1e3*V.player.element.currentTime:Date.now()-V.startTime,i=Ur({bufferId:t,segmentStartId:e,segmentLength:o.segmentLength,contentLength:o.contentLength,startTime:n})}(E[S].segmentId),d=new Br(i,S),E[S].initUrl?k(S,i.currentId,"start with header"):k(S,i.currentId,"start with segment"),l={update:function(e){var t=zt.stringify(e);E[t]=e},destroy:_},te(),l}},qr={create:function(e){var t,n,r,o=zt.stringify(e),a=p.create("Representation."+e.contentType),i=e.contentType+';codecs="'+e.codecs+'"',s=0,u=!1;function l(e,t){L.dispatch(e,"buffer",t)}function c(){L.removeListener(D.SUSPEND,c),L.addListener(D.WAKE,f)}function f(){L.addListener(D.SUSPEND,c),L.removeListener(D.WAKE,f),d()}function d(){l(h.ADD_BUFFER,{streamId:o,contentType:i})}function m(e,t){var n=vn.getRepresentation(e),r=vn.getRepresentation(t);return n.label!==r.label||n.country!==r.country||n.language!==r.language?"language":"quality"}function v(e){e.originId.split(":")[1]===nr.name&&d()}function y(e){L.validateNotificationData(e,["position"]),s=e.data.position}function E(r){if(L.validateNotificationData(r,["bufferId","contentType"]),r.data.contentType===i){L.removeListener(w.BUFFER_ADDED,E),t=r.data.bufferId,a.debug("onBufferAdded "+t);var s=vn.getRepresentation(o);n=Gr.create({bufferId:t,representationsOptions:s,lastStreamModuleReceived:e.lastStreamModuleReceived})}}function S(e){L.validateNotificationData(e,["streamId","position"]),u&&e.data.streamId===o&&l(h.SWITCH_STREAM,{bufferId:t,streamId:r,position:e.data.position})}function T(e){if(L.validateNotificationData(e,["bufferId","streamId"]),e.data.bufferId===t){l("language"===m(o,r)?h.LANGUAGE_CHANGE_COMPLETED:h.QUALITY_CHANGE_COMPLETED,{prevStreamId:o,activeStreamId:r}),vn.removeRepresentation(o);var n=vn.getRepresentation(e.data.streamId);vn.addRepresentation(n,e.data.streamId,"active"),u=!1,o=e.data.streamId,r=void 0,O()}}function O(){var e=vn.getRepresentation(o);F.set(R.MOVING_WINDOW_INTERVAL_DELAY,e.segmentLength/10)}return vn.addRepresentation(e,o,"active"),O(),In.update(o,e),L.addListener(D.CLEANUP,function e(){L.removeListener(D.CLEANUP,e),L.removeListener(D.SUSPEND,c),L.removeListener(D.WAKE,c),L.removeListener(X.CREATE,v),L.removeListener(w.BUFFER_ADDED,E),L.removeListener(b.POSITION,y),L.removeListener(g.KEYFRAME_POSITION,S),L.removeListener(C.STREAM_SWITCH,T),In.reset(o),r&&In.reset(r),o=void 0,t=void 0,i=void 0,n=void 0,s=0,r=void 0,u=!1,vn.cleanup()}),L.addListener(D.SUSPEND,c),L.addListener(X.CREATE,v),L.addListener(w.BUFFER_ADDED,E),L.addListener(b.POSITION,y),L.addListener(g.KEYFRAME_POSITION,S),L.addListener(C.STREAM_SWITCH,T),d(),{updateHash:function(e){var t=zt.stringify(e);In.update(t,e)},update:function(e){var c=zt.stringify(e);In.update(c,e);var f=c===o?"active":"requested";vn.addRepresentation(e,c,f),n&&n.update(e),u&&c!==r&&(a.debug("cancel stream switch",{activeStreamId:o,targetStreamId:r}),l("language"===m(o,r)?h.LANGUAGE_CHANGE_CANCELLED:h.QUALITY_CHANGE_CANCELLED,{activeStreamId:o,targetStreamId:r}),vn.removeRepresentation(r),l(h.CANCEL_KEYFRAME_REQUEST,{streamId:o}),l(h.CANCEL_STREAM_SWITCH,{bufferId:t,streamId:r}),r=void 0,u=!1),u||c===o||function(e){r=e,u=!0;var n=vn.getRepresentation(e).segmentLength;a.debug("switch stream, searching switch position",{activeStreamId:o,targetStreamId:r,playPosition:s,segmentLength:n}),l("language"===m(o,r)?h.LANGUAGE_CHANGE_STARTED:h.QUALITY_CHANGE_STARTED,{activeStreamId:o,targetStreamId:r}),i.indexOf("video")>-1?l(h.REQUEST_KEYFRAME_POSITION,{after:s,streamId:o}):l(h.SWITCH_STREAM,{bufferId:t,streamId:r,position:s})}(c)},destroy:function(){vn.removeRepresentation(o),vn.removeRepresentation(r),n.destroy()}}}},zr="SegmentedController";function Wr(e,t){L.dispatch(e,zr,t)}var Kr=function(e){var t,n,r=p.create(zr),o=1/0,i=!1;function s(e){L.validateNotificationData(e,["position"]),o=Math.min(o,e.data.position),r.info("last segment reached, content finishes at "+o)}function u(){i=!1}function l(e){var t=e.type===b.BUFFER_EMPTY?200:0;L.validateNotificationData(e,["position"]),e.data.position>=o-t&&!i&&(r.info("content finished"),i=!0,n=setTimeout(function(){Wr(h.FINISHED)},10))}function c(){for(var t,n,r=[],o=0;o<e.representations.length;++o)n=e.representations[o],(t={}).contentType=n.contentType,t.codecs=n.codecs,t.mediaType=n.contentType,t.initUrl=n.initUrl,t.baseUrl=e.baseUrl,t.segmentUrl=n.segmentUrl,t.segmentId=e.segmentId,t.segmentLength=n.segmentLength||5e3,t.hashes=e.hashes,t.contentLength=e.contentLength,t.contentStart=e.contentStart,t.lastStreamModuleReceived=e.lastStreamModuleReceived,t.label=n.label,t.country=n.country,t.language=n.language,r.push(t);return r}function f(n){L.validateNotificationData(n,["hashes"]),e=Object.assign(e,{hashes:n.data.hashes}),c().forEach(function(e){var n=e.mediaType;t[n]&&t[n].updateHash(e)})}function d(n){L.validateNotificationData(n,["options"]),e=n.data.options;for(var r=c(),o=[],a=0;a<r.length;++a){if(t.hasOwnProperty(r[a].mediaType))t[r[a].mediaType].update(r[a]);else{if(["video/mp4","audio/mp4"].includes(r[a].mediaType))return void Wr(h.NEW_REPRESENTATION,{mediaType:r[a].mediaType});t[r[a].mediaType]=qr.create(r[a])}o.push(r[a].mediaType)}for(var i in t)t.hasOwnProperty(i)&&o.indexOf(i)<0&&(t[i].destroy(),delete t[i])}function m(t){L.validateNotificationData(t,["bufferId","contentType"]),-1!==t.data.contentType.indexOf(a.VTT)&&Vt.appendBuffer(t.data.bufferId,function(t){return e.representations.filter(function(e){return e.contentType===t})[0]}(a.VTT))}return e.contentLength&&(o=void 0!==e.contentStart?e.contentStart:0,o+=e.contentLength),function(e){t={};for(var n=0;n<e.length;++n)t.hasOwnProperty(e[n].mediaType)?r.warn("duplicated media type: "+e[n].mediaType):t[e[n].mediaType]=qr.create(e[n])}(c()),L.addListener(y.EOS_POSITION_DETECTED,s),L.addListener(b.POSITION,l),L.addListener(b.BUFFER_EMPTY,l),L.addListener(D.SEEK,u),L.addListener(D.CLEANUP,function e(){L.removeListener(y.EOS_POSITION_DETECTED,s),L.removeListener(b.POSITION,l),L.removeListener(b.BUFFER_EMPTY,l),L.removeListener(D.SEEK,u),L.removeListener(D.CLEANUP,e),L.removeListener(D.UPDATE_OPTIONS,d),L.removeListener(D.UPDATE_HASHES,f),L.removeListener(w.BUFFER_ADDED,m),t=null,n=clearTimeout(n),Wr(X.DESTROY)}),L.addListener(D.UPDATE_OPTIONS,d),L.addListener(D.UPDATE_HASHES,f),L.addListener(w.BUFFER_ADDED,m),Wr(X.CREATE),{name:zr}},Yr=p.create("URLTools"),Qr={parseURLVariables:function(e){Yr.debug("parseURLVariables "+e);var t,n={};if(-1!==e.indexOf("?")){t=e.split("?")[1].split("&");for(var r=0;r<t.length;++r)n[t[r].split("=")[0]]=t[r].split("=")[1]}return n},serializeURLVariables:function(e){Yr.debug("serializeURLVariables ",e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+e[n]);return t.join("&")}},Zr="FLVSegmenterController",Xr=5e3,Jr=15e3,$r=p.create(Zr);function eo(e,t){L.dispatch(e,Zr,t)}var to=function(e){var t,n,r,o,a,i,s,u,l=zt.stringify(e),c=!1,f=0;function d(){L.removeListener(D.CLEANUP,d),L.removeListener(jt.METADATA,T),L.removeListener(jt.FAILED,S),L.removeListener(w.BUFFER_ADDED,I),L.removeListener(v.LOAD_COMPLETE,P),L.removeListener(y.SEGMENT_STORAGE_UPDATED,E),L.removeListener(D.UPDATE_OPTIONS,R),L.removeListener(X.CREATE,p),L.removeListener(g.SEGMENT_MISSING,O),L.removeListener(D.SEEK,C),L.removeListener(b.POSITION,C),L.removeListener(b.POSITION,_),L.removeListener(b.BUFFER_EMPTY,_),eo(X.DESTROY)}function p(e){var t=e.originId.split(":")[1];$r.warn("onComponentCreate "+t+" "+Dn.name),"DownloadManager"===t&&m()}function m(){eo(h.LOAD_MOVIE_META,{url:a+"?"+Qr.serializeURLVariables(i),streamId:l})}function E(e){L.validateNotificationData(e,["streamId","ranges","ids"]),e.data.streamId===l&&(void 0===f&&e.data.ranges.length&&(f=e.data.ranges[0].start),s=e.data.ranges,u=e.data.ids,A())}function S(e){L.validateNotificationData(e,["streamId"]),$r.error("onDownloaderFailure"),d()}function T(e){if(L.validateNotificationData(e,["streamId","metadata"]),l===e.data.streamId)if($r.debug("onDownloaderMetadata",e.data.metadata),e.data.metadata.segments){r=e.data.metadata.contentLength,o=e.data.metadata.contentSize,n=e.data.metadata.segments.positions,t=e.data.metadata.segments.times;for(var a=1;a<t.length;++a)t[a]===t[a-1]&&(t.splice(a,1),n.splice(a,1),a--);eo(h.ADD_BUFFER,{streamId:l,contentType:"flv"})}else $r.error("onDownloaderMetadata : no segment info in metadata, unable to continue"),d()}function O(e){L.validateNotificationData(e,["streamId","position"]),e.data.streamId===l&&(f=e.data.position,A())}function C(e){L.validateNotificationData(e,["position"]),f=e.data.position,A()}function _(e){L.validateNotificationData(e,["position"]);var t=e.type===b.BUFFER_EMPTY?200:0;e.data.position>=r-t&&($r.info("content finished"),eo(h.FINISHED))}function P(e){L.validateNotificationData(e,["streamId"]),e.data.streamId===l&&($r.debug("download complete"),c=!1)}function I(e){L.validateNotificationData(e,["streamId"]),k()}function R(e){L.validateNotificationData(e,["options"]),U(e.data.options)}function A(){G.remaining(f,s)<Xr&&!c&&k()}function k(){var d=G.current(f,s),p=d?u[s.indexOf(d)]:null,m=p?p.end+1:function(e){for(var n=1;n<t.length;++n)if(t[n]>e)return n-1;return 1/0}(f),v=function(e){for(var n=0,o=0;o<Jr&&e+n<t.length;)o+=N(t,e+ ++n,r)-t[e];return n}(m);m!==1/0&&v&&function(s,u){c&&eo(h.ABORT_DOWNLOAD,{streamId:l});for(var f=[],d=[],p=[],m=s;m<s+u;++m)f.push(m),p.push(M(n,o,m)),d.push(M(t,r,m));i[e.seekParameter]=n[s];var v=a+"?"+Qr.serializeURLVariables(i);c=!0,eo(h.LOAD_SEGMENT,{streamId:l,segmentIds:f,segmentDurations:d,segmentSizes:p,url:v})}(m,v)}function N(e,t,n){return t<e.length?e[t]:n}function M(e,t,n){return(n<e.length-1?e[n+1]:t)-e[n]}function U(e){a=e.url.split("?")[0],i=Qr.parseURLVariables(e.url)}return U(e),vn.addRepresentation(e,l,"active"),$r.debug("baseUrl: "+a,i),i.ri=0,i.rs=0,L.addListener(D.CLEANUP,d),L.addListener(jt.METADATA,T),L.addListener(jt.FAILED,S),L.addListener(w.BUFFER_ADDED,I),L.addListener(v.LOAD_COMPLETE,P),L.addListener(y.SEGMENT_STORAGE_UPDATED,E),L.addListener(D.UPDATE_OPTIONS,R),L.addListener(X.CREATE,p),L.addListener(g.SEGMENT_MISSING,O),L.addListener(D.SEEK,C),L.addListener(b.POSITION,C),L.addListener(b.POSITION,_),L.addListener(b.BUFFER_EMPTY,_),eo(X.CREATE),eo(h.ATLAS_FULLY_INITIALIZED,Zr),m(),{name:Zr}},no="DirectController";function ro(e,t){L.dispatch(e,no,t)}var oo=function(e){var t;function n(){ro(De.SEEK,{position:t}),L.removeListener(O.TIME_UPDATE,n)}function r(){ro(De.PLAY),L.removeListener(O.EMPTIED,r),!V.isLive&&t>0&&L.addListener(O.TIME_UPDATE,n)}function o(n){L.validateNotificationData(n,["options"]);var o=e.url,a=n.data.options.url;o!==a&&function(e){L.addListener(O.EMPTIED,r),t=1e3*St.getCurrentTime(),ro(h.STREAM_URL,{source:e})}(a),e=n.data.options}function a(){ro(h.FINISHED)}function i(){ro(h.STREAM_URL,{source:e.url})}return L.addListener(O.ENDED,a),L.addListener(D.CLEANUP,function e(){L.removeListener(O.ENDED,a),L.removeListener(D.CLEANUP,e),L.removeListener(D.WAKE,i),L.removeListener(O.TIME_UPDATE,n),L.removeListener(D.UPDATE_OPTIONS,o),L.removeListener(O.EMPTIED,r),vn.cleanup(),ro(X.DESTROY)}),L.addListener(D.WAKE,i),L.addListener(D.UPDATE_OPTIONS,o),vn.addRepresentation(e,"direct","active"),ro(h.STREAM_URL,{source:e.url}),ro(h.ATLAS_FULLY_INITIALIZED,no),{name:no}},ao="GarbageCollector",io={UNUSED:"unused",USED:"used",SWITCH:"switch"},so=.8,uo=p.create(ao);function lo(){return F.get(R.MEMORY_LIMIT_IN_BYTES)}function co(e,t){L.dispatch(e,ao,t)}var fo=function(){var e=0,t=!1,n={},r={},o=null;function a(){var n=lo();return e>n*(t?so:1)}function i(u){L.validateNotificationData(u,["streamId"]);var l=lo();if(!a())return t=!1,uo.info("memory usage is back to normal",{memoryLimit:l,limitThreshold:l*so,memoryUsage:e}),void L.removeListener(y.SEGMENT_STORAGE_UPDATED,i);var c=Object.getOwnPropertyNames(n).sort(s),f=!!c.length&&c.shift();if(!function(e){return n[e].usage===io.USED||n[e].usage===io.SWITCH}(f)&&n[f].size>e-l)return o.removeSegmentStorage(f),void delete n[f];var d=!!f&&function(e){return function(e){return n[e]&&n[e].ids.length&&n[e].ids[0].start<r[e]}(e)?cn.DISCARD_START_SEGMENT:!!function(e){return n[e]&&n[e].ids.length&&n[e].ids[n[e].ids.length-1].end>r[e]}(e)&&cn.DISCARD_END_SEGMENT}(f);d?(t=!0,co(d,{streamId:f})):(uo.warn("memory usage is high but there is no segment to discard",{memoryLimit:l,limitThreshold:l*so,memoryUsage:e}),L.removeListener(y.SEGMENT_STORAGE_UPDATED,i))}function s(e,t){if(n[e].usage!==n[t].usage){if(n[t].usage===io.UNUSED)return 1;if(n[e].usage===io.UNUSED)return-1;if(n[t].usage===io.USED)return 1;if(n[e].usage===io.USED)return-1}return n[t].length-n[e].length}function u(e,t){if(t!==io.UNUSED){var r={mediaType:zt.split(e).mediaType,usage:t};for(var o in n)l(o,r)&&(n[o].usage=io.UNUSED);n[e]=n[e]||{},n[e].usage=t}else n[e].usage=t}function l(e,t){if(n.hasOwnProperty(e))return!1;for(var r in t)if(t.hasOwnProperty(r)&&e[r]!==t[r])return!1;return!0}function c(t){var r;L.validateNotificationData(t,["streamId","size","ranges","ids"]),n[t.data.streamId]=n[t.data.streamId]||{},(r=n[t.data.streamId]).ids=t.data.ids,r.size=t.data.size,r.ranges=t.data.ranges,r.length=function(e){for(var t=0,n=0;n<e.length;++n)t+=e[n].end-e[n].start;return t}(t.data.ranges),r.usage=r.usage||io.UNUSED,r.mediaType=zt.split(t.data.streamId).mediaType,function(){for(var t in e=0,n)n.hasOwnProperty(t)&&(e+=n[t].size)}()}function f(n){L.validateNotificationData(n,["streamId","segmentId"]),r[n.data.streamId]=n.data.segmentId,u(n.data.streamId,io.USED),t||function(t){if(a()){var n=lo();uo.info("memory usage exceeds limit",{memoryLimit:n,limitThreshold:n*so,memoryUsage:e}),L.addListener(y.SEGMENT_STORAGE_UPDATED,i,L.MINIMUM_PRIORITY),i(t)}}(n)}function d(e){L.validateNotificationData(e,["streamId"]),u(e.data.streamId,io.USED)}function p(e){L.validateNotificationData(e,["streamId"]),u(e.data.streamId,io.SWITCH)}function h(e){L.validateNotificationData(e,["limit"]),uo.warn("apiEvents.SET_MAX_MEMORY_USAGE is deprecated, use the options module!"),F.set(R.MEMORY_LIMIT_IN_BYTES,e.data.limit)}return uo.debug("init"),L.addListener(y.SEGMENT_STORAGE_UPDATED,c),L.addListener(g.SEGMENT_CHANGE,f),L.addListener(C.STREAM_SWITCH,d),L.addListener(w.BUFFER_ADDED,p),L.addListener(D.SET_MAX_MEMORY_USAGE,h),L.addListener(D.CLEANUP,function e(){L.removeListener(y.SEGMENT_STORAGE_UPDATED,c),L.removeListener(y.SEGMENT_STORAGE_UPDATED,i),L.removeListener(g.SEGMENT_CHANGE,f),L.removeListener(C.STREAM_SWITCH,d),L.removeListener(w.BUFFER_ADDED,p),L.removeListener(D.SET_MAX_MEMORY_USAGE,h),L.removeListener(D.CLEANUP,e),n=null,r=null,o=null,co(X.DESTROY)}),o=En.getInstance(),co(X.CREATE),{name:ao}},po=p.create("ComponentFactory");function ho(e){return e.some(function(e){return e.contentType===a.VTT})}var mo=function(e,t){!function(e,t){switch(t.format){case a.MP4_SEGMENTED:St.create().initVideo(e),Te(t.contentLength),ho(t.representations)&&en.create(t),nr.create(),ln(),Dn.create(),En.create(),yr(),wr();break;case a.HLS:case a.MP4_MOVIE:St.create().initVideo(e);break;case a.FLV_MOVIE:case a.FLV_SEGMENTED:ke(e,t.debug),Dn.create()}}(e,t),function(e){switch(e.format){case a.FLV_MOVIE:fo(),to(e);break;case a.FLV_SEGMENTED:case a.MP4_SEGMENTED:fo(),Kr(e);break;case a.HLS:case a.MP4_MOVIE:oo(e)}}(t)},vo=function(e){return-1===Ct.indexOf(e.format)?(po.error("unsupported format",{format:e.format}),!1):!(e.format===a.MP4_SEGMENTED&&!function(e){for(var t,n,r,o=!0,i=0;e.representations&&i<e.representations.length;++i)(n=e.representations[i]).contentType===a.VTT?(t='application/mp4; codecs="text/vtt"',r=!0):(t=n.contentType+';codecs="'+n.codecs+'"',r=Ce(t)),r?po.info("playable type",{mediaType:t}):po.error("unplayable type",{mediaType:t}),o=o&&r;return o}(e))},yo=function(e){switch(e.format){case a.MP4_SEGMENTED:ho(e.representations)&&en.create()}};function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var bo,Eo,So,To,Oo=1,Co=p.create("Atlas"),wo=null;function _o(){Mo(r.ATLAS_FULLY_INITIALIZED)}function Po(){xo(),So.cleanup(),So=null,Eo=null,wo=null,F.cleanup(),Io(),No(X.CREATE,jo),No(b.ERROR,Bo),No(b.POSITION,qo),No(b.RESIZE,zo),No(b.BUFFERED,Wo),No(b.BUFFER_EMPTY,ta),No(b.BUFFER_FULL,ta),No(b.THROTTLE,na),No(b.CC_DETECTED,ra),No(b.AUDIO_TRACKS,sa),No(b.TEXT_TRACKS,ua),No(b.SEEK_COMPLETED,fa),No(b.WEBKIT_SUPPORTS_FULLSCREEN,ia),No(O.WEBKIT_ENTER_FULLSCREEN,oa),No(O.WEBKIT_END_FULLSCREEN,aa),No(b.UNRECOVERED_STALLED,la),No(b.PLAY_ERROR,ca),No(De.SEEK,fa),No(C.BUFFER_UPDATED,Wo),No(v.LOAD_COMPLETE,Fo),No(v.FAILED,Vo),No(y.SEGMENT_STORAGE_UPDATED,$o),No(h.FINISHED,ea),No(h.CAN_NOT_CREATE_URL,Ho),No(h.NEW_REPRESENTATION,Go),No(h.QUALITY_CHANGE_STARTED,Ko),No(h.QUALITY_CHANGE_CANCELLED,Yo),No(h.QUALITY_CHANGE_COMPLETED,Qo),No(h.ATLAS_FULLY_INITIALIZED,_o),No(h.LANGUAGE_CHANGE_STARTED,Zo),No(h.LANGUAGE_CHANGE_CANCELLED,Xo),No(h.LANGUAGE_CHANGE_COMPLETED,Jo),No(jt.METADATA,da),No(qe.GAP_RECOVERING,pa),Do(D.CLEANUP),p.cleanup()}function Io(){To.initialized=!!So}function Lo(e){xo(),Oo=e,Do(D.VOLUME,{volume:Oo})}function Ro(e,t){xo(),e===r.LOG?p.addListener(p.events.LOG,t):So.addListener(e,t)}function Ao(e,t){xo(),e===r.LOG?p.removeListener(p.events.LOG,t):So.removeListener(e,t)}function ko(e,t){L.addListener(e,t,L.MINIMUM_PRIORITY)}function No(e,t){L.removeListener(e,t)}function Do(e,t){L.dispatch(e,"atlas",t)}function Mo(e,t){var n={event:e};"object"===go(t)&&null!==t&&Object.entries(t).forEach(function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(e,2),r=t[0],o=t[1];"event"===r?Co.warn('notify: "event" property ignored on data'):n[r]=o}),So.dispatch("Atlas.*",n),So.dispatch(e,n)}function Uo(e,t,n){var o={error:e,recoverable:n=void 0===n||n,details:t};Mo(r.ERROR,o)}function xo(){if(!So)throw new Error("Initialize Atlas before usage!")}function jo(e){var t=e.originId.split(":")[1].split(".")[0];"QueueStreamProxy"!==t&&t!==St.name||Lo(Oo)}function Fo(e){L.validateNotificationData(e,["time","size","url"]);var t={time:e.data.time,size:e.data.size,url:e.data.url};if(window.performance&&"function"==typeof window.performance.getEntriesByName){var n=performance.getEntriesByName(e.data.url);n.length&&(t.performance=n[0],performance.clearResourceTimings())}Mo(r.BANDWIDTH,t)}function Vo(e){L.validateNotificationData(e,["url","status"]),Uo(404===e.data.status||0===e.data.status?o.SEGMENT_NOT_FOUND:o.SEGMENT_LOAD_FAILED,{url:e.data.url,status:e.data.status,reason:e.data.reason})}function Bo(e){L.validateNotificationData(e,["code","message"]);var t={code:e.data.code,message:e.data.message};Uo(o.VIDEO_PLAYER,t,!1),Po()}function Ho(e){L.validateNotificationData(e,["streamId","segmentId","reason"]),Uo(o.CAN_NOT_CREATE_URL,e.data,!1),Po()}function Go(e){L.validateNotificationData(e,["mediaType"]),Uo(o.NEW_REPRESENTATION,e.data,!1),Po()}function qo(e){L.validateNotificationData(e,["position"]),Mo(r.POSITION,{position:e.data.position})}function zo(e){L.validateNotificationData(e,["width","height"]),wo={width:e.data.width,height:e.data.height}}function Wo(e){L.validateNotificationData(e,["bufferId","ranges"]),Mo(r.BUFFERED,{ranges:e.data.ranges,bufferId:e.data.bufferId})}function Ko(e){L.validateNotificationData(e,["activeStreamId","targetStreamId"]),Mo(r.QUALITY_CHANGE_STARTED,{activeStreamId:e.data.activeStreamId,targetStreamId:e.data.targetStreamId})}function Yo(e){L.validateNotificationData(e,["activeStreamId","targetStreamId"]),Mo(r.QUALITY_CHANGE_CANCELLED,{activeStreamId:e.data.activeStreamId,targetStreamId:e.data.targetStreamId})}function Qo(e){L.validateNotificationData(e,["prevStreamId","activeStreamId"]),Mo(r.QUALITY_CHANGE_COMPLETED,{prevStreamId:e.data.prevStreamId,activeStreamId:e.data.activeStreamId})}function Zo(e){L.validateNotificationData(e,["activeStreamId","targetStreamId"]),Mo(r.LANGUAGE_CHANGE_STARTED,{activeStreamId:e.data.activeStreamId,targetStreamId:e.data.targetStreamId})}function Xo(e){L.validateNotificationData(e,["activeStreamId","targetStreamId"]),Mo(r.LANGUAGE_CHANGE_CANCELLED,{activeStreamId:e.data.activeStreamId,targetStreamId:e.data.targetStreamId})}function Jo(e){L.validateNotificationData(e,["prevStreamId","activeStreamId"]),Mo(r.LANGUAGE_CHANGE_COMPLETED,{prevStreamId:e.data.prevStreamId,activeStreamId:e.data.activeStreamId})}function $o(e){L.validateNotificationData(e,["streamId","ranges"]),Mo(r.STORED,{ranges:e.data.ranges,streamId:e.data.streamId})}function ea(){Mo(r.FINISHED)}function ta(e){switch(e.type){case b.BUFFER_EMPTY:Co.warn("buffer empty"),Mo(r.BUFFER_EMPTY);break;case b.BUFFER_FULL:Co.info("buffer full"),Mo(r.BUFFER_FULL)}}function na(e){L.validateNotificationData(e,["state"]),Mo(r.THROTTLE,{state:e.data.state})}function ra(){Mo(r.X08_DETECTED)}function oa(){Mo(r.WEBKIT_ENTER_FULLSCREEN)}function aa(){Mo(r.WEBKIT_END_FULLSCREEN)}function ia(e){Mo(r.WEBKIT_SUPPORTS_FULLSCREEN,e)}function sa(e){Mo(r.AUDIO_TRACKS,e)}function ua(e){Mo(r.TEXT_TRACKS,e)}function la(e){L.validateNotificationData(e,["position","remaining"]);var t={position:e.data.position,remaining:e.data.remaining};Mo(o.UNRECOVERED_STALLED,t)}function ca(e){L.validateNotificationData(e,["error"]);var t={error:e.data.error};Uo(o.PLAY_ERROR,t)}function fa(){Mo(r.SEEK_COMPLETED)}function da(e){L.validateNotificationData(e,["metadata"]),Mo(r.METADATA,{type:"flv",data:e.data.metadata})}function pa(e){L.validateNotificationData(e,["position","gapLength"]),Mo(r.GAP_RECOVERING,{gapEndPosition:e.data.position,gapLength:e.data.gapLength})}To={events:r,errors:o,logLevels:p.levels,formats:a,capabilities:Ct,version:me.VERSION,internals:V,initialized:!1,initialize:function(e){bo=e,Co.debug("initializing atlas ".concat(me.VERSION),{containerId:bo}),So=u(),F.init(),Io(),L.addListener(X.CREATE,jo)},cleanup:Po,suspend:function(){xo(),Do(D.SUSPEND)},wake:function(){xo(),Do(D.WAKE)},play:function(e){if(Co.debug("play",e),xo(),xt(e)){var t=!Eo;V.isLive=e.isLive,Eo=e,t?function(e){vo(e)?(ko(b.ERROR,Bo),ko(b.POSITION,qo),ko(b.RESIZE,zo),ko(b.BUFFERED,Wo),ko(b.BUFFER_EMPTY,ta),ko(b.BUFFER_FULL,ta),ko(b.THROTTLE,na),ko(b.SEEK_COMPLETED,fa),ko(b.CC_DETECTED,ra),ko(b.AUDIO_TRACKS,sa),ko(b.TEXT_TRACKS,ua),ko(b.WEBKIT_SUPPORTS_FULLSCREEN,ia),ko(O.WEBKIT_ENTER_FULLSCREEN,oa),ko(O.WEBKIT_END_FULLSCREEN,aa),ko(b.UNRECOVERED_STALLED,la),ko(b.PLAY_ERROR,ca),ko(De.SEEK,fa),ko(C.BUFFER_UPDATED,Wo),ko(v.LOAD_COMPLETE,Fo),ko(v.FAILED,Vo),ko(y.SEGMENT_STORAGE_UPDATED,$o),ko(h.FINISHED,ea),ko(h.CAN_NOT_CREATE_URL,Ho),ko(h.NEW_REPRESENTATION,Go),ko(h.QUALITY_CHANGE_STARTED,Ko),ko(h.QUALITY_CHANGE_CANCELLED,Yo),ko(h.QUALITY_CHANGE_COMPLETED,Qo),ko(h.ATLAS_FULLY_INITIALIZED,_o),ko(h.LANGUAGE_CHANGE_STARTED,Zo),ko(h.LANGUAGE_CHANGE_CANCELLED,Xo),ko(h.LANGUAGE_CHANGE_COMPLETED,Jo),ko(jt.METADATA,da),ko(qe.GAP_RECOVERING,pa),mo(bo,e)):Uo(o.UNSUPPORTED)}(e):(yo(e),Do(D.UPDATE_OPTIONS,{options:e}))}else Uo(o.INVALID_OPTIONS)},pause:function(){xo(),Do(D.PAUSE)},resume:function(){xo(),Do(D.RESUME)},seek:function(e){xo(),Co.info("seek",{position:e}),Mo(r.SEEK_STARTED),Do(D.SEEK,{position:Math.floor(e)})},getOption:function(e){return xo(),F.get(e)},setOption:function(e,t){return xo(),F.set(e,t,!0)},optionNames:R,getVideoTag:function(){return V.player&&V.player.element?V.player.element:null},getFlashObjectSize:function(){return wo},setHash:function(e){xo(),Do(D.UPDATE_HASHES,{hashes:e})},setVolume:Lo,getVolume:function(){return xo(),Oo},setPlaybackSpeed:function(e){xo(),Do(D.PLAYBACK_SPEED,{speed:e})},setCaptionPosition:function(e){xo(),Do(D.CAPTION_POSITION,{position:e})},toggleCaptions:function(e){var t=e.trackId,n=e.isVisible;xo(),Do(D.CAPTIONS,{trackId:t,isVisible:n})},selectAudio:function(e){xo(),Do(D.SELECT_AUDIO,{id:e})},getVideoMetrics:function(){return xo(),St.getInstance().getMetrics()},on:Ro,off:Ao,addListener:Ro,removeListener:Ao},Io(),t.default=To}])},function(e,t,n){"use strict";var r,o,a,i,s,u,l=n(7),c=n(106),f=n(3),d=n(2),p=n(19),h=n(11),m="video",v="image",y="slide",g="live",b="offair",E=Object(l.a)("data/content"),S=location.pathname,T=function(){if(h.a.player)return h.a.player.contentType;return h.a.contentType}(),O=T===m||"highlight"===T,C="channel"===T,w="highlight"===T,_=0,P=1,I=0,L=!1,R="",A=null,k=0;function N(){return i===p.a.HLS}function D(){return(P-_)*I}function M(e){if(N())return e;var t=I*_;return Math.max(e-t,0)}!S.includes("/embed/")&&h.a.player?(o=[h.a.player.contentId],"highlight"===h.a.player.contentType&&o.unshift(h.a.player.videoId)):o=S.match(/(\d+)/g),a=+o[0],r=C?"channel":"recorded",f.a.on(f.a.types.EVENT,"live",function(e){e&&(R="",s=void 0),L=e}),f.a.on(f.a.types.EVENT,"meta",function(e){u=Object(c.a)(u,e)}),f.a.on(f.a.types.EVENT,"videoAdPlaying",function(e){e,e?"video":""}),d.a.on(d.a.types.EVENT,d.a.events.CREATE_SLIDESHOW,function(e){R=e.itemType===v?v:y,R=v,s=void 0}),d.a.on(d.a.types.EVENT,d.a.events.CREATE_OFFAIR_VIDEO,function(e){R=m,s=e}),d.a.on(d.a.types.EVENT,d.a.events.DESTROY_OFFAIR_VIDEO,function(){R="",s=void 0}),d.a.on(d.a.types.EVENT,d.a.events.ATLAS_PROGRESS,function(e){k=e}),t.a={TYPE_CHANNEL:"channel",TYPE_RECORDE:"recorded",TYPE_HIGHLIGHT:"highlight",setStreamType:function(e){i=e},getStreamType:function(){return i},isHLS:N,isFLV:function(){return i===p.a.FLV_SEGMENTED||i===p.a.FLV_MOVIE},isMP4:function(){return i===p.a.MP4_SEGMENTED||i===p.a.MP4_MOVIE},isSegmentedMP4:function(){return i===p.a.MP4_SEGMENTED},isContentPlayable:function(){return""===R||R===m},live:function(){return L},meta:function(){return u},cluster:function(){return u&&u.cluster?u.cluster:void 0},offairType:function(){return R},offairVid:function(){return s},getMediaType:function(){return O?m:R?b+R:L?g:"unknown"},id:function(){return a},app:function(){return r},ids:function(){return o},isCid:function(){return C},getType:function(){return C?"channel":w?"highlight":"recorded"},setHighlight:function(e){_=e[0],P=e[1],d.a.send(d.a.types.EVENT,d.a.events.CONTENT_CUT_UPDATE)},getCutStart:function(){return _},getCutEnd:function(){return P},setDurationInMillisec:function(e){I=e,d.a.send(d.a.types.EVENT,d.a.events.DURATION)},getDurationInMillisec:function(){return I},getTrimmedDurationInMillisec:D,getRelativeSeekPositionInMs:M,getAbsoluteSeekPositionInMs:function(e){var t,n;N()?(t=0,n=D()):(t=I*_,n=I*P);var r=t+e;return Math.min(Math.max(t,r),n)},getLastApiSeekPositionInMs:function(){return A},hasLastApiSeekPositionInMs:function(){return null!==A},setLastApiSeekPositionInMs:function(e){A=e},getOwnerChannelId:function(){return h.a.cId},isVid:function(){return O},isHid:function(){return w},isOffairVid:function(){return R===m},isOffairImg:function(){return R===v},getMid:function(){return[this.app()].concat(o).join(".")},isLiveContent:function(){return!this.isVid()&&""===R},getUrl:function(e,t){var n=new URL("https://ustream.tv");if(t?n.pathname+="".concat("embed","/"):C&&(n.pathname+="".concat("channel","/")),O&&(n.pathname+="".concat("recorded","/")),n.pathname+="".concat(o[0]),w&&(n.pathname+="/".concat("highlight","/").concat(o[1])),e){n.pathname+="/pop-out";var r=M(k),a=Math.ceil(r/1e3);a>0&&(n.hash="to".concat(a))}return n.toString()},update:function(e,t){E.debug("update ",{type:e,ids:t}),Array.isArray(t)||(t=[t]),o=t,R="",_=0,P=1,I=0,"channel"===e?(C=!0,a=t[0],r="channel",O=!1,w=!1):e===m||"recorded"===e?(O=!0,a=t[0],r="recorded",C=!1,w=!1):"highlight"===e&&(O=!0,w=!0,a=t[0],r="recorded",C=!1),f.a.send(f.a.types.EVENT,"contentUpdate")}}},function(e,t,n){"use strict";var r={FATAL:100,ERROR:200,WARN:300,INFO:400,DEBUG:500};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){if(!("object"===a(e)&&null!==e))return e;if(!(e instanceof HTMLElement||e instanceof Event))try{return JSON.parse(JSON.stringify(e))}catch(e){return}}var s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=Object.assign({keepLogsInMs:18e5},t),this.transports=[],this.logs={permanent:[],temporary:[]}}var t,n,a;return t=e,(n=[{key:"removeOldLogs",value:function(){var e=Date.now()-this.options.keepLogsInMs,t=this.logs.temporary,n=t.findIndex(function(t){return t.date>e});return n>-1?t.splice(0,n):t.splice(0),this}},{key:"getLogs",value:function(){this.removeOldLogs();var e=this.logs;return function(e,t){for(var n=[],r=e.length+t.length,o=0,a=0;o+a<r;){var i=e[o],s=t[a];!s||i&&i.date<=s.date?(n.push(i),o+=1):(n.push(s),a+=1)}return n}(e.permanent,e.temporary)}},{key:"addTransport",value:function(e){return this.transports.includes(e)||(this.transports.push(e),this.removeOldLogs(),this.getLogs().forEach(function(t){return e(t)})),this}},{key:"removeTransport",value:function(e){var t=this.transports.indexOf(e);return t>-1&&this.transports.splice(t,1),this}},{key:"log",value:function(e){var t=e.level,n=void 0===t?r.DEBUG:t,o=e.source,a=void 0===o?"":o,s=e.line,u=void 0===s?"":s,l=e.data,c=e.keep,f=void 0!==c&&c,d={date:Date.now(),level:n,source:a,line:u,data:i(l)};return(f?this.logs.permanent:this.logs.temporary).push(d),this.removeOldLogs(),this.transports.forEach(function(e){return e(d)}),this}},{key:"fatal",value:function(e){return this.log(Object.assign({},e,{level:r.FATAL}))}},{key:"error",value:function(e){return this.log(Object.assign({},e,{level:r.ERROR}))}},{key:"warn",value:function(e){return this.log(Object.assign({},e,{level:r.WARN}))}},{key:"info",value:function(e){return this.log(Object.assign({},e,{level:r.INFO}))}},{key:"debug",value:function(e){return this.log(Object.assign({},e,{level:r.DEBUG}))}}])&&o(t.prototype,n),a&&o(t,a),e}();n.d(t,"a",function(){return l});var u=new s({keepLogsInMs:18e5});t.b=u;function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{log:function(t,n,r,o){return u.log({level:t,source:e,line:n,data:r,keep:o}),this},fatal:function(t,n,r){return u.fatal({source:e,line:t,data:n,keep:r}),this},error:function(t,n,r){return u.error({source:e,line:t,data:n,keep:r}),this},warn:function(t,n,r){return u.warn({source:e,line:t,data:n,keep:r}),this},info:function(t,n,r){return u.info({source:e,line:t,data:n,keep:r}),this},debug:function(t,n,r){return u.debug({source:e,line:t,data:n,keep:r}),this}}}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.a=function e(t,n,o){if(""===n)return t;if(!(null!==t&&"object"===r(t)))return o;var a=n.split("."),i=a.slice(0,1),s=a.slice(1),u=t[i];return void 0===u?o:e(u,s.join("."),o)}},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(0),a=n.n(o),i=n(1),s=n.n(i),u=a.a.createContext(null),l=function(e){function t(t){var n;n=e.call(this,t)||this;var r=t.store;return n.state={storeState:r.getState(),store:r},n}r(t,e);var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this.subscribe()},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe(),this._isMounted=!1},n.componentDidUpdate=function(e){this.props.store!==e.store&&(this.unsubscribe&&this.unsubscribe(),this.subscribe())},n.subscribe=function(){var e=this,t=this.props.store;this.unsubscribe=t.subscribe(function(){var n=t.getState();e._isMounted&&e.setState(function(e){return e.storeState===n?null:{storeState:n}})});var n=t.getState();n!==this.state.storeState&&this.setState({storeState:n})},n.render=function(){var e=this.props.context||u;return a.a.createElement(e.Provider,{value:this.state},this.props.children)},t}(o.Component);l.propTypes={store:s.a.shape({subscribe:s.a.func.isRequired,dispatch:s.a.func.isRequired,getState:s.a.func.isRequired}),context:s.a.object,children:s.a.any};var c=l;function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var p=n(142),h=n.n(p),m=n(86),v=n.n(m),y=n(140);function g(e,t){void 0===t&&(t={});var n=t,i=n.getDisplayName,s=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,l=n.methodName,c=void 0===l?"connectAdvanced":l,p=n.renderCountProp,m=void 0===p?void 0:p,g=n.shouldHandleStateChanges,b=void 0===g||g,E=n.storeKey,S=void 0===E?"store":E,T=n.withRef,O=void 0!==T&&T,C=n.forwardRef,w=void 0!==C&&C,_=n.context,P=void 0===_?u:_,I=d(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]);v()(void 0===m,"renderCountProp is removed. render counting is built into the latest React dev tools profiling extension"),v()(!O,"withRef is removed. To access the wrapped instance, use a ref on the connected component");var L="To use a custom Redux store for specific components,  create a custom React context with React.createContext(), and pass the context object to React Redux's Provider and specific components like:  <Provider context={MyContext}><ConnectedComponent context={MyContext} /></Provider>. You may also pass a {context : MyContext} option to connect";v()("store"===S,"storeKey has been removed and does not do anything. "+L);var R=P;return function(t){var n=t.displayName||t.name||"Component",i=s(n),u=f({},I,{getDisplayName:s,methodName:c,renderCountProp:m,shouldHandleStateChanges:b,storeKey:S,displayName:i,wrappedComponentName:n,WrappedComponent:t}),l=I.pure,d=o.Component;l&&(d=o.PureComponent);var p=function(n){function o(t){var r,o,i,s,u,c,d,p,h,m,y;return r=n.call(this,t)||this,v()(w?!t.wrapperProps[S]:!t[S],"Passing redux store in props has been removed and does not do anything. "+L),r.selectDerivedProps=function(t,n,r,a){if(l&&o===n&&i===t)return s;r===u&&c===a||(u=r,c=a,d=e(r.dispatch,a)),o=n,i=t;var f=d(t,n);return s=f},r.selectChildElement=function(e,t,n){return t===p&&n===h&&y===e||(p=t,h=n,y=e,m=a.a.createElement(e,f({},t,{ref:n}))),m},r.indirectRenderWrappedComponent=r.indirectRenderWrappedComponent.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r)),r}r(o,n);var s=o.prototype;return s.indirectRenderWrappedComponent=function(e){return this.renderWrappedComponent(e)},s.renderWrappedComponent=function(e){v()(e,'Could not find "store" in the context of "'+i+'". Either wrap the root component in a <Provider>, or pass a custom React context provider to <Provider> and the corresponding React context consumer to '+i+" in connect options.");var n,r=e.storeState,o=e.store,a=this.props;w&&(a=this.props.wrapperProps,n=this.props.forwardedRef);var s=this.selectDerivedProps(r,a,o,u);return this.selectChildElement(t,s,n)},s.render=function(){var e=this.props.context&&this.props.context.Consumer&&Object(y.isContextConsumer)(a.a.createElement(this.props.context.Consumer,null))?this.props.context:R;return a.a.createElement(e.Consumer,null,this.indirectRenderWrappedComponent)},o}(d);if(p.WrappedComponent=t,p.displayName=i,w){var g=a.a.forwardRef(function(e,t){return a.a.createElement(p,{wrapperProps:e,forwardedRef:t})});return g.displayName=i,g.WrappedComponent=t,h()(g,t)}return h()(p,t)}}var b=Object.prototype.hasOwnProperty;function E(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function S(e,t){if(E(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!b.call(t,n[o])||!E(e[n[o]],t[n[o]]))return!1;return!0}var T=n(16);function O(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function C(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function w(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=C(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=C(o),o=r(t,n)),o},r}}var _=[function(e){return"function"==typeof e?w(e):void 0},function(e){return e?void 0:O(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?O(function(t){return Object(T.bindActionCreators)(e,t)}):void 0}];var P=[function(e){return"function"==typeof e?w(e):void 0},function(e){return e?void 0:O(function(){return{}})}];function I(e,t,n){return f({},n,e,t)}var L=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,a=n.areMergedPropsEqual,i=!1;return function(t,n,s){var u=e(t,n,s);return i?o&&a(u,r)||(r=u):(i=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return I}}];function R(e,t,n,r){return function(o,a){return n(e(o,a),t(r,a),a)}}function A(e,t,n,r,o){var a,i,s,u,l,c=o.areStatesEqual,f=o.areOwnPropsEqual,d=o.areStatePropsEqual,p=!1;function h(o,p){var h,m,v=!f(p,i),y=!c(o,a);return a=o,i=p,v&&y?(s=e(a,i),t.dependsOnOwnProps&&(u=t(r,i)),l=n(s,u,i)):v?(e.dependsOnOwnProps&&(s=e(a,i)),t.dependsOnOwnProps&&(u=t(r,i)),l=n(s,u,i)):y?(h=e(a,i),m=!d(h,s),s=h,m&&(l=n(s,u,i)),l):l}return function(o,c){return p?h(o,c):(s=e(a=o,i=c),u=t(r,i),l=n(s,u,i),p=!0,l)}}function k(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,a=d(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),i=n(e,a),s=r(e,a),u=o(e,a);return(a.pure?A:R)(i,s,u,e,a)}function N(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function D(e,t){return e===t}var M,U,x,j,F,V,B,H,G,q,z,W,K=(x=(U=void 0===M?{}:M).connectHOC,j=void 0===x?g:x,F=U.mapStateToPropsFactories,V=void 0===F?P:F,B=U.mapDispatchToPropsFactories,H=void 0===B?_:B,G=U.mergePropsFactories,q=void 0===G?L:G,z=U.selectorFactory,W=void 0===z?k:z,function(e,t,n,r){void 0===r&&(r={});var o=r,a=o.pure,i=void 0===a||a,s=o.areStatesEqual,u=void 0===s?D:s,l=o.areOwnPropsEqual,c=void 0===l?S:l,p=o.areStatePropsEqual,h=void 0===p?S:p,m=o.areMergedPropsEqual,v=void 0===m?S:m,y=d(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),g=N(e,V,"mapStateToProps"),b=N(t,H,"mapDispatchToProps"),E=N(n,q,"mergeProps");return j(W,f({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:g,initMapDispatchToProps:b,initMergeProps:E,pure:i,areStatesEqual:u,areOwnPropsEqual:c,areStatePropsEqual:h,areMergedPropsEqual:v},y))});n.d(t,"a",function(){return c}),n.d(t,"b",function(){return K})},function(e,t,n){"use strict";var r,o=n(6),a=n(7),i=n(21),s=n(39),u=n(11),l="false",c="true",f=Object(a.a)("data/params"),d={width:"100%",height:"100%",color:!1,autoplay:!1,controls:!0,wmode:"opaque",locale:u.a.locale,sitemode:!1,bdtools:!1,playing:!1,live:!1,externalVtt:!1,ignoretrim:!1,showHiddenContextMenuItems:!1,loggedIn:u.a.loggedIn,isIbmBranded:u.a.ibmBranding,uumfOffairVods:u.a.uumfOffAirContentVideoIds},p=location.search.match(/([a-z0-9\-_]+)(?:=([a-z0-9\-_\.\:\%]*))?/gi)||[];function h(e,t){var n=o.a.id()+"";d[n]||(d[n]={}),d[n][e]=t}function m(e){var t=o.a.id();return d[t]&&d[t][e]||h(e,!1),d[t][e]}function v(e,t,n){return e.hasOwnProperty(t)?e[t]=e[t]===c||1==+e[t]||""===e[t]||void 0===e[t]:e[t]=n,e}t.a=((r=function(e){var t=e.match(/to(\d+(?::\d+){0,2})/);if(t){var n=t[1].split(":").map(function(e){return parseInt(e,10)}),r=n.pop(),o=n.pop()||0;return 60*(n.pop()||0)*60+60*o+r}}(location.hash))&&h("startAt",r),d=v(d=function(e){try{var t=new URL(s.a);e.isOnUstream=/ustream\.tv(?:\.lh)?$/.test(t.hostname)}catch(t){e.isOnUstream=!1}return e}(d=function(e){return e.showHiddenContextMenuItems=e.showHiddenContextMenuItems===c||"1"===e.showHiddenContextMenuItems||i.b.get("showHiddenContextMenuItems"),e}(d=function(e){return e.popout="/pop-out"===location.pathname.slice(-1*"/pop-out".length),e}(d=function(e){return e.experiment===c||"1"===e.experiment?e.experiment=!0:e.experiment=!1,e}(d=function(e){return e.qosplayer===c||"1"===e.qosplayer?e.qosplayer=!0:e.qosplayer=!1,e}(d=function(e){return e.bdtools&&(e.bdtools=!0,e.autoplay=!0,e.adFree=!0),e}(d=function(e){return e.refTest&&(e.refTest=!0),e}(d=function(e){return e.v=3,e}(d=function(e){var t={green:"ub85a901:lc85a901:ocffffff:ucffffff",red:"ubff3d23:lcff3d23:ocffffff:ucffffff",pink:"ube166b7:lce166b7:ocffffff:ucffffff",orange:"ubff720a:lcff720a:ocffffff:ucffffff"};return e.color&&e.color in t?e.style=t[e.color]:e.ub||e.gradlow?e.style="ub"+(e.ub||e.gradlow):e.style=!1,e}(d=function(e){var t=!!o.a.isCid()&&o.a.id();return e.quality&&("medium"===e.quality?e.quality="med":"hd"===e.quality?e.quality="best":-1===("|"+["low","med","high","best"].join("|")+"|").indexOf("|"+e.quality+"|")&&delete e.quality),e.abs=!1,12930607===t&&(e.quality="high"),-1!==[0,443086,16427094,13434778,13434793,13434812,16433957,16433959,16433961,16433964,16433967,16434052,16434199,16472054,17881973,0].join("|").indexOf("|"+t+"|")&&(e.quality="auto",e.abs=!0),e}(d=function(e){return e.volume&&+e.volume>=0&&+e.volume<=100?e.volume=+e.volume:e.volume=100,e}(d=function(e){return e.lite&&e.lite===c?e.lite=!0:e.lite=!1,e}(d=function(e){return e.showtitle&&e.showtitle===l?e.showtitle=!1:e.showtitle=!0,e}(d=function(e){return"false"===e.controls&&(e.controls=!1),e}(d=function(e){return!e.autoplay||e.autoplay!==c&&1!=e.autoplay?e.autoplay=!1:e.autoplay=!0,e}(d=function(e){return u.a.sessionId&&u.a.adFree?e.adFree=!0:e.adFree=!1,e}(d=function(e){return e.longpoll===c?e.longpoll=!0:e.longpoll=!1,e}(d=function(e,t){var n,r=e?e.length:0;if(r){for(o=0;o<r;o+=1)t[(n=e[o].split("="))[0]]=n[1];f.debug("params from url",e)}if(window==window.parent&&u.a.player&&0!==location.pathname.indexOf("/embed"))for(var o in f.debug("params from exposedVars.player expose",u.a.player),u.a.player)t[o]=u.a.player[o];t.autoPlay&&(t.autoplay=t.autoPlay),t.siteMode&&(t.sitemode=t.siteMode),"false"===t.autoplay&&(t.autoplay=!1),t.branchName=u.a.branchName,t.subscription=u.a.hasSubscription,t.betaChannel=u.a.isBetaChannel,t.isLive=u.a.isLive;var a="channel"===(u.a.player?u.a.player.contentType:u.a.contentType);return t.uumf=!!a||u.a.isUUMF,t.initialQuality=u.a.initialQuality,t.forcedQuality=u.a.forcedQuality,t}(p,d)))))))))))))))))),"theaterVisible",!1),d=v(d,"popoutVisible",!1),d=v(d,"ads",!1),d=v(d,"allowfullscreen",!0),d=v(d,"cmenu",!0),d=v(d,"combinedstreammodule",!1),d=v(d,"disableCaptionSearch",!1),d=v(d,"hideAudioSwitch",!1),d=v(d,"hideCta",!1),(d=function(e){return u.a.align===c||!0===u.a.align?e.align=!0:e.align=!1,e}(d=v(d,"ignoretrim",!1))).setByContent=h,d.getByContent=m,d.update=function(){},f.debug("params object initiated",d,!0),d)},function(e,t,n){"use strict";var r=n(8);t.a=Object(r.a)(window,"ustream.vars",{})},function(e,t,n){var r=n(25),o=n(63),a=n(44),i=n(45),s=n(56),u=function(e,t,n){var l,c,f,d,p=e&u.F,h=e&u.G,m=e&u.S,v=e&u.P,y=e&u.B,g=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?o:o[t]||(o[t]={}),E=b.prototype||(b.prototype={});for(l in h&&(n=t),n)f=((c=!p&&g&&void 0!==g[l])?g:n)[l],d=y&&c?s(f,r):v&&"function"==typeof f?s(Function.call,f):f,g&&i(g,l,f,e&u.U),b[l]!=f&&a(b,l,d),v&&E[l]!=f&&(E[l]=f)};r.core=o,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=Object.freeze({LOADING:"loading",SUCCESS:"success",INFO:"info",ERROR:"error",WARNING:"warning",DEFAULT:"default"})},function(e,t,n){"use strict";var r=n(49),o=n(18);function a(e,t){var n=e.content,a=n.title,i=n.trimmedDuration,s=n.mediaType,u=n.isReplay,l=t?"IBM Video Player ":"";return a&&s?u?"".concat(l,"Replay video, titled: ").concat(a):(s===o.a.offairSlide||s===o.a.offairImage||s===o.a.offairScreen?l+="".concat(a," is offair"):s===o.a.offairVideo?l+="Offair video, titled: ".concat(a):s===o.a.live?l+="Live video, titled: ".concat(a):s===o.a.recorded&&(l+="Video, titled: ".concat(a)),i&&(l+=" ".concat(Object(r.a)(i)," long")),l):""}function i(e){return e.player.playerSize}function s(e){return i({player:e.player}).width<=480}var u=n(40);function l(e){var t=e.playback;return Object(u.a)(t,["video.width","video.height"])}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"c",function(){return l})},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o="Shockwave Flash",a="ShockwaveFlash.ShockwaveFlash",i="application/x-shockwave-flash",s=navigator,u=s.mimeTypes,l=s.userAgent.toLowerCase(),c=s.platform.toLowerCase(),f=window.location;function d(){var e=/android/i.test(l);return e&&(e=l.match(/android (\d+)(?:\.(\d+))?(?:\.(\d+))?/i)).shift(),e}function p(){var e=/iphone|ipad|ipod/.test(l);return e&&(e=l.match(/os (\d*)?_?(\d*)?_?(\d*)/i)).shift(),e}function h(){return/BB10(.*)Mobile/i.test(l)}function m(){return l.indexOf("playstation")>-1}function v(){var e=l.match(/Chrome\/(\d+(?:\.\d+)*)/i);return!(!e||y()||g())&&e[1].split(".")}function y(){var e=l.match(/OPR\/(\d+(?:\.\d+)*)/i);return e?e[1].split("."):!(!window.opera||!window.opera.version)&&window.opera.version().split(".")}function g(){var e=l.match(/Edge\/(\d+(?:\.\d+)*)/i);return!!e&&e[1].split(".")}function b(){var e=void 0,t=void 0;if(void 0===window.ActiveXObject)return!1;try{if(e=new window.ActiveXObject(a))return!(t=e.GetVariable("$version"))||(t=t.split(" ")[1].split(","),[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)])}catch(e){return!1}return!1}var E=p();t.default={w3:void 0!==document.getElementById&&void 0!==document.getElementsByTagName&&void 0!==document.createElement,win:/win/.test(c||l),mac:/mac/.test(c||l),desktop:!(d()||p()||h()||m()),ios:E,android:d(),blackberry:h(),playstation:m(),chrome:v(),opera:y(),ff:function(){var e=l.match(/Firefox\/(\d+(?:\.\d+)*)/i);return!!e&&e[1].split(".")}(),safari:function(){var e=l.match(/Safari/i),t=l.match(/Version\/(\d+(?:\.\d+)*)/i);return!(!e||y()||v()||g())&&(!t||t[1].split("."))}(),ie:function(){var e=document.getElementsByTagName("html")[0],t=l.match(/Trident\/(\d+)/i),n=l.match(/MSIE (\d+(?:\.\d+)*)/i),r=e.className.indexOf("ie ")>-1;return r?!n||n[1].split("."):!!t&&[11,0]}(),phantomJS:/PhantomJS/.test(l),ssl:/https/.test(f.protocol),wk:!!/webkit/.test(l)&&parseFloat(l.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),edgeIe:g(),ws:function(e){var t=r(window.WebSocket);return(t="function"===t||"object"===t)&&void 0===window.WebSocket.prototype.CLOSING&&(t=!1),e&&!t&&(e[0]>4||4===e[0]&&e[1]>2)&&(t=!0),t}(E),storage:function(){var e=String(Math.random());try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}(),placeholder:function(){var e=document.createElement("input"),t=!1;try{t="placeholder"in e}catch(e){t=!1}return t}(),touchEvents:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),swf:function(){var e=[0,0,0],t=void 0;return void 0!==s.plugins&&"object"===r(s.plugins[o])?!(t=s.plugins[o].description)||void 0!==u&&u[i]&&!u[i].enabledPlugin||(t=t.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),e[0]=+t.replace(/^(.*)\..*$/,"$1"),e[1]=+t.replace(/^.*\.(.*)\s.*$/,"$1"),e[2]=/[a-zA-Z]/.test(t)?+t.replace(/^.*[a-zA-Z]+(.*)$/,"$1"):0):b()&&(e=b()),"000"===e.join("")&&(e=!1),e}(),flashPPAPI:function(){var e=u&&u[i]&&u[i].enabledPlugin&&u[i].enabledPlugin.filename||"";return"pepflashplayer.dll"===(e=e.toLowerCase())||"libpepflashplayer.so"===e||"pepperflashplayer.plugin"===e||"chrome.plugin"===e.slice(-13)}(),flashActiveX:b(),nav:{appCodeName:s.appCodeName,appName:s.appName,appVersion:s.appVersion,cpuClass:s.cpuClass,platform:s.platform,product:s.product,userAgent:s.userAgent,vendor:s.vendor,vendorSub:s.vendorSub}}}]).default},function(e,t,n){"use strict";n.r(t),n.d(t,"__DO_NOT_USE__ActionTypes",function(){return a}),n.d(t,"applyMiddleware",function(){return v}),n.d(t,"bindActionCreators",function(){return f}),n.d(t,"combineReducers",function(){return l}),n.d(t,"compose",function(){return m}),n.d(t,"createStore",function(){return s});var r=n(141),o=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+o(),REPLACE:"@@redux/REPLACE"+o(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+o()}};function i(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var o;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,l=t,c=[],f=c,d=!1;function p(){f===c&&(f=c.slice())}function h(){if(d)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return l}function m(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(d)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var t=!0;return p(),f.push(e),function(){if(t){if(d)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");t=!1,p();var n=f.indexOf(e);f.splice(n,1)}}}function v(e){if(!i(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,l=u(l,e)}finally{d=!1}for(var t=c=f,n=0;n<t.length;n++){(0,t[n])()}return e}return v({type:a.INIT}),(o={dispatch:v,subscribe:m,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,v({type:a.REPLACE})}})[r.a]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e},o}function u(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function l(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var i,s=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:a.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){i=e}return function(e,t){if(void 0===e&&(e={}),i)throw i;for(var r=!1,o={},a=0;a<s.length;a++){var l=s[a],c=n[l],f=e[l],d=c(f,t);if(void 0===d){var p=u(l,t);throw new Error(p)}o[l]=d,r=r||d!==f}return r?o:e}}function c(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var o=e[r];"function"==typeof o&&(n[r]=c(o,t))}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map(function(e){return e(o)});return h({},n,{dispatch:r=m.apply(void 0,a)(n.dispatch)})}}}},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var i=o.apply(null,r);i&&e.push(i)}else if("object"===a)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"g",function(){return i}),n.d(t,"f",function(){return s}),n.d(t,"i",function(){return u}),n.d(t,"e",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return d});var r=n(35);function o(e){return{type:r.a.setDuration,payload:e}}function a(e){return{type:r.a.setTrimmedDuration,payload:e}}function i(e){return{type:r.a.setTrimInfo,payload:e}}function s(e){return{type:r.a.setTitle,payload:e}}function u(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:r.a.toggleAudioOnly,payload:e}}function l(e){return{type:r.a.setStreamInfo,payload:{streamInfo:e}}}function c(e){return{type:r.a.setMediaId,payload:{id:e}}}var f={live:"LIVE",recorded:"RECORDED",offairImage:"OFFAIR_IMAGE",offairSlide:"OFFAIR_SLIDE",offairVideo:"OFFAIR_VIDEO",offairScreen:"OFFAIR_SCREEN"};function d(e){if(e&&!Object.values(f).includes(e))throw new Error("Invalid media type");return{type:r.a.setMediaType,payload:e}}},function(e,t,n){"use strict";t.a={FLV_MOVIE:"flv",FLV_SEGMENTED:"flv/segmented",MP4_MOVIE:"mp4",MP4_SEGMENTED:"mp4/segmented",HLS:"hls",VTT:"text/vtt"}},function(e,t,n){"use strict";n.d(t,"i",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"k",function(){return s}),n.d(t,"j",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"h",function(){return f}),n.d(t,"a",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"b",function(){return h});var r=n(31);function o(e){return{type:r.a.toggleFullScreen,payload:e}}function a(e){return{type:r.a.setVolume,payload:e}}function i(e){return{type:r.a.setPlaybackSpeed,payload:e}}function s(e){return{type:r.a.toggleTheaterMode,payload:e}}function u(e){return{type:r.a.toggleStatsOverlay,payload:e}}function l(e){return{type:r.a.toggleDebugOverlay,payload:e}}function c(e){return{type:r.a.resize,payload:e}}function f(e){return{type:r.a.toggleFlagOverlay,payload:e}}var d={oldBrowser:"OLD_BROWSER"};function p(e){return{type:r.a.showNotification,payload:e}}function h(e){return{type:r.a.hideNotification,payload:e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"c",function(){return c});var r=n(48),o=n(15);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(){};function s(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={};null!==t?(o.createdAt=+new Date,o.value=t,r.expires&&("object"===a(r.expires)?o.expires=r.expires.getTime():((n=new Date).setTime(n.getTime()+24*r.expires*60*60*1e3),o.expires=n.getTime())),localStorage.setItem(e,JSON.stringify(o))):localStorage.removeItem(e)}function u(e){var t=localStorage.getItem(e),n=!1;return t&&(n=(t=JSON.parse(t)).value,t.expires&&t.expires<+new Date)?(s(e,null),null):n}i=n.n(o).a.storage?function(){return{set:s,get:u}}:function(){return{set:r.a.set,get:r.a.get}},t.b=i();var l="jsDebugConsoleLogOn",c="jsOldBrowserNotification"},function(e,t,n){"use strict";t.a={setBufferEmpty:"SET_BUFFER_EMPTY",setWebkitSupportsFullscreen:"SET_WEBKIT_SUPPORTS_FULLSCREEN",selectAudio:"SELECT_AUDIO",setAudioTracks:"SET_AUDIO_TRACKS",setStreamModuleReceivedDate:"SET_STREAM_MODULE_RECEIVED_DATE",selectClosedCaption:"SELECT_CLOSED_CAPTION",setClosedCaptionTracks:"SET_CLOSED_CAPTION_TRACKS",setCodecInfo:"SET_CODEC_INFO",setPlaybackStats:"SET_PLAYBACK_STATS",togglePlaying:"TOGGLE_PLAYING",setHash:"SET_HASH",setProgress:"SET_PROGRESS"}},function(e,t,n){"use strict";t.a={setStreamModule:"SET_STREAM_MODULE",setMetaModule:"SET_META_MODULE",setAllTimeTotalModule:"SET_ALL_TIME_TOTAL_MODULE",setAllViewersModule:"SET_ALL_VIEWERS_MODULE",setViewersModule:"SET_VIEWERS_MODULE",setLogoModule:"SET_LOGO_MODULE",setShareModule:"SET_SHARE_MODULE",setBroadcasterModule:"SET_BROADCASTER_MODULE",setLiveCTAModule:"SET_LIVE_CTA_MODULE",setThumbnailModule:"SET_THUMBNAIL_MODULE",setPollModule:"SET_POLL_MODULE"}},function(e,t,n){"use strict";var r=n(10),o=n(39),a=n(7),i=n(41),s=n(3),u=n(15),l=n.n(u);function c(e){try{return new URL(e).origin}catch(e){return""}}var f=["ready","playing","content","theaterMode"],d=Object(a.a)("logic/api"),p={COMMAND:"api_command"},h={};function m(e,t){var n,r=o.a,a=document.referrer||window.location.href,i=window.parent;if(window===window.parent&&(r=window.location.href,a=window.location.href,i=window),/^(\/internal)?\/combined-embed\//.test(window.location.pathname)&&(r=window.location.href,a=window.location.href,i=window),"progress"!==e&&d.debug("send ",[e,t]),r){var s=c(a);s&&(n={event:{}},e.property?n=e:n.event[e]=t,i.postMessage(JSON.stringify(n),s))}}window.addEventListener("message",function(e){var t,n,r,o,a=e.origin,s=window.location,u=document.referrer||s.href;if(u){if(a===c(u)||(n=a,r=s.href,(o=[n,r].map(function(e){try{return new URL(e).host}catch(e){return""}}))[0]===o[1])){try{t=JSON.parse(e.data)}catch(e){t={}}if(d.debug("message event received ",[e.origin,e.data]),"CorsFrame"===t.id&&t.sessionId&&Object(i.a)(h,p.COMMAND,{cmd:"setSession",args:[t.sessionId,!1]}),"setSession"===t.cmd&&!function(e){return/(m|www)\.?(dev)?\.ustream\.tv/gi.test(e)}(a))return;t.cmd&&Object(i.a)(h,p.COMMAND,t)}}else d.debug("message event handler error: no referrer ")}),function(){var e=document.getElementById("CorsFrame");if(!e)return;e.setAttribute("tabindex","-1"),l.a.ssl||r.a.sitemode||e.setAttribute("src",e.getAttribute("data-src"))}(),s.a.on(s.a.types.EVENT,"*",function(e,t){-1!==f.indexOf(e)&&m(e,t)}),t.a=void 0===window.postMessage?{event:p,send:function(){},on:function(){}}:{event:p,send:m,on:function(e,t){h[e]||(h[e]=[]),h[e].push(t)}}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(26);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";t.a={addFlotDisconnectError:"ADD_FLOT_DISCONNECT_ERROR",addFlotRejectError:"ADD_FLOT_REJECT_ERROR",addFlotTimingDiagnostics:"ADD_FLOT_TIMING_DIAGNOSTICS",addFlotInitDiagnostics:"ADD_FLOT_INIT_DIAGNOSTICS",addFlotEmptyStreamModuleError:"ADD_FLOT_EMPTY_STREAM_MODULE_ERROR",addSlowChunkWarning:"ADD_SLOW_CHUNK_DOWNLOAD",addAtlasWarning:"ADD_ATLAS_WARNING",addAtlasError:"ADD_ATLAS_ERROR",addChunkEmptyWarning:"ADD_CHUNK_EMPTY_WARNING",addKeyFrameDiagnostics:"ADD_KEY_FRAME_DIAGNOSTICS",resetDebugOverlay:"RESET_DEBUG_OVERLAY"}},function(e,t,n){var r=n(94)("wks"),o=n(71),a=n(25).Symbol,i="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=i&&a[e]||(i?a:o)("Symbol."+e))}).store=r},function(e,t,n){"use strict";t.a={toggleFullScreen:"TOGGLE_FULL_SCREEN",setVolume:"SET_VOLUME",setPlaybackSpeed:"SET_PLAYBACKSPEED",toggleTheaterMode:"TOGGLE_THEATER_MODE",toggleStatsOverlay:"TOGGLE_STATS_OVERLAY",toggleDebugOverlay:"TOGGLE_DEBUG_OVERLAY",resize:"RESIZE",toggleFlagOverlay:"TOGGLE_FLAG_OVERLAY",showNotification:"SHOW_NOTIFICATION",hideNotification:"HIDE_NOTIFICATION"}},function(e,t,n){e.exports=!n(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(27),o=n(144),a=n(59),i=Object.defineProperty;t.f=n(32)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),o)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(65),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){"use strict";t.a={setDuration:"SET_DURATION",setTrimmedDuration:"SET_TRIMMED_DURATION",setTitle:"SET_TITLE",setStreamInfo:"SET_STREAM_INFO",toggleAudioOnly:"TOGGLE_AUDIO_ONLY",setMediaId:"SET_MEDIA_ID",setMediaType:"SET_MEDIA_TYPE",setTrimInfo:"SET_TRIM_INFO"}},function(e,t,n){var r=n(60);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(4),o=n(38);t.a={addPassword:function(e){return r.a.dispatch({type:o.a.addPassword,payload:{password:e}})},addHash:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channel";return r.a.dispatch({type:o.a.addHash,payload:{hash:e,mediaType:t}})},removeHash:function(){return r.a.dispatch({type:o.a.removeHash})},setUmsInfo:function(e){return{type:o.a.setUmsInfo,payload:{info:e.umsInfo}}},setLockInfo:function(e){var t=e.type,n=e.data;return{type:o.a.setLockInfo,payload:{type:t,data:n}}}}},function(e,t,n){"use strict";t.a={addPassword:"ADD_PASSWORD",addHash:"ADD_HASH",removeHash:"REMOVE_HASH",setUmsInfo:"SET_UMS_INFO",setLockInfo:"SET_LOCK_INFO"}},function(e,t,n){"use strict";var r="multilevel_embed",o=window.parent;function a(e){if(e)return 0!==e.indexOf("multilevel_embed")&&e.lastIndexOf("/")<e.indexOf("://")+3&&(e+="/"),e}r=a(r=location.ancestorOrigins?location.ancestorOrigins[location.ancestorOrigins.length-1]:"multilevel_embed"),t.a=function(){if(o!==window.top)try{return o.location.host===location.host?o.multiLevelEmbed?r:a(o.document.referrer)||"unknown":r}catch(e){return r}else if(o===window&&0!==location.pathname.indexOf("/embed"))return a(location.href);return a(document.referrer)||"unknown"}()},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(8),o=n(108);function a(e,t){return t.reduce(function(t,n){var a=Object(r.a)(e,n);return void 0!==a&&Object(o.a)(t,n,a),t},{})}},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e,t,n){n=Array.prototype.slice.call(arguments,2);if(e&&e[t]&&e[t].length>0)for(var o=r(e[t]),a=0;a<o.length;a++){var i=o[a],s=e[t][a]===i;i&&s&&(void 0!==n?i.apply(null,n):i.call(null))}}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";t.a={STREAM_UPDATE:"streamUpdate",THUMBNAIL_UPDATE:"thumbnailUpdate",BROADCASTER_UPDATE:"broadcasterUpdate",META_UPDATE:"metaUpdate",CONTENT_CUT_UPDATE:"contentCutUpdate",VIEWERS_UPDATE:"viewersUpdate",ALLVIEWERS_UPDATE:"allViewersUpdate",ALLTIMETOTAL_UPDATE:"allTimeTotalUpdate",SHARE_UPDATE:"shareUpdate",LOGO_UPDATE:"logoUpdate",CLIENT_RATE_LIMIT_UPDATE:"clientRateLimitUpdate",CHAT_UPDATE:"chatUpdate",ADVERT_UPDATE:"advertUpdate",STREAM_VERSION_UPDATE:"streamVersionUpdate",LIVE_CTA_UPDATE:"livectaUpdate",CAPTION_UPDATE:"captionUpdate",SLIDES_UPDATE:"slidesUpdate",UNSUPPORTED:"unsupported",LIVE:"live",OFFLINE_MODULE_RECEIVED:"offlineModuleReceived",PLAY:"play",PAUSE:"pause",VOLUME:"volume",PLAYING:"playing",SEEK:"seek",PROGRESS:"progress",DURATION:"duration",CREATE_SLIDESHOW:"createSlideShow",DESTROY_SLIDESHOW:"destroySlideShow",CREATE_OFFAIR_VIDEO:"createOffairVideo",DESTROY_OFFAIR_VIDEO:"destroyOffairVideo",NEXT_OFFAIR_VIDEO:"nextOffairVideo",VIDEO_FINISHED:"videoFinished",AUDIO_TRACKS:"audioTracks",TOGGLE_CC:"toggleCC",URL_RESOLVE_COMPLETE:"urlResolveComplete",URL_RESOLVE_FAILURE:"urlResolveFailure",PLAY_OPTIONS:"playOptions",CHUNK_LENGTH:"chunkLength",ATLAS_METADATA:"atlasMetadata",ATLAS_STORED_UPDATE:"atlasStoredUpdate",ATLAS_BUFFERED_UPDATE:"atlasBufferedUpdate",ATLAS_POSITION_UPDATE:"atlasPositionUpdate",ATLAS_PROGRESS:"atlasProgress",ATLAS_ERROR:"atlasError",ATLAS_LOG:"atlasLog",ATLAS_CLEANUP:"atlasCleanup",ATLAS_THROTTLE:"atlasThrottle",ATLAS_DOWNLOAD_ERROR:"atlasDownloadError",ATLAS_QUALITY_CHANGE_STARTED:"atlasQualityChangeStarted",ATLAS_QUALITY_CHANGE_COMPLETED:"atlasQualityChangeCompleted",ATLAS_QUALITY_CHANGE_CANCELLED:"atlasQualityChangeCancelled",RECORDED_READY:"recordedReady",BANDWIDTH_UPDATED:"bandwidthUpdated",CHANGE_PROVIDER:"changeProvider",PROVIDER_CHANGE:"providerChange",FLASH_CALL_ERROR:"flashCallError",SEND_REPORT:"sendReport",UMS_CONNECT_START:"umsConnectStart",UMS_CONNECTED:"umsConnected",UMS_REJECT:"umsReject",MODULE_INFO:"moduleInfo",REPORT_BANDWIDTH:"reportBandwidth",REPORT_BUFFER_EMPTY:"reportBufferEmpty",REPORT_BUFFER_FULL:"reportBufferFull",REPORT_DROPPED_FRAMES:"reportDroppedFrames",REPORT_ERROR:"reportError",REPORT_AD_RESPONDED:"reportAdResponded",REPORT_ECDN_TESTS:"reportEcdnTests",REPORT_AUDIO_CHANGED:"reportAudioChanged",CONTENT_AVAILABLE:"contentAvailable",AD_AVAILABLE:"adAvailable",SET_CAPTION_POSITION:"setCaptionPosition",DEBUG_FLOT_LOG:"flotLog"}},function(e,t,n){var r=n(12),o=n(28),a=n(60),i=/"/g,s=function(e,t,n,r){var o=String(a(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(i,"&quot;")+'"'),s+">"+o+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){var r=n(33),o=n(70);e.exports=n(32)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(25),o=n(44),a=n(46),i=n(71)("src"),s=n(191),u=(""+s).split("toString");n(63).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(a(n,"name")||o(n,"name",t)),e[t]!==n&&(l&&(a(n,i)||o(n,i,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[i]||s.call(this)})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(89),o=n(70),a=n(57),i=n(59),s=n(46),u=n(144),l=Object.getOwnPropertyDescriptor;t.f=n(32)?l:function(e,t){if(e=a(e),t=i(t,!0),u)try{return l(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){"use strict";t.a={set:function(e,t,n){var r,o,a,i;n=n||{},null===t&&(t="",n.expires=-1,n.path="/"),r=function(e){var t,n="";return e.expires&&("number"==typeof e.expires||e.expires.toUTCString)&&("number"==typeof e.expires?(t=new Date).setTime(t.getTime()+24*e.expires*60*60*1e3):t=e.expires,n="; expires="+t.toUTCString()),n}(n),o=function(e){return"; path="+(e.path?e.path:"/")}(n),a=function(e){return e.domain?"; domain="+e.domain:""}(n),i=function(e){return e.secure?"; secure":""}(n),document.cookie=[e,"=",encodeURIComponent(t),r,o,a,i].join("")},get:function(e){for(var t,n=document.cookie.split(";"),r={},o=0,a=n.length,i=/^\s+|\s+$/g;o<a;o++)r[(t=n[o].split("="))[0].replace(i,"")]=t[1];return r[e]?decodeURIComponent(r[e]):r[e]}}},function(e,t,n){"use strict";function r(e){var t=new Date(1e3*e).toISOString();if(e<3600)return t.substr(14,5);if(e<86400)return t.substr(11,8);var n=Math.floor(e/60/60);return"".concat(n,":").concat(t.substr(14,5))}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(21),o=n(6),a=n(7),i=n(11),s=Object(a.a)("ui/screen/hashlockadvanced");function u(){var e=o.a.isVid()?i.a.cId:o.a.id();return"c:token-".concat(e)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a.id();return"v:token-".concat(e)}function c(e){var t=e.hash,n="video"===e.mediaType?l():u();r.b.set(n,t,{expires:h(t)})}function f(){if(o.a.isVid()||o.a.isOffairVid()){var e=r.b.get(u());return e||r.b.get(l(o.a.offairVid()))}}function d(){return"ustreamEmbedHash-".concat(o.a.isVid()?i.a.cId:o.a.id())}function p(e){var t=function(e){var t=e.find(function(e){return Object.keys(e).includes("hashExpire")});if(t)return Object.values(t).pop()}(e);return new Date(1e3*t)}function h(e){var t=function(e){var t;try{t=JSON.parse(e)}catch(t){return void s.error("Failed to parse hash",e)}return t}(e);if(!t)return 14;var n=p(t);return isNaN(n.getTime())?14:n}t.a={saveHashToLocalStorage:c,getHashFromLocalStorage:function(){var e=o.a.isVid()?l():u(),t=r.b.get(e);if(t)return t;var n=f();if(n)return n;var a=r.b.get(d());return a&&c({hash:a}),a},getFallbackHash:f,removeCurrentHashFromLocalStorage:function(){if(r.b.set(d(),null),o.a.isVid()){var e=l();if(r.b.get(e))return void r.b.set(e,null)}r.b.set(u(),null)},getPasswordFromSessionStorage:function(){var e=(o.a.isVid()?"v:":"c:")+o.a.id(),t="c:".concat(i.a.cId),n="ustreamContentPw-".concat(e),r="ustreamContentPw-".concat(t);try{var a=window.sessionStorage.getItem(n);if(a)return JSON.parse(a).value;var s=window.sessionStorage.getItem(r);return JSON.parse(s).value}catch(e){return}}}},function(e,t,n){"use strict";t.a={toggleCaptionSearchComponent:"TOGGLE_CAPTION_SEARCH_COMPONENT",toggleCaptionSearchPanel:"TOGGLE_CAPTION_SEARCH_PANEL",setSearchText:"SET_SEARCH_TEXT",setCaptionModule:"SET_CAPTION_MODULE",setSearchResult:"SET_SEARCH_RESULT"}},function(e,t,n){"use strict";t.a={disable:"DISABLE",setSlides:"SET_SLIDES",setCurrentSlide:"SET_CURRENT_SLIDE",setOnboarding:"SET_ONBOARDING",toggleSlideIndexPanel:"TOGGLE_SLIDE_INDEX_PANEL"}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r,o,a,i,s,u,l,c,f,d,p,h,m,v,y,g,b,E,S,T,O,C;r=function(){var e={};return function(t){return e[t]=e[t]||{},e[t]}}.apply(t,[]),o=function(){return function e(){for(var t={},n=0;n<arguments.length;n++)for(var r in arguments[n]){var o=arguments[n][r],a=t[r];t[r]=a&&"object"==typeof o&&"object"==typeof a?e(a,o):o}return t}}.apply(t,[]),a=function(){return function(e,t){var n,r,o=t,a=[];for(n=2,r=arguments.length;n<r;++n)a.push(arguments[n]);return function(){return e.apply(o,a.concat(Array.prototype.slice.call(arguments)))}}}.apply(t,[]),i=function(){function e(e,t){var n,r=e.length;for(n=0;n<r&&e[n]!=t;n++);return e.splice(n,1),e}return{emit:function(e,t,n,r){if(r=r||"def",e&&e[t]){var o=[];if("def"===r)for(var a in e[t])o=o.concat(e[t][a]);else o=e[t][r];var i,s=o.length;for(a=0;a<s;a++)i=o[a],void 0!==n?i.call(null,n):i.call(null)}},on:function(e,t,n,r){r=r||"def",e[t]||(e[t]={},e[t].def=[]),e[t][r]||(e[t][r]=[]),e[t][r].push(n)},listenerCount:function(e,t,n){return n=n||"def",e[t]&&e[t][n]?e[t][n].length:0},off:function(t,n,r,o){if(n&&r&&o)t[n][o]=e(t[n][o],r);else if(n&&r&&!o)for(var a in t[n])t[n][a]=e(t[n][a],r);else if(!n||r||o){if(n&&!r&&o)t[n][o]=[];else if(!n&&!r&&o)for(var i in t)t[i][o]=[]}else t[n]={def:[]}}}}.apply(t,[]),s=function(e,t){var n={},r={},o="log",a=30;return function(e,i){function s(){var s=Array.prototype.slice.apply(arguments);if(s.unshift(new Date,i),t.listenerCount(n[e],o))t.emit(n[e],o,s);else{for(r[e]=r[e]||[];r[e].length>a;)r[e].shift();r[e].push(s)}}return n[e]=n[e]||{},s.onLog=function(a){if(t.on(n[e],o,a),r[e]){for(;r[e].length;)t.emit(n[e],o,r[e].shift());delete r[e]}},s}}.apply(t,[a,i]),u=function(){return{VERSION:"3.4.0"}}.apply(t,[]),l=function(){var e,t,n,r,o,a,i,s="undefined",u="function",l="object",c="Shockwave Flash",f="ShockwaveFlash.ShockwaveFlash",d="application/x-shockwave-flash",p=navigator,h=p.mimeTypes,m=p.userAgent.toLowerCase(),v=p.platform.toLowerCase(),y=window.location;function g(){var e=/android/i.test(m);return e&&(e=m.match(/android (\d+)(?:\.(\d+))?(?:\.(\d+))?/i)).shift(),e}function b(){var e=/iphone|ipad|ipod/.test(m);return e&&(e=m.match(/os (\d*)?\_?(\d*)?\_?(\d*)/i)).shift(),e}function E(){return/BB10(.*)Mobile/i.test(m)}function S(){return m.indexOf("playstation")>-1}function T(){var e=m.match(/Chrome\/(\d+(?:\.\d+)*)/i);return e=!(!e||O()||w())&&e[1].split(".")}function O(){var e=m.match(/OPR\/(\d+(?:\.\d+)*)/i);return e=e?e[1].split("."):!(!window.opera||!window.opera.version)&&window.opera.version().split(".")}function C(){var e=document.getElementsByTagName("html")[0].className.indexOf("ie ")>-1,t=m.match(/Trident\/(\d+)/i),n=m.match(/MSIE (\d+(?:\.\d+)*)/i);return e=e?!n||n[1].split("."):!!t&&[11,0]}function w(){var e=m.match(/Edge\/(\d+(?:\.\d+)*)/i);return!!e&&e[1].split(".")}function _(e){var t=typeof window.WebSocket;return(t=t===u||t===l)&&typeof window.WebSocket.prototype.CLOSING===s&&(t=!1),e&&!t&&(e[0]>4||4===e[0]&&e[1]>2)&&(t=!0),t}function P(){var e=""+Math.random();try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function I(){var e=!1;try{e=document.createElement("input").hasOwnProperty("placeholder")}catch(t){e=!1}return e}function L(){var e,t;if(typeof window.ActiveXObject===s)return!1;try{if(e=new window.ActiveXObject(f))return!(t=e.GetVariable("$version"))||(t=t.split(" ")[1].split(","),[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)])}catch(e){}return!1}return i=b(),{w3:typeof document.getElementById!==s&&typeof document.getElementsByTagName!==s&&typeof document.createElement!==s,win:/win/.test(v||m),mac:/mac/.test(v||m),desktop:!(g()||b()||E()||S()),ios:i,android:g(),blackberry:E(),playstation:S(),chrome:T(),opera:O(),ff:(a=m.match(/Firefox\/(\d+(?:\.\d+)*)/i),!!a&&a[1].split(".")),safari:(r=m.match(/Safari/i),o=m.match(/Version\/(\d+(?:\.\d+)*)/i),r=!(!r||O()||T()||w())&&(!o||o[1].split("."))),ie:C(),phantomJS:/PhantomJS/.test(m),ssl:/https/.test(y.protocol),wk:!!/webkit/.test(m)&&parseFloat(m.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),edgeIe:w(),ws:_(i),storage:P(),placeholder:I(),touchEvents:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,swf:(n=[0,0,0],typeof p.plugins!==s&&typeof p.plugins[c]===l?!(t=p.plugins[c].description)||typeof h!==s&&h[d]&&!h[d].enabledPlugin||(t=t.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),n[0]=+t.replace(/^(.*)\..*$/,"$1"),n[1]=+t.replace(/^.*\.(.*)\s.*$/,"$1"),n[2]=/[a-zA-Z]/.test(t)?+t.replace(/^.*[a-zA-Z]+(.*)$/,"$1"):0):L()&&(n=L()),"000"===n.join("")&&(n=!1),n),flashPPAPI:(e=h&&h[d]&&h[d].enabledPlugin&&h[d].enabledPlugin.filename||"","pepflashplayer.dll"===(e=e.toLowerCase())||"libpepflashplayer.so"===e||"pepperflashplayer.plugin"===e||"chrome.plugin"===e.slice(-13)),flashActiveX:L(),nav:{appCodeName:p.appCodeName,appName:p.appName,appVersion:p.appVersion,cpuClass:p.cpuClass,platform:p.platform,product:p.product,userAgent:p.userAgent,vendor:p.vendor,vendorSub:p.vendorSub}}}.apply(t,[]),c=function(e){return t="_rpin.0",e.storage&&((t=localStorage.getItem("umte_rpin"))||(t="_rpin."+Math.ceil(1e15*Math.random()),localStorage.setItem("umte_rpin",t))),t;var t}.apply(t,[l]),JSON=JSON||window.JSON,"object"!=typeof JSON&&(JSON={}),function(){"use strict";function e(e){return e<10?"0"+e:e}function t(){return this.valueOf()}var n,r,o,a,i,s;function u(e){return r.lastIndex=0,r.test(e)?'"'+e.replace(r,function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=t,Number.prototype.toJSON=t,String.prototype.toJSON=t),"function"!=typeof JSON.stringify&&(r=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(o="",a="","number"==typeof n)for(r=0;r<n;r+=1)a+=" ";else"string"==typeof n&&(a=n);if(s=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return function e(t,n){var r,i,l,c,f,d=o,p=n[t];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(t)),"function"==typeof s&&(p=s.call(n,t,p)),typeof p){case"string":return u(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(o+=a,f=[],"[object Array]"===Object.prototype.toString.apply(p)){for(c=p.length,r=0;r<c;r+=1)f[r]=e(r,p)||"null";return l=0===f.length?"[]":o?"[\n"+o+f.join(",\n"+o)+"\n"+d+"]":"["+f.join(",")+"]",o=d,l}if(s&&"object"==typeof s)for(c=s.length,r=0;r<c;r+=1)"string"==typeof s[r]&&(l=e(i=s[r],p))&&f.push(u(i)+(o?": ":":")+l);else for(i in p)Object.prototype.hasOwnProperty.call(p,i)&&(l=e(i,p))&&f.push(u(i)+(o?": ":":")+l);return l=0===f.length?"{}":o?"{\n"+o+f.join(",\n"+o)+"\n"+d+"}":"{"+f.join(",")+"}",o=d,l}}("",{"":e})}),"function"!=typeof JSON.parse&&(n=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(e,t){var r;if(e=String(e),n.lastIndex=0,n.test(e)&&(e=e.replace(n,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return r=window.eval("("+e+")"),"function"==typeof t?function e(n,r){var o,a,i=n[r];if(i&&"object"==typeof i)for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(void 0!==(a=e(i,o))?i[o]=a:delete i[o]);return t.call(n,r,i)}({"":r},""):r;throw new SyntaxError("JSON.parse")})}(),f=function(){return JSON}.apply(t,[]),d=function(){return function(e,t,n){n=Array.prototype.slice.call(arguments,2);if(e&&e[t]&&e[t].length>0){var r,o,a=e[t].length;for(r=0;r<a;r++)o=e[t][r],void 0!==n?o.apply(null,n):o.call(null)}}}.apply(t,[]),p=function(){return function(e,t,n){if(e.attachEvent){var r=function(t){t.target=t.srcElement,t.currentTarget=e,n.handleEvent?n.handleEvent(t):n.call(e,t)};if("DOMContentLoaded"==t){var o=function(e){"complete"==document.readyState&&r(e)};if(document.attachEvent("onreadystatechange",o),"complete"==document.readyState){var a=new Event;a.srcElement=window,o(a)}}else e.attachEvent("on"+t,r)}else e.addEventListener(t,n);return e}}.apply(t,[]),h=function(){return function(e,t,n){e.detachEvent?"DOMContentLoaded"==t?e.detachEvent("onreadystatechange",eventListener.wrapper):e.detachEvent("on"+t,eventListener.wrapper):e.removeEventListener(t,n)}}.apply(t,[]),m=function(e,t,n,r){var o=/https/.test(location.protocol),a=5e3,i={OPEN:"open",ERROR:"error",CLOSE:"close",MESSAGE:"message",TIMEOUT:"timeout",READY:"ready"},s={1e3:"CLOSE_NORMAL",1001:"CLOSE_GOING_AWAY",1002:"CLOSE_PROTOCOL_ERROR",1003:"CLOSE_UNSUPPORTED",1005:"CLOSE_NO_STATUS",1006:"CLOSE_ABNORMAL",1007:"CLOSE_INCONSISTENT_DATA_RECEIVED",1008:"CLOSE_POLICY_VIOLATE",1009:"CLOSE_TOO_LARGE",1010:"CLOSE_MISSING_EXTENSION",1011:"CLOSE_UNEXPECTED_CONDITION",1015:"CLOSE_FAILED_TLS_HANDSHAKE"},u=[1935,80],l="ws://%host%%port%/%app%",c="wss://%host%/%app%";function f(f,d,p,h){var m,v=!!p&&p.ssl,y="";return h=h||"",o||v?y=c.replace("%host%",d).replace("%app%",h):(m=d.indexOf(":")>-1?"":":"+u[0],y=l.replace("%port%",m).replace("%host%",d).replace("%app%",h)),function(o){var u,l,c={},d=!1,p=t(f,"ums/websocket");function h(){u&&(p(" clear connection object"),r(u,i.OPEN,v),r(u,i.ERROR,y),r(u,i.CLOSE,m),r(u,i.MESSAGE,g),c={},u.readyState<2&&u.close()),d=!1,u=null}function m(t){p(" closed",[s[""+t.code],t.message,t.wasClean]),e(c,i.CLOSE,t),h()}function v(){clearTimeout(l),p(" opened"),d=!0,e(c,i.OPEN),e(c,i.READY)}function y(t){p(" error",t),d=!1,e(c,i.ERROR,t)}function g(t){e(c,i.MESSAGE,t)}function b(){p(" timeout"),e(c,i.TIMEOUT),h()}return p("url",o),{event:i,opened:function(){return d},open:function(){p(" opening"),u=new WebSocket(o),n(u,i.OPEN,v),n(u,i.ERROR,y),n(u,i.CLOSE,m),n(u,i.MESSAGE,g),l=setTimeout(b,a)},send:function(e){p(" send",e);try{u.send(e)}catch(e){}},close:function(){p(" close"),u&&h()},on:function(e,t){c[e]||(c[e]=[]),c[e].push(t)}}}(y)}return f.prefix="ws"+(o?"s":""),f}.apply(t,[d,s,p,h]),v=function(){var e=Array.prototype.map||function(e,t){var n,r,o;if(null==this)throw new TypeError(" this is null or not defined");var a=Object(this),i=a.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),r=new Array(i),o=0;o<i;){var s,u;o in a&&(s=a[o],u=e.call(n,s,o,a),r[o]=u),o++}return r};return function(t,n,r){return e.call(t,n,r)}}.apply(t,[]),y=function(){var e=Array.prototype.filter||function(e,t){"use strict";if(null==this)throw new TypeError;var n=Object(this),r=n.length>>>0;if("function"!=typeof e)throw new TypeError;for(var o=[],a=(t=arguments.length>=2?arguments[1]:void 0,0);a<r;a++)if(a in n){var i=n[a];e.call(t,i,a,n)&&o.push(i)}return o};return function(t,n,r){return e.call(t,n,r)}}.apply(t,[]),g=function(){var e,t,n,r=0,o=this,a={callbackName:"jsoncallback"};function i(e){return encodeURIComponent(e)}return{get:function(s,u,l,c){for(n in t=-1===(s||"").indexOf("?")?"?":"&",u=u||{})u.hasOwnProperty(n)&&(t+=i(n)+"="+i(u[n])+"&");var f="json"+ ++r;return o[f]=function(e){l(e);try{delete o[f]}catch(e){}o[f]=null},function(t){var n=document.createElement("script"),r=!1;n.src=t,n.async=!0,n.onload=n.onreadystatechange=function(){r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(r=!0,n.onload=n.onreadystatechange=null,n&&n.parentNode&&n.parentNode.removeChild(n))},e||(e=document.getElementsByTagName("head")[0]),e.appendChild(n)}(s+t+(c||a.callbackName||"callback")+"="+f),f},init:function(e){a=e}}}.apply(t,[]),b=function(){return function(){return window.XMLHttpRequest&&(e="withCredentials"in(e=new window.XMLHttpRequest)&&e),e||!!window.XDomainRequest&&new window.XDomainRequest||function(){var e;if(window.ActiveXObject)try{e=new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){alert(t.message),e=null}return e}()||null;var e}}.apply(t,[]),E=function(e,t,n,r,o,a,i,s,u){var l=/https/.test(location.protocol),c=r.emit,f={OPEN:"open",ERROR:"error",CLOSE:"close",MESSAGE:"message",TIMEOUT:"timeout",READY:"ready",FADED:"faded",PING:"ping",PONG:"pong",ACCEPT:"accept",REJECT:"reject",CONNECT:"connect",MODULEINFO:"moduleinfo"},d=3e4,p=!0,h="http://%host%/%app%",m="https://%host%/%app%";function v(e,t,n){return(l||t?m:h).replace("%host%",e).replace("%app%",n)}function y(l,h,m,y){var g=!!m&&m.ssl,b=!1;return function(h){var m={},g=e(l,"ums/longpoll"),E=!1,S=!0,T={},O=0,C=[],w=[],_={},P=[],I=0;function L(e){return encodeURIComponent(e)}function R(e){var n,r=[],o={};if(!S){if(_.connectionId?o.connectionId=_.connectionId:o=e,C.length>0){var l={},c=[];for(var f in t(C,function(e){l[e.cmd]=e}),l)c.push(l[f]);r=t(C=c,function(e){return e.order}),o.cmds=a.stringify(C)}n=_.host?v(_.host,null,y):h,g("requestUrl",[n,o]),p?function(e,t,n){var r,o,a=[];for(o in t)a.push(L(o)+"="+L(t[o]));r=e+"?"+a.join("&");var i=u();i.open("GET",r,!0),i.queueId=function(){return"req."+(I+=1)}(),i.commandOrder=n,i.timeout=d,i.onload=A,i.ontimeout=M,i.onerror=j,(!s.ie||s.ie[0]&&s.ie[0]>10||s.edgeIe)&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded");i.send(),P.push(i.queueId),g("sent over xhr",i.queueId)}(n,o,r):function(e,t,n){i.get(e,t,function(e){D(e,n)},"callback"),g(" sent over JSONP")}(n,o,r),delete e.cmds}}function A(e){var t,n=e&&e.target?e.target:this,r=n.responseText;g("response for",n.queueId),k(e.target);try{t=a.parse(r),g("commands",[n.queueId,n.commandOrder]),D(t,n.commandOrder)}catch(e){g("JSON parse error on state change",r)}}function k(e){var t=P.indexOf(e.queueId);-1!==t&&P.splice(t,1)}function N(){return 0!==P.length}function D(e,t){var r=e.length,o=!1,a=0;if(!S){for(C=n(C,function(e){return t.indexOf(e.order)<0});a<r;a++)if("warning"===e[a].cmd)switch(g("warning response",e[a].args[0].message||""),e[a].args[0].code){case"INVALID_CONNECTIONID":x({code:1001});break;case"OVERRIDE":default:o=!0}else F(e[a]);b&&0===C.length?c(m,f.FADED,{queue:w,connectionId:_.connectionId,host:_.host}):o||N()||R(T)}}function M(e){g(" timeout",e),k(e.target),N()||x({code:1001})}function U(){g(" clear connection object"),S=!0}function x(e){g(" closed"),E=!1,c(m,f.CLOSE,e),U()}function j(e){g(" error",e),k(e.target),c(m,f.ERROR),N()||(x({code:1001}),U())}function F(e){if(g("onMessage",e),"tracking"===e.cmd)return _=e.args[0],g("tracking",_),R(T),E=!0,g(" opened"),E=!0,void c(m,f.READY,{host:_.host,connectionId:_.connectionId});c(m,f.MESSAGE,e)}return g("url ",h),{event:f,opened:function(){return E},open:function(){c(m,f.OPEN)},send:function(e){if(g(" send",e),E){var t={cmd:(e=a.parse(e)).cmd,args:e.args,order:O+=1};b?w.push(t):(C.push(t),(e&&e.cmd&&"playing"===e.cmd||!N())&&R(T))}else!function(e){var t=a.parse(e);"connect"===t.cmd&&(T.media=t.args[0].media,T.application=t.args[0].application,T.appId=t.args[0].appId,T.appVersion=t.args[0].appVersion,t.args[0].debug&&(T.debug=t.args[0].debug),S=!1,R(t.args[0]))}(e)},close:function(){g(" close"),x({code:1e3})},fadeOut:function(){b=!0},on:o(r.on,null,m)}}(v(h,g,y=y||""))}return y.prefix="lp"+(l?"s":""),y}.apply(t,[s,v,y,i,a,f,g,l,b]),S=function(e,t,n,r){var o={WEBSOCKET:"websocket",LONGPOLL:"longpoll"},a={SUCCESS:"success",FAIL:"fail"},i=r.emit;return function(){var s,u,l,c={};function f(){i(c,a.SUCCESS)}function d(){h("Error")}function p(){h("Timeout")}function h(e){i(c,a.FAIL,{reason:e,host:u})}return{events:a,protocols:o,test:function(n,r){if(u=n,r===o.WEBSOCKET)l=e;else{if(r!==o.LONGPOLL)return void i(c,a.FAIL,{reason:"Protocol ("+r+") does not exist"});l=t}(s=l(u,null,"connectioncheck")).on(s.event.OPEN,f),s.on(s.event.ERROR,d),s.on(s.event.TIMEOUT,p),s.open()},destroy:function(){c=null,s&&s.close(),s=null,l=null},on:n(r.on,null,c)}}}.apply(t,[m,E,a,i]),T=function(e,t,n,r,o,a,i,s,u){var l="undefined",c=r.emit,f={OPEN:"open",PING:"ping",PONG:"pong",ACCEPT:"accept",REJECT:"reject",CONNECT:"connect",MODULEINFO:"moduleinfo",STATUS:"status",DU_RESPONSE:"datauploadresponse",CLOSE:"close"},d=function(){},p=200;return function(h,m){var v,y,g,b,E={},S={},T={},O=0,C=2,w=2e3,_=512e3,P=[],I=["playing"],L={},R=2,A=0,k=0,N=!1,D=!1,M=!1,U=a(h);m=m||{};var x=n(h,"ums/connection",E);function j(e){var t,r,a;e&&(S=e),m.flot&&(S.flot=m.flot),S.clusterHost="r%rnd%-1-%mediaId%-%mediaType%-%protocolPrefix%-%cluster%."+(m.clusterHost||"ums.ustream.tv"),v||(v="omega"),T&&T.opened&&T.opened()&&T.close(),t=y&&y.host?y.host:function(e,t){var n=e.clusterHost;return e.flot?e.flot:(/([0-9]{1,3}\.){3}[0-9]{1,3}/.test(t)&&(n=t),n.replace("%rnd%",Math.round(1e8*Math.random())).replace("%mediaId%",e.media).replace("%mediaType%",e.application).replace("%protocolPrefix%",d.prefix).replace("%cluster%",t))}(S,v),r=U,a={host:t,protocol:d.prefix},r.connection=a,(T=d(h,t,null,"1/ustream")).on(T.event.MESSAGE,q),T.on(T.event.ERROR,z),T.on(T.event.CLOSE,ee),T.on(T.event.OPEN,$),T.on(T.event.TIMEOUT,W),T.on(T.event.READY,J),T.on(n.type,o(n,null,E)),x("open",t),T.open()}function F(){M=!1,D=!1,N=!1,T={},P=[]}function V(){k+=1,(A+=1)>5&&(A=5);var e,t,n=Math.pow(R,A),r=(e=1,t=5,Math.floor(Math.random()*(t+1-e)+e));x(h+" Trying to reconnect in "+(n+r)+" seconds"),S.reconnecting=!0;var o=100*(n+r);S.reconnectionTimeout=o,setTimeout(j,o)}function B(e,n){if(T&&T.send&&(d!==s||T.opened())){!function(e,t){("|"+I.join("|")+"|").indexOf("|"+e+"|")>-1&&(L[e]=t)}(e,n),x(h+" send");var r={cmd:e};typeof n!==l&&(r.args=n),S.debug&&(r.args.debug=!0),T.send(t.stringify(r))}else for(x(h+" no instance, store to queue"),P.push(arguments);P.length>p;)x("queue is full, removing old data"),P.shift()}function H(){x(h+" closing"),clearTimeout(b),T&&T.close&&(T.close(),T=null),F()}function G(e){M=!1,D=!0,e&&c(E,e),function(){var e;for(x("send stored data from queue ("+P.length+" items)");P.length;)e=P.shift(),B.apply(null,e)}(),0!==k&&(B("stat",{error:[{type:"umsDisconnected",details:{retryCount:k,longpollFallback:N}}]}),k=0)}function q(e){if(T){var n=e.data?t.parse(e.data):e,r=n.cmd||n.functionName||n.type,o=n.args||n.parameters||n.data||[];switch(r=r.toLowerCase(),x(h+" message",[r,o]),r){case f.PING:B(f.PONG,o);break;case f.ACCEPT:G(r);break;case f.REJECT:if(M=!0,!0===function(e,t){var n,r=!1;return e.map(function(e){if(e.cluster){var o=e.cluster;x(t+" CLUSTER SWITCH from: "+n+" to: "+o.name,null,!0),n=o.name,o.umsIps&&(n=o.umsIps[0]),function(e){v=e}(n),r=!0}}),r}(o=function(e){return e.length&&e[0].reject?e[0].reject:e}(o),h)){T.close(),F(),j();break}c(E,r,o);break;case f.MODULEINFO:case f.STATUS:case f.DU_RESPONSE:D||G(),c(E,r,o)}}}function z(){y=null}function W(){y=null,T.close(),d=u,j()}function K(e){y=e,T.close(),d=s,j()}function Y(){x("protocol was tested successfully"),Z(),T.on(T.event.FADED,K),T.fadeOut()}function Q(e){x("protocol was tested but failed on host:"+e.host+", reason: "+e.reason),Z(),w=Math.min(2*w,_),b=setTimeout(X,w,e.host)}function Z(){g&&(g.destroy(),g=null)}function X(t){clearTimeout(b),Z(),e.ws&&d===u&&((g=i()).on(g.events.SUCCESS,Y),g.on(g.events.FAIL,Q),g.test(t,g.protocols.WEBSOCKET))}function J(t){var n=S.flot;!n&&t&&t.host&&(n=t.host),function(){var e,t;for(x("resend commands after reconnect",L),e=0;e<I.length;++e)t=I[e],L.hasOwnProperty(t)&&B(t,L[t])}(),e.ws&&n&&X(n)}function $(){var e,t,n;if(A=0,O=0,d===u&&(m.longpoll=!0),c(E,f.OPEN,{options:m}),y&&d===s)for(B("connect",[{upgradeFromConnectionId:y.connectionId}]),t=y.queue,e=0;e<t.length;e++)B((n=t[e]).cmd,n.args);y=null,B(f.CONNECT,[S])}function ee(e){var t=!1,n=!1;M||(c(E,f.CLOSE,{closeEvent:e}),e&&e.code>1008?n=!0:e&&e.code>=1e3&&(d===s?O>C?n=!0:(t=!0,O++):t=!0),t&&V(),d===s&&n&&(x(h+" fallbacking to longpoll connectionInstance",null,!0),N=!0,k=2,d=u,F(),j()))}return d=e.ws&&!m.longpoll?s:u,{event:f,send:B,open:j,close:H,on:o(r.on,null,E),destroy:function(){E=null,H()}}}}.apply(t,[l,f,s,i,a,r,S,m,E]),O=function(e,t,n,r,o){var a={OPEN:"open",REJECT:"ums_reject",UPDATE:"ums_update",STATUS:"ums_status",DU_RESPONSE:"datauploadresponse",CLOSE:"close",LOG:"log"},i={type:"viewer",appId:11,appVersion:2},s=t.emit;return function(u){var l={},c=u.highlightId,f=function(e){var t=[e.app,e.media];return e.highlightId&&t.push(e.highlightId),t.join(".")}(u),d=e(f,"ums/client"),p=o(f,u),h=r(i,u.connectParams);function m(e,n,r){e===a.LOG?d.onLog(n):t.on(l,e,n,r)}function v(e,n,r){t.off(l,e,n,r)}return h.rsid=u.rsid,h.rpin=u.rpin,h.referrer=u.referrer,p.on(p.event.OPEN,n(s,null,l,a.OPEN)),p.on(p.event.REJECT,function(e){s(l,a.REJECT,e)}),p.on(p.event.MODULEINFO,function(e){s(l,a.UPDATE,e)}),p.on(p.event.STATUS,n(s,null,l,a.STATUS)),p.on(p.event.DU_RESPONSE,function(e){s(l,a.DU_RESPONSE,e)}),p.on(p.event.CLOSE,n(s,null,l,a.CLOSE)),{instanceId:f,mediaId:f,event:a,send:p.send,addListener:m,removeListener:v,on:m,off:v,connect:function(){var e={media:u.media+"",application:u.app,highlightId:c,session:u.sessionId,hash:u.hash,password:u.password,debug:!!u.umsDebugMode,buildNumber:u.buildNumber,sessionSource:u.bdtools?"bdtools":null,ignoreTrim:u.ignoreTrim};Object.keys(e).forEach(function(t){var n=e[t];n&&(h[t]=n)}),d(f+" connect",h,!0),p.open(h)},close:function(){d(f+" closing",null,!0),p&&p.close()},destroy:function(){p&&p.destroy(),p=null}}}}.apply(t,[s,i,a,o,T]),void 0===(C=function(e,t,n,r,o,a,i,s){var u,l={};function c(){return Math.ceil(1e10*Math.random()).toString(16)}function f(t){var a,i;return a=s({app:t.app,media:t.id,highlightId:t.hid,sessionId:t.sessionId,hash:t.hash,password:t.password,umsDebugMode:t.umsDebugMode,bdtools:t.bdtools,rsid:(u=u||c())+":"+c(),rpin:o,referrer:t.referrer||"unknown",longpoll:t.longpoll,connectParams:t.connectParams||{},flot:t.flotAddress,buildNumber:t.buildNumber,clusterHost:t.clusterHost,ignoreTrim:t.ignoreTrim}),n(a.instanceId,"ums")("create new ",{instanceId:a.instanceId,configObj:t},!0),i=e(a.instanceId),i.version=r.VERSION,{event:a.event,mediaId:a.mediaId,instanceId:a.instanceId,on:a.on,send:a.send,connect:a.connect,close:a.close,destroy:function(){delete l[a.instanceId],a.destroy()},internals:i}}return function(e){var t;return"string"==typeof e?l[e]||null:(t=f(e),l[t.instanceId]||(l[t.instanceId]=t),l[t.instanceId])}}.apply(t,[r,o,s,u,c,i,a,O]))||(e.exports=C)},function(e,t,n){var r,o,a,i,s,u,l;r=function(){return function(){return window.XMLHttpRequest&&(e="withCredentials"in(e=new window.XMLHttpRequest)&&e),e||!!window.XDomainRequest&&new window.XDomainRequest||function(){var e;if(window.ActiveXObject)try{e=new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){alert(t.message),e=null}return e}()||null;var e}}.apply(t,[]),o=function(){return function(e,t){var n=document.createElement("a");return n.href=e||"http://ustream.tv",n.protocol=t.protocol||n.protocol||"http",n.host=t.host||n.host,n.pathname=t.pathname||n.pathname||"",(t.search||n.search)&&(n.search=t.search||n.search),n}}.apply(t,[]),a=function(e,t){var n={requestType:"HEAD",timeout:1e3,testFile:"ping",addRndParam:!0,twoPass:!0};return function(r,o,a,i){var s,u,l=function(e){var t=JSON.parse(JSON.stringify(e));for(var r in n)t.hasOwnProperty(r)||(t[r]=n[r]);return t}(a);function c(e){e=void 0===e?(new Date).getTime()-u:e,i({url:r,location:o,time:e}),d()}function f(){d(),(s=e()).open(l.requestType,t(r,{pathname:l.testFile,search:l.addRndParam?"rnd="+Math.random():""}).href,!0),s.timeout=l.timeout,s.onreadystatechange=p,s.ontimeout=h,u=(new Date).getTime(),s.send()}function d(){s&&(s.onreadystatechange=function(){},s.ontimeout=function(){},s.abort(),s=null)}function p(){s&&4===s.readyState&&(200===s.status?l.twoPass?(l.twoPass=!1,f()):c():c(-1))}function h(){c(-1)}return{start:f,stop:d,location:o,url:r}}}.apply(t,[r,o]),i=function(e){var t=6,n=[],r=!1,o=0,a=0,i=[],s={},u={add:function(e,t,r){s[e]||(s[e]=[]);if(-1===s[e].indexOf(t))return s[e].push(t),n.push({location:e,url:t,options:r}),!0;return!1},getItems:function(){return n},getFinished:function(){return o},start:function(){!r&&n.length&&a<n.length&&(r=!0,c())},stop:f,clear:function(){f(),o=0,a=0,i=[],n=[],s={}},onProgress:function(){},onFinished:function(){}};function l(e){var t,n;for(t=0;t<i.length;t++)if((n=i[t]).location===e.location&&n.url===e.url){i.splice(t,1),o++;break}u.onProgress(e),c()}function c(){var o,s;i.length<t&&a<n.length&&r?(s=n[a],o=e(s.url,s.location,s.options,l),i.unshift(o),a++,o.start(),c()):0===i.length&&a>=n.length&&r&&(f(),u.onFinished())}function f(){if(r)for(r=!1;i.length;)i.shift().stop(),a--}return u}.apply(t,[a]),s=function(){var e,t={};function n(e,n){t[e]&&t[e].length&&t[e].forEach(function(e){e.apply(null,[n])})}return e={types:{PING_RESULT:"ECDN.PingResult",FINISHED:"ECDN.Finished",ERROR:"ECDN.Error",LOG:"ECDN.Log"},internal:{PING_RESULT:"ECDN.Internal.PingResult",FINISHED:"ECDN.Internal.Finished"},log:function(t,r,o,a){var i={timestamp:new Date,source:t,line:r,data:o,level:a||0};n(e.types.LOG,i)},dispatch:n,on:function(e,n){if(t[e]||(t[e]=[]),"function"==typeof n){for(var r in t[e])if(""+r==""+n)return;t[e].push(n)}},off:function(e,n){if(t[e]&&t[e].length&&"function"==typeof n)for(var r=0;r<t[e].length;r++)""+t[e]==""+n&&t[e].splice(r,1)}}}.apply(t,[]),u=function(e,t){var n,r,o,a,i=3;function s(e,t){return l(e,t,"time")}function u(e,t){return l(e,t,"average")}function l(e,t,n){return e.hasOwnProperty(n)&&t.hasOwnProperty(n)?e[n]>t[n]?1:e[n]<t[n]?-1:0:0}function c(e,t,n){return n=n||{},e.forEach(function(e){var r;n[e[t]]||(n[e[t]]={results:[],sum:0,average:0}),(r=n[e[t]]).results.push(e),r.sum+=e.time,r.average=r.sum/r.results.length}),n}function f(n){n.time>-1&&o.push(n),t.log("selector","MultiPing result",n),t.dispatch(t.internal.PING_RESULT,{type:"multi",result:n,total:e.getItems().length,finished:e.getFinished()})}function d(){var e,r,l,f,d;if(++a<(n&&n.pingRounds||i))p();else{for(e in f=c(o,"location")){for(r in d=c(f[e].results,"url"),f[e].results=[],d)f[e].results.push({location:e,name:e,url:r,time:d[r].average});f[e].results=f[e].results.sort(s)}var h;l=function(e){var t,n=[];for(t in e)e[t].results.sort(s),n.push(e[t]);return n.sort(u)}(f),t.log("selector","MultiPing finished",l),t.dispatch(t.internal.FINISHED,(h=[],l.forEach(function(e){e.results.forEach(function(e){h.push({location:e.location,url:e.url,time:e.time})})}),h))}}function p(){e.clear(),e.onProgress=f,e.onFinished=d,r.forEach(function(t){e.add(t.location,t.url,v(n))}),t.log("selector","Start multiPing round: "+(a+1),e.getItems()),e.start()}function h(n){n.time>-1&&r.push(n),t.log("selector","SingePing result",n),t.dispatch(t.internal.PING_RESULT,{type:"single",result:n,total:e.getItems().length,finished:e.getFinished()})}function m(){t.log("selector","SinglePing finished",r),r.length>1?(a=0,o=[],p()):r.length?(a=n.pingRounds,o=r,d()):t.dispatch(t.internal.FINISHED,[])}function v(e){var t={requestType:"HEAD",twoPass:!1};return["pingTimeout","pingPath"].forEach(function(n){Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}),t}return{update:function(o,a){n=a,function(o){r=[],e.clear(),e.onProgress=h,e.onFinished=m,o.forEach(function(t){e.add(t.location,t.url,v(n))}),t.log("selector","Start singlePings",e.getItems()),e.start()}(o)}}}.apply(t,[i,s]),void 0===(l=function(e,t,n){var r,o;function a(e){var t=e.protocol||"http",r=[];return e.data.forEach(function(e){e.useBestSite&&e.data&&e.data.length&&e.data.sort(i).forEach(function(o){(function(e){var t,n=[],r=e.slice();for(;r.length>0;)t=Math.floor(Math.random()*r.length),n.push(r[t]),r.splice(t,1);return n})(o.sites).forEach(function(a){r.push({location:e.name+"/"+o.location,url:n("http://ustream.tv",{protocol:t,host:a.host,pathname:a.path}).href})})})}),!!r.length&&r}function i(e,t){var n=o.indexOf(e.location),r=o.indexOf(t.location);return n>-1&&r>-1?r>n?-1:r<n?1:0:n>-1?-1:r>-1?1:0}function s(e,o){var a;r.data.forEach(function(t){t.useBestSite||t.data.forEach(function(o){o.sites.forEach(function(i){a=n("http://ustream.tv",{protocol:r.protocol,host:i.host,pathname:i.path}),e.push({location:t.name+"/"+o.location,url:a.href,name:a.host})})})}),t.dispatch(o,e)}var u={NO_CDN:"There is no cdn defined in cdnConfig!"};return t.on(t.internal.FINISHED,function(e){e.length||t.dispatch(t.types.ERROR,"No ecdn result!"),s(e,t.types.FINISHED)}),t.on(t.internal.PING_RESULT,function(e){e.result&&t.dispatch(t.types.PING_RESULT,e)}),{events:t.types,test:function(n,i){var l;arguments.length<1||(o=i.locationPriority&&"[object Array]"===Object.prototype.toString.call(i.locationPriority)?i.locationPriority:[],n.data&&n.data.length?(r=JSON.parse(JSON.stringify(n))).data.some(function(e){return e.useBestSite})&&(l=a(r))?e.update(l,i):s([],t.types.FINISHED):t.dispatch(t.types.ERROR,u.NO_CDN))},on:t.on,off:t.off,addListener:t.on,removeListener:t.off}}.apply(t,[u,s,o]))||(e.exports=l)},function(e,t,n){var r=n(53);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(118),o=n(60);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(12),o=n(63),a=n(28);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],i={};i[e]=t(n),r(r.S+r.F*a(function(){n(1)}),"Object",i)}},function(e,t,n){var r=n(26);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(46),o=n(36),a=n(126)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,n){"use strict";if(n(32)){var r=n(64),o=n(25),a=n(28),i=n(12),s=n(139),u=n(168),l=n(56),c=n(83),f=n(70),d=n(44),p=n(82),h=n(65),m=n(34),v=n(169),y=n(77),g=n(59),b=n(46),E=n(88),S=n(26),T=n(36),O=n(120),C=n(79),w=n(61),_=n(76).f,P=n(122),I=n(71),L=n(30),R=n(87),A=n(123),k=n(91),N=n(124),D=n(78),M=n(95),U=n(81),x=n(117),j=n(145),F=n(33),V=n(47),B=F.f,H=V.f,G=o.RangeError,q=o.TypeError,z=o.Uint8Array,W=Array.prototype,K=u.ArrayBuffer,Y=u.DataView,Q=R(0),Z=R(2),X=R(3),J=R(4),$=R(5),ee=R(6),te=A(!0),ne=A(!1),re=N.values,oe=N.keys,ae=N.entries,ie=W.lastIndexOf,se=W.reduce,ue=W.reduceRight,le=W.join,ce=W.sort,fe=W.slice,de=W.toString,pe=W.toLocaleString,he=L("iterator"),me=L("toStringTag"),ve=I("typed_constructor"),ye=I("def_constructor"),ge=s.CONSTR,be=s.TYPED,Ee=s.VIEW,Se=R(1,function(e,t){return _e(k(e,e[ye]),t)}),Te=a(function(){return 1===new z(new Uint16Array([1]).buffer)[0]}),Oe=!!z&&!!z.prototype.set&&a(function(){new z(1).set({})}),Ce=function(e,t){var n=h(e);if(n<0||n%t)throw G("Wrong offset!");return n},we=function(e){if(S(e)&&be in e)return e;throw q(e+" is not a typed array!")},_e=function(e,t){if(!(S(e)&&ve in e))throw q("It is not a typed array constructor!");return new e(t)},Pe=function(e,t){return Ie(k(e,e[ye]),t)},Ie=function(e,t){for(var n=0,r=t.length,o=_e(e,r);r>n;)o[n]=t[n++];return o},Le=function(e,t,n){B(e,t,{get:function(){return this._d[n]}})},Re=function(e){var t,n,r,o,a,i,s=T(e),u=arguments.length,c=u>1?arguments[1]:void 0,f=void 0!==c,d=P(s);if(null!=d&&!O(d)){for(i=d.call(s),r=[],t=0;!(a=i.next()).done;t++)r.push(a.value);s=r}for(f&&u>2&&(c=l(c,arguments[2],2)),t=0,n=m(s.length),o=_e(this,n);n>t;t++)o[t]=f?c(s[t],t):s[t];return o},Ae=function(){for(var e=0,t=arguments.length,n=_e(this,t);t>e;)n[e]=arguments[e++];return n},ke=!!z&&a(function(){pe.call(new z(1))}),Ne=function(){return pe.apply(ke?fe.call(we(this)):we(this),arguments)},De={copyWithin:function(e,t){return j.call(we(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return J(we(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return x.apply(we(this),arguments)},filter:function(e){return Pe(this,Z(we(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return $(we(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(we(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){Q(we(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(we(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(we(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return le.apply(we(this),arguments)},lastIndexOf:function(e){return ie.apply(we(this),arguments)},map:function(e){return Se(we(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(we(this),arguments)},reduceRight:function(e){return ue.apply(we(this),arguments)},reverse:function(){for(var e,t=we(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return X(we(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ce.call(we(this),e)},subarray:function(e,t){var n=we(this),r=n.length,o=y(e,r);return new(k(n,n[ye]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,m((void 0===t?r:y(t,r))-o))}},Me=function(e,t){return Pe(this,fe.call(we(this),e,t))},Ue=function(e){we(this);var t=Ce(arguments[1],1),n=this.length,r=T(e),o=m(r.length),a=0;if(o+t>n)throw G("Wrong length!");for(;a<o;)this[t+a]=r[a++]},xe={entries:function(){return ae.call(we(this))},keys:function(){return oe.call(we(this))},values:function(){return re.call(we(this))}},je=function(e,t){return S(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Fe=function(e,t){return je(e,t=g(t,!0))?f(2,e[t]):H(e,t)},Ve=function(e,t,n){return!(je(e,t=g(t,!0))&&S(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?B(e,t,n):(e[t]=n.value,e)};ge||(V.f=Fe,F.f=Ve),i(i.S+i.F*!ge,"Object",{getOwnPropertyDescriptor:Fe,defineProperty:Ve}),a(function(){de.call({})})&&(de=pe=function(){return le.call(this)});var Be=p({},De);p(Be,xe),d(Be,he,xe.values),p(Be,{slice:Me,set:Ue,constructor:function(){},toString:de,toLocaleString:Ne}),Le(Be,"buffer","b"),Le(Be,"byteOffset","o"),Le(Be,"byteLength","l"),Le(Be,"length","e"),B(Be,me,{get:function(){return this[be]}}),e.exports=function(e,t,n,u){var l=e+((u=!!u)?"Clamped":"")+"Array",f="get"+e,p="set"+e,h=o[l],y=h||{},g=h&&w(h),b=!h||!s.ABV,T={},O=h&&h.prototype,P=function(e,n){B(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[f](n*t+r.o,Te)}(this,n)},set:function(e){return function(e,n,r){var o=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[p](n*t+o.o,r,Te)}(this,n,e)},enumerable:!0})};b?(h=n(function(e,n,r,o){c(e,h,l,"_d");var a,i,s,u,f=0,p=0;if(S(n)){if(!(n instanceof K||"ArrayBuffer"==(u=E(n))||"SharedArrayBuffer"==u))return be in n?Ie(h,n):Re.call(h,n);a=n,p=Ce(r,t);var y=n.byteLength;if(void 0===o){if(y%t)throw G("Wrong length!");if((i=y-p)<0)throw G("Wrong length!")}else if((i=m(o)*t)+p>y)throw G("Wrong length!");s=i/t}else s=v(n),a=new K(i=s*t);for(d(e,"_d",{b:a,o:p,l:i,e:s,v:new Y(a)});f<s;)P(e,f++)}),O=h.prototype=C(Be),d(O,"constructor",h)):a(function(){h(1)})&&a(function(){new h(-1)})&&M(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=n(function(e,n,r,o){var a;return c(e,h,l),S(n)?n instanceof K||"ArrayBuffer"==(a=E(n))||"SharedArrayBuffer"==a?void 0!==o?new y(n,Ce(r,t),o):void 0!==r?new y(n,Ce(r,t)):new y(n):be in n?Ie(h,n):Re.call(h,n):new y(v(n))}),Q(g!==Function.prototype?_(y).concat(_(g)):_(y),function(e){e in h||d(h,e,y[e])}),h.prototype=O,r||(O.constructor=h));var I=O[he],L=!!I&&("values"==I.name||null==I.name),R=xe.values;d(h,ve,!0),d(O,be,l),d(O,Ee,!0),d(O,ye,h),(u?new h(1)[me]==l:me in O)||B(O,me,{get:function(){return l}}),T[l]=h,i(i.G+i.W+i.F*(h!=y),T),i(i.S,l,{BYTES_PER_ELEMENT:t}),i(i.S+i.F*a(function(){y.of.call(h,1)}),l,{from:Re,of:Ae}),"BYTES_PER_ELEMENT"in O||d(O,"BYTES_PER_ELEMENT",t),i(i.P,l,De),U(l),i(i.P+i.F*Oe,l,{set:Ue}),i(i.P+i.F*!L,l,xe),r||O.toString==de||(O.toString=de),i(i.P+i.F*a(function(){new h(1).slice()}),l,{slice:Me}),i(i.P+i.F*(a(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!a(function(){O.toLocaleString.call([1,2])})),l,{toLocaleString:Ne}),D[l]=L?I:R,r||L||d(O,he,R)}}else e.exports=function(){}},function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=!1},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(71)("meta"),o=n(26),a=n(46),i=n(33).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(28)(function(){return u(Object.preventExtensions({}))}),c=function(e){i(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},getWeak:function(e,t){if(!a(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},onFreeze:function(e){return l&&f.NEED&&u(e)&&!a(e,r)&&c(e),e}}},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.lower,r=void 0===n?-1/0:n,o=t.upper,a=void 0===o?1/0:o;return Math.max(r,Math.min(e,a))}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";t.a={toggleDebug:"TOGGLE_DEBUG",toggleTitleVisibility:"TOGGLE_TITLE_VISIBILITY"}},function(e,t,n){"use strict";t.a={setProvidersStats:"SET_PROVIDERS_STATS",setForcedProviderUrl:"SET_FORCED_PROVIDER_URL",setCurrentProvider:"SET_CURRENT_PROVIDER"}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(30)("unscopables"),o=Array.prototype;null==o[r]&&n(44)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(149),o=n(127);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(26);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(149),o=n(127).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(65),o=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):a(e,t)}},function(e,t){e.exports={}},function(e,t,n){var r=n(27),o=n(201),a=n(127),i=n(126)("IE_PROTO"),s=function(){},u=function(){var e,t=n(116)("iframe"),r=a.length;for(t.style.display="none",n(150).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[a[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[i]=e):n=u(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(33).f,o=n(46),a=n(30)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(25),o=n(33),a=n(32),i=n(30)("species");e.exports=function(e){var t=r[e];a&&t&&!t[i]&&o.f(t,i,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(45);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){"use strict";t.a={addVideoTag:"ADD_VIDEO_TAG",removeVideoTag:"REMOVE_VIDEO_TAG"}},function(e,t,n){"use strict";t.a={setActiveMarker:"SET_ACTIVE_MARKER",clearActiveMarker:"CLEAR_ACTIVE_MARKER"}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,a,i,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,i,s],c=0;(u=new Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){var r=n(56),o=n(118),a=n(36),i=n(34),s=n(146);e.exports=function(e,t){var n=1==e,u=2==e,l=3==e,c=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var m,v,y=a(t),g=o(y),b=r(s,h,3),E=i(g.length),S=0,T=n?p(t,E):u?p(t,0):void 0;E>S;S++)if((d||S in g)&&(v=b(m=g[S],S,y),e))if(n)T[S]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return S;case 2:T.push(m)}else if(c)return!1;return f?-1:l||c?c:T}}},function(e,t,n){var r=n(73),o=n(30)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(12),o=n(60),a=n(28),i=n(131),s="["+i+"]",u=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),c=function(e,t,n){var o={},s=a(function(){return!!i[e]()||""!=""[e]()}),u=o[e]=s?t(f):i[e];n&&(o[n]=u),r(r.P+r.F*s,"String",o)},f=c.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(l,"")),e};e.exports=c},function(e,t,n){var r=n(27),o=n(53),a=n(30)("species");e.exports=function(e,t){var n,i=r(e).constructor;return void 0===i||null==(n=r(i)[a])?t:o(n)}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(337)},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(334),a=(r=o)&&r.__esModule?r:{default:r};t.default=(0,a.default)("local")},function(e,t,n){var r=n(63),o=n(25),a=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(64)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(30)("iterator"),o=!1;try{var a=[7][r]();a.return=function(){o=!0},Array.from(a,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var a=[7],i=a[r]();i.next=function(){return{done:n=!0}},a[r]=function(){return i},e(a)}catch(e){}return n}},function(e,t,n){var r=n(56),o=n(147),a=n(120),i=n(27),s=n(34),u=n(122),l={},c={};(t=e.exports=function(e,t,n,f,d){var p,h,m,v,y=d?function(){return e}:u(e),g=r(n,f,t?2:1),b=0;if("function"!=typeof y)throw TypeError(e+" is not iterable!");if(a(y)){for(p=s(e.length);p>b;b++)if((v=t?g(i(h=e[b])[0],h[1]):g(e[b]))===l||v===c)return v}else for(m=y.call(e);!(h=m.next()).done;)if((v=o(m,g,h.value,t))===l||v===c)return v}).BREAK=l,t.RETURN=c},function(e,t,n){"use strict";var r=n(25),o=n(12),a=n(45),i=n(82),s=n(66),u=n(96),l=n(83),c=n(26),f=n(28),d=n(95),p=n(80),h=n(128);e.exports=function(e,t,n,m,v,y){var g=r[e],b=g,E=v?"set":"add",S=b&&b.prototype,T={},O=function(e){var t=S[e];a(S,e,"delete"==e?function(e){return!(y&&!c(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!c(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(y||S.forEach&&!f(function(){(new b).entries().next()}))){var C=new b,w=C[E](y?{}:-0,1)!=C,_=f(function(){C.has(1)}),P=d(function(e){new b(e)}),I=!y&&f(function(){for(var e=new b,t=5;t--;)e[E](t,t);return!e.has(-0)});P||((b=t(function(t,n){l(t,b,e);var r=h(new g,t,b);return null!=n&&u(n,v,r[E],r),r})).prototype=S,S.constructor=b),(_||I)&&(O("delete"),O("has"),v&&O("get")),(I||w)&&O(E),y&&S.clear&&delete S.clear}else b=m.getConstructor(t,e,v,E),i(b.prototype,n),s.NEED=!0;return p(b,e),T[e]=b,o(o.G+o.W+o.F*(b!=g),T),y||m.setStrong(b,e,v),b}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";e.exports=n(64)||!n(28)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(25)[e]})},function(e,t,n){var r=n(25).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(27);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(88),o=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var a=n.call(e,t);if("object"!=typeof a)throw new TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,n){"use strict";n(281);var r=n(45),o=n(44),a=n(28),i=n(60),s=n(30),u=n(136),l=s("species"),c=!a(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),f=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var d=s(e),p=!a(function(){var t={};return t[d]=function(){return 7},7!=""[e](t)}),h=p?!a(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[d](""),!t}):void 0;if(!p||!h||"replace"===e&&!c||"split"===e&&!f){var m=/./[d],v=n(i,d,""[e],function(e,t,n,r,o){return t.exec===u?p&&!o?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),y=v[0],g=v[1];r(String.prototype,e,y),o(RegExp.prototype,d,2==t?function(e,t){return g.call(e,this,t)}:function(e){return g.call(e,this)})}}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),i=n.n(a),s=o.a.createElement("svg",{width:"64",height:"64",viewBox:"0 0 50 50"},o.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},o.a.createElement("rect",{id:"base",x:"0",y:"0",width:"50",height:"50"}),o.a.createElement("g",{transform:"translate(0.000000, 8.000000)",fill:"#FFFFFF"},o.a.createElement("path",{d:"M39.848,31.84 C48.0438666,23.6440781 48.0438666,10.3559219 39.848,2.16 L41.974,0.03 C51.3458327,9.40245425 51.3458327,24.5975457 41.974,33.97 L39.848,31.84 Z M37.731,29.73 L35.616,27.61 C41.4745297,21.749757 41.4745297,12.250243 35.616,6.39 L37.731,4.27 C44.7565847,11.3026553 44.7565847,22.6973447 37.731,29.73 L37.731,29.73 Z M33.478,25.47 L31.367,23.36 C34.8764405,19.8461894 34.8764405,14.1538106 31.367,10.64 L33.478,8.53 C38.1555143,13.2079916 38.1555143,20.7920084 33.478,25.47 L33.478,25.47 Z M18.632,23.36 L16.521,25.47 C11.8434857,20.7920084 11.8434857,13.2079916 16.521,8.53 L18.632,10.64 C15.1228357,14.1540865 15.1232832,19.8464653 18.633,23.36 L18.632,23.36 Z M14.383,27.61 L12.268,29.73 C5.24241528,22.6973447 5.24241528,11.3026553 12.268,4.27 L14.383,6.39 C8.52474643,12.250519 8.5251941,21.7500331 14.384,27.61 L14.383,27.61 Z M10.151,31.84 L8.025,33.97 C-1.34352078,24.5961742 -1.34352078,9.40382579 8.025,0.03 L10.15,2.16 C1.95468564,10.3564741 1.95558107,23.6446304 10.152,31.84 L10.151,31.84 Z",opacity:"0.3"}),o.a.createElement("path",{d:"M25,11 C28.3137085,11 31,13.6862915 31,17 C31,20.3137085 28.3137085,23 25,23 C21.6862915,23 19,20.3137085 19,17 C19,13.6862915 21.6862915,11 25,11 Z M25,14 C26.6568542,14 28,15.3431458 28,17 C28,18.6568542 26.6568542,20 25,20 C23.3431458,20 22,18.6568542 22,17 C22,15.3431458 23.3431458,14 25,14 Z",opacity:"0.8"}))));function u(e){var t=e.title,n=e.label,r=e.ariaLabel;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"main-icon"},s),o.a.createElement("h3",{className:"text-center",tabIndex:"0","aria-label":r},t),o.a.createElement("h4",{className:"text-center"},n))}u.defaultProps={title:null,label:null,ariaLabel:""},u.propTypes={title:i.a.string,label:i.a.string,ariaLabel:i.a.string},t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(11);t.default=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{tabIndex:"0"},a.a.labelViewerHourLock.lead),o.a.createElement("p",null,a.a.labelViewerHourLock.text))}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.a=function e(){for(var t={},n=0;n<arguments.length;n++)for(var o in arguments[n]){var a=arguments[n][o],i=t[o];i&&"object"==r(a)&&"object"==r(i)?t[o]=e(i,a):t[o]=a}return t}},function(e,t,n){"use strict";var r=n(42);t.a=[r.a.PROGRESS,r.a.VIEWERS_UPDATE,r.a.ALLVIEWERS_UPDATE,r.a.ALLTIMETOTAL_UPDATE,r.a.MODULE_INFO,r.a.ATLAS_PROGRESS,r.a.ATLAS_POSITION_UPDATE,r.a.ATLAS_STORED_UPDATE,r.a.ATLAS_BUFFERED_UPDATE,r.a.ATLAS_LOG,r.a.SEND_REPORT,"onClickOverlayMouseMove"]},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){if(""===t)return n;null!==e&&"object"===r(e)||(e={});var a=t.split("."),i=a.slice(0,1),s=a.slice(1);return e[i]=o(e[i],s.join("."),n),e}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";t.a={addExternalVtt:"ADD_EXTERNAL_VTT"}},function(e,t,n){"use strict";t.a={updatePrivacyCookie:"UPDATE_PRIVACY_COOKIE"}},function(e,t,n){"use strict";t.a={toggleHiddenContextMenuItems:"TOGGLE_HIDDEN_CONTEXT_MENU_ITEMS"}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s});var r=n(8),o=n(5),a=n.n(o);function i(){return-1!==a.a.capabilities.indexOf(a.a.formats.MP4_SEGMENTED)}function s(e){var t=Object(r.a)(e,"location","");return/multicast\//.test(t)}},function(e,t,n){"use strict";t.a={setStatsData:"SET_STATS_DATA"}},function(e,t,n){"use strict";t.a={setAdsPlaying:"SET_ADS_PLAYING"}},function(e,t,n){"use strict";var r=n(16),o="persist:",a="persist/FLUSH",i="persist/REHYDRATE",s="persist/PAUSE",u="persist/PERSIST",l="persist/PURGE",c="persist/REGISTER",f=-1,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function h(e,t,n,r){r.debug;var o=p({},n);return e&&"object"===(void 0===e?"undefined":d(e))&&Object.keys(e).forEach(function(r){"_persist"!==r&&t[r]===n[r]&&(o[r]=e[r])}),o}function m(e){var t=e.blacklist||null,n=e.whitelist||null,r=e.transforms||[],a=e.throttle||0,i=""+(void 0!==e.keyPrefix?e.keyPrefix:o)+e.key,s=e.storage,u=!1===e.serialize?function(e){return e}:v,l={},c={},f=[],d=null,p=null;function h(){if(0===f.length)return d&&clearInterval(d),void(d=null);var e=f.shift(),t=r.reduce(function(t,n){return n.in(t,e,l)},l[e]);if(void 0!==t)try{c[e]=u(t)}catch(e){console.error("redux-persist/createPersistoid: error serializing state",e)}else delete c[e];0===f.length&&(Object.keys(c).forEach(function(e){void 0===l[e]&&delete c[e]}),p=s.setItem(i,u(c)).catch(m))}function m(e){0}return{update:function(e){Object.keys(e).forEach(function(r){(function(e){return(!n||-1!==n.indexOf(e)||"_persist"===e)&&(!t||-1===t.indexOf(e))})(r)&&l[r]!==e[r]&&-1===f.indexOf(r)&&f.push(r)}),Object.keys(l).forEach(function(t){void 0===e[t]&&f.push(t)}),null===d&&(d=setInterval(h,a)),l=e},flush:function(){for(;0!==f.length;)h();return p||Promise.resolve()}}}function v(e){return JSON.stringify(e)}function y(e){var t=e.transforms||[],n=""+(void 0!==e.keyPrefix?e.keyPrefix:o)+e.key,r=e.storage,a=(e.debug,!1===e.serialize?function(e){return e}:g);return r.getItem(n).then(function(e){if(e)try{var n={},r=a(e);return Object.keys(r).forEach(function(e){n[e]=t.reduceRight(function(t,n){return n.out(t,e,r)},a(r[e]))}),n}catch(e){throw e}})}function g(e){return JSON.parse(e)}function b(e){0}var E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var S=5e3;function T(e,t){var n=void 0!==e.version?e.version:f,r=(e.debug,void 0===e.stateReconciler?h:e.stateReconciler),c=e.getStoredState||y,d=void 0!==e.timeout?e.timeout:S,p=null,v=!1,g=!0,T=function(e){return e._persist.rehydrated&&p&&!g&&p.update(e),e};return function(f,h){var y=f||{},S=y._persist,O=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(y,["_persist"]);if(h.type===u){var C=!1,w=function(t,n){C||(h.rehydrate(e.key,t,n),C=!0)};if(d&&setTimeout(function(){!C&&w(void 0,new Error('redux-persist: persist timed out for persist key "'+e.key+'"'))},d),g=!1,p||(p=m(e)),S)return f;if("function"!=typeof h.rehydrate||"function"!=typeof h.register)throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return h.register(e.key),c(e).then(function(t){(e.migrate||function(e,t){return Promise.resolve(e)})(t,n).then(function(e){w(e)},function(e){w(void 0,e)})},function(e){w(void 0,e)}),E({},t(O,h),{_persist:{version:n,rehydrated:!1}})}if(h.type===l)return v=!0,h.result(function(e){var t=e.storage,n=""+(void 0!==e.keyPrefix?e.keyPrefix:o)+e.key;return t.removeItem(n,b)}(e)),E({},t(O,h),{_persist:S});if(h.type===a)return h.result(p&&p.flush()),E({},t(O,h),{_persist:S});if(h.type===s)g=!0;else if(h.type===i){if(v)return E({},O,{_persist:E({},S,{rehydrated:!0})});if(h.key===e.key){var _=t(O,h),P=h.payload,I=!1!==r&&void 0!==P?r(P,f,_,e):_,L=E({},I,{_persist:E({},S,{rehydrated:!0})});return T(L)}}if(!S)return t(f,h);var R=t(O,h);return R===O?f:(R._persist=S,T(R))}}"function"==typeof Symbol&&Symbol.iterator,Object.assign;var O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function C(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var w={registry:[],bootstrapped:!1},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments[1];switch(t.type){case c:return O({},e,{registry:[].concat(C(e.registry),[t.key])});case i:var n=e.registry.indexOf(t.key),r=[].concat(C(e.registry));return r.splice(n,1),O({},e,{registry:r,bootstrapped:0===r.length});default:return e}};var P=n(93),I=n.n(P),L=n(84),R=n(109),A=n(51),k=n(8),N=n(52),D={isEnabled:!1,slides:[],currentSlide:null,firstSlide:!1,slideIndexPanelVisible:!1},M=n(85),U={activeMarkerIndex:void 0},x=n(38),j=n(23),F=n(50),V={hash:F.a.getHashFromLocalStorage(),password:F.a.getPasswordFromSessionStorage(),info:{},id:null,lock:{type:"",data:{}}},B=n(22),H=n(67);function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q={isBufferEmpty:!0,webkitSupportsFullscreen:!1,audioTracks:[],closedCaptionTracks:[],selectedAudio:-1,selectedClosedCaption:-2,closedCaptionVisible:!0,stats:{storages:{},buffers:{}},videoResolution:"",playing:!1,progress:0};function z(e,t){var n=e.event,r=e.ranges,o=e.streamId;return"Atlas.stored"!==n?t:Object.assign({},t,G({},o,r))}function W(e,t){var n=e.event,r=e.ranges,o=e.bufferId;return"Atlas.buffered"!==n?t:Object.assign({},t,G({},o,r))}function K(e){var t=e.tracks,n=e.selectedClosedCaption,r=e.closedCaptionActiveFromLocalStorage;if(-2!==n)return n;var o=Object(k.a)(t.find(function(e){return e.default}),"id",null);return o||0===o?o:r?0:-1}function Y(e){var t=e.prevTracks,n=e.nextTracks,r=e.selectedTrack,o=t.find(function(e){return e.id===r});if(!o)return-1;var a=n.filter(function(e){var t=e.language,n=e.country;return t===o.language&&n===o.country}),i=a.find(function(e){return e.id===o.id});return i?i.id:Object(k.a)(a,"0.id",-1)}var Q=n(110),Z=n(48),X="cmapi_cookie_privacy",J={ibmCookie:Z.a.get(X),overlayCookie:Z.a.get(X)},$=n(35),ee={title:void 0,duration:void 0,trimmedDuration:void 0,audioOnly:!1,mediaId:"",streamInfo:{},mediaType:void 0,isReplay:!1,thumbnails:{},trimInfo:void 0,defaultLang:void 0},te={allTimeTotal:null,allViewers:null,viewers:null};function ne(e){return"secureUrl"in e}function re(e){var t=e.find(ne);if(!t)return null;var n=t.secureUrl,r=t.clickUrl;return r?{url:n,clickUrl:r}:{url:n}}var oe={showDefaultLogo:!1,customLogo:null},ae={facebook:null,twitter:null,copyLink:null,embed:null,enabled:!1},ie=n(111),se={showHiddenContextMenuItems:!1},ue={userName:null,benefits:[]},le=n(21),ce=n(10),fe=n(68),de=n(69),pe=n(112);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var me={finalResult:[],forcedUrl:"",fallback:"",location:"",preferredLocation:[],cdnConfig:{}};function ve(e){return"object"!==he(e)||null===e?e:Object.assign(e,{isMulticastProvider:Object(pe.a)(e)})}var ye=n(113),ge={stats:{}},be={},Ee=n(114),Se={adsPlaying:!1},Te=n(31),Oe=n(20),Ce={fullScreen:!1,volume:100,speed:1,theaterMode:{visible:function(){if(ce.a.theaterVisible)return!0;var e=document.querySelector(".ve-container"),t=e&&!e.classList.contains("no-rightbar")&&!e.classList.contains("no-socialstream");return!(!ce.a.sitemode||!t)}(),enabled:!1},statsOverlayVisible:!1,debugOverlayVisible:!1,flagOverlayVisible:!1,playerSize:{width:0,height:0},isBrowserOldNotificationVisible:!1};function we(e){var t=e;return e>100?t=100:e<0&&(t=0),t}var _e={},Pe=n(29),Ie=n(13);function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(n,!0).forEach(function(t){Ae(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ne=function(e,t){var n=ke(e),r=n.length,o=n[r-1],a=o&&o[o.length-1],i=function(e){return e.msg===t.msg&&t.timeStamp-e.timeStamp<3e3};return Array.isArray(o)&&i(a)?n[r-1]=[].concat(ke(o),[t]):o&&i(o)?n[r-1]=[o,t]:n=[].concat(ke(e),[t]),n},De={keyFrameInterval:"N/A",INIT:{groupId:"FLOT",status:Ie.a.LOADING,data:[]},TIMING:{groupId:"FLOT",status:Ie.a.LOADING,data:[],timeToStartInMs:null},DISCONNECTS:{groupId:"FLOT",status:Ie.a.SUCCESS,data:[]},REJECTS:{groupId:"FLOT",status:Ie.a.SUCCESS,data:[]},EMPTY_MODULE:{groupId:"FLOT",status:Ie.a.SUCCESS,data:[]},DOWNLOAD:{groupId:"QOS",isEcdn:!1,status:Ie.a.SUCCESS,data:[],highestTotal:0},ATLAS_RECOVERABLE:{groupId:"PLAYBACK",status:Ie.a.SUCCESS,data:[]},ATLAS_NON_RECOVERABLE:{groupId:"PLAYBACK",status:Ie.a.SUCCESS,data:[]},EMPTY_CHUNK:{groupId:"PLAYBACK",status:Ie.a.SUCCESS,data:[]}},Me={key:"root",storage:I.a,whitelist:[]},Ue={key:"provider",storage:I.a,whitelist:["forcedUrl"]},xe={key:"mte_viewer_volume",storage:I.a,whitelist:["volume"]},je={key:"hidden_context_menu_items",storage:I.a,whitelist:["showHiddenContextMenuItems"]},Fe=Object(r.combineReducers)({videoTag:function(e,t){var n=e||null,r=t.type,o=t.payload;switch(r){case L.a.addVideoTag:return o.videoTag;case L.a.removeVideoTag:return null;default:return n}},externalVtt:function(e,t){var n=e||{},r=t.type,o=t.payload;switch(r){case R.a.addExternalVtt:return Object.assign({},n,{hasExternalVtt:!!o.vtt.length,vtt:o.vtt});default:return n}},captionSearch:function(e,t){var n=e||{panelVisibility:!1,visibility:!1},r=t.type,o=t.payload;switch(r){case A.a.toggleCaptionSearchComponent:return Object.assign({},n,{visibility:o.visibility});case A.a.toggleCaptionSearchPanel:return Object.assign({},n,{panelVisibility:o.panelVisibility});case A.a.setSearchText:return Object.assign({},n,{searchText:o.searchText});case A.a.setCaptionModule:return Object.assign({},n,{module:o.module,visibility:o.visibility});case A.a.setSearchResult:return Object.assign({},n,{searchResult:o.searchResult});default:return n}},slideDeck:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case N.a.disable:return Object.assign({},D);case N.a.setSlides:var o=r.slides.slice().sort(function(e,t){return Object(k.a)(e,"start",-1)-Object(k.a)(t,"start",-1)});return Object.assign({},e,{slides:o,isEnabled:!0,firstSlide:!0});case N.a.setCurrentSlide:var a=Object(k.a)(r,"slide.url",""),i=a.length?r.slide:null;return Object.assign({},e,{currentSlide:i,isEnabled:!0});case N.a.setOnboarding:return Object.assign({},e,{onboarding:r.onboarding});case N.a.toggleSlideIndexPanel:return Object.assign({},e,{slideIndexPanelVisible:r});default:return e}},seekbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case M.a.setActiveMarker:return Object.assign({},e,{activeMarkerIndex:r.activeMarkerIndex});case M.a.clearActiveMarker:return Object.assign({},e,{activeMarkerIndex:void 0});default:return e}},ums:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case x.a.addPassword:return Object.assign({},e,{password:r.password,lock:{type:"",data:{}}});case x.a.addHash:return Object.assign({},e,{hash:r.hash,lock:{type:"",data:{}}});case x.a.removeHash:return Object.assign({},e,{hash:null});case x.a.setUmsInfo:return Object.assign({},e,{info:r.info});case j.a.setMetaModule:return Object.assign({},e,{id:r.umsId});case x.a.setLockInfo:return Object.assign({},e,{lock:{type:r.type,data:r.data}});default:return e}},playback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case B.a.setBufferEmpty:return Object.assign({},e,{isBufferEmpty:r.isBufferEmpty});case B.a.setWebkitSupportsFullscreen:return Object.assign({},e,{webkitSupportsFullscreen:r.supports});case B.a.setAudioTracks:var o=r.tracks,a=Y({prevTracks:e.audioTracks,nextTracks:o,selectedTrack:e.selectedAudio});return Object.assign({},e,{selectedAudio:a,audioTracks:o});case B.a.selectAudio:var i=r.index,s=e.audioTracks.some(function(e){return e.id===i});return s?Object.assign({},e,{selectedAudio:i}):e;case B.a.setStreamModuleReceivedDate:var u=r.ts;return Object.assign({},e,{lastStreamModuleReceived:u});case B.a.selectClosedCaption:var l=r.index;return Object.assign({},e,{selectedClosedCaption:l,closedCaptionVisible:-1!==l});case B.a.setClosedCaptionTracks:var c=r.tracks,f=r.closedCaptionActiveFromLocalStorage,d=K({tracks:c,selectedClosedCaption:e.selectedClosedCaption,closedCaptionActiveFromLocalStorage:f});return Object.assign({},e,{closedCaptionTracks:c,selectedClosedCaption:d});case B.a.setCodecInfo:var p=r.codec,h=p.width,m=p.height,v=p.audioCodec,y=p.videoCodec;return Object.assign({},e,{audio:{codec:v},video:{width:h,height:m,codec:y},videoResolution:h&&m?"".concat(h,"x").concat(m):null});case B.a.setPlaybackStats:var g=z(r.stats,e.stats.storages),b=W(r.stats,e.stats.buffers);return Object.assign({},e,{stats:{storages:g,buffers:b}});case B.a.togglePlaying:return Object.assign({},e,{playing:r});case B.a.setHash:return Object.assign({},e,{hashes:Object.assign({},e.hashes,r)});case B.a.setProgress:return Object.assign({},e,{progress:Object(H.a)(r,{lower:0,upper:1})});default:return e}},cookie:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case Q.a.updatePrivacyCookie:return Object.assign({},e,{ibmCookie:Z.a.get(X),overlayCookie:Z.a.get("cookieOverlayWasShown")});default:return e}},content:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case $.a.setTitle:return Object.assign({},e,{title:r});case $.a.setDuration:return Object.assign({},e,{duration:r});case $.a.setTrimmedDuration:return Object.assign({},e,{trimmedDuration:r});case $.a.toggleAudioOnly:return Object.assign({},e,{audioOnly:r});case $.a.setStreamInfo:return Object.assign({},e,{streamInfo:r.streamInfo});case $.a.setMediaId:return Object.assign({},e,{mediaId:r.id});case $.a.setMediaType:return Object.assign({},e,{mediaType:r});case j.a.setMetaModule:var o=r.isReplay,a=r.cut,i=r.highlight,s=r.defaultLang;return Object.assign({},e,{isReplay:o,trimInfo:a||i,defaultLang:s?s.replace("-00",""):void 0});case j.a.setThumbnailModule:return Object.assign({},e,{thumbnails:r});case $.a.setTrimInfo:return Object.assign({},e,{trimInfo:r});default:return e}},viewers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case j.a.setAllTimeTotalModule:return Object.assign({},e,{allTimeTotal:r});case j.a.setAllViewersModule:return Object.assign({},e,{allViewers:r});case j.a.setViewersModule:return Object.assign({},e,{viewers:r});default:return e}},logo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case j.a.setLogoModule:var o=r.some(function(e){return!ne(e)}),a=re(r);return Object.assign({},e,{showDefaultLogo:o,customLogo:a});default:return e}},share:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case j.a.setShareModule:return Object.assign({},e,{facebook:r.facebook,twitter:r.twitter,copyLink:r.mail,embed:r.embed,enabled:!!r});default:return e}},contextMenu:T(je,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case ie.a.toggleHiddenContextMenuItems:var o=r.isVisible;return Object.assign({},e,{showHiddenContextMenuItems:o});default:return e}}),broadcaster:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case j.a.setMetaModule:var o=Object.assign({},e),a=Object(k.a)(r,"userName",null);o.userName=a;var i=Object(k.a)(r,"broadcaster.benefits");return Array.isArray(i)&&(o.benefits=i),o;case j.a.setBroadcasterModule:var s=Object(k.a)(r,"benefits",[]);return Object.assign({},e,{benefits:s});default:return e}},settings:function(e,t){var n=t.type,r=t.payload,o={debug:le.b.get(le.a)||!!ce.a.debug,isTitleVisible:!0},a=void 0===e?o:e;switch(n){case fe.a.toggleDebug:return Object.assign({},a,{debug:r});case fe.a.toggleTitleVisibility:return Object.assign({},a,{isTitleVisible:r});default:return a}},qos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case ye.a.setStatsData:return Object.assign({},e,{stats:Object.assign({},e.stats,r.stats)});default:return e}},liveCTA:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case j.a.setLiveCTAModule:var o=r.remove;if(o)return{};var a=r.activate;return a?Object.assign({},a):e;default:return e}},poll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case j.a.setPollModule:var o=Object.assign({},e),a=Object(k.a)(r,"pollStart");a&&(o=Object.assign({},a));var i=Object(k.a)(r,"pollStop.stoppedAt");return i&&Object.assign(o,{stoppedAt:i}),o;default:return e}},provider:T(Ue,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case de.a.setProvidersStats:var o=Object(k.a)(r.stats,"finalResult",e.finalResult),a=Object(k.a)(r.stats,"fallback",e.fallback),i=Object(k.a)(r.stats,"location",e.location),s=Object(k.a)(r.stats,"preferredLocation",e.preferredLocation),u=Object(k.a)(r.stats,"cdnConfig",e.cdnConfig);return Object.assign({},e,{finalResult:o,fallback:a,location:i,preferredLocation:s,cdnConfig:u});case de.a.setCurrentProvider:var l=r.provider,c=ve(l);return Object.assign({},e,{currentProvider:c});case de.a.setForcedProviderUrl:return Object.assign({},e,{forcedUrl:r.url});default:return e}}),ads:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Ee.a.setAdsPlaying:return Object.assign({},e,{adsPlaying:r.adsPlaying});default:return e}},player:T(xe,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Te.a.toggleFullScreen:return Object.assign({},e,{fullScreen:r});case Te.a.setVolume:return Object.assign({},e,{volume:we(r)});case Te.a.setPlaybackSpeed:return Object.assign({},e,{speed:r});case Te.a.toggleTheaterMode:var o=Object.assign({},e.theaterMode,r);return Object.assign({},e,{theaterMode:o});case Te.a.toggleStatsOverlay:return Object.assign({},e,{statsOverlayVisible:r,debugOverlayVisible:!1});case Te.a.toggleDebugOverlay:return Object.assign({},e,{debugOverlayVisible:r,statsOverlayVisible:!1});case Te.a.resize:return Object.assign({},e,{playerSize:r});case Te.a.toggleFlagOverlay:return Object.assign({},e,{flagOverlayVisible:r});case Te.a.showNotification:var a=r===Oe.a.oldBrowser||e.isBrowserOldNotificationVisible,i=Object.assign({},e,{isBrowserOldNotificationVisible:a});return Object.assign({},e,i);case Te.a.hideNotification:var s=r!==Oe.a.oldBrowser&&e.isBrowserOldNotificationVisible,u=Object.assign({},e,{isBrowserOldNotificationVisible:s});return Object.assign({},e,u);default:return e}}),debug:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case Pe.a.addFlotInitDiagnostics:return Object.assign({},e,{INIT:Re({},e.INIT,{status:r.inited?Ie.a.SUCCESS:Ie.a.ERROR})});case Pe.a.addFlotDisconnectError:return Object.assign({},e,{DISCONNECTS:Re({},e.DISCONNECTS,{status:Ie.a.WARNING,data:[].concat(ke(e.DISCONNECTS.data),[r])})});case Pe.a.addFlotRejectError:return Object.assign({},e,{REJECTS:Re({},e.REJECTS,{status:Ie.a.ERROR,data:[].concat(ke(e.REJECTS.data),[r])})});case Pe.a.addFlotTimingDiagnostics:return Object.assign({},e,{TIMING:Re({},e.TIMING,{status:r.timeToStartInMs<=5e3?Ie.a.SUCCESS:Ie.a.WARNING,timeToStartInMs:r.timeToStartInMs})});case Pe.a.addFlotEmptyStreamModuleError:return Object.assign({},e,{EMPTY_MODULE:Re({},e.EMPTY_MODULE,{status:Ie.a.ERROR,data:[].concat(ke(e.EMPTY_MODULE.data),[r])})});case Pe.a.addSlowChunkWarning:return Object.assign({},e,{DOWNLOAD:Re({},e.DOWNLOAD,{status:Ie.a.WARNING,data:[].concat(ke(e.DOWNLOAD.data),[r]),isEcdn:!!r.isEcdn,highestTotal:e.DOWNLOAD.highestTotal<r.total?r.total:e.DOWNLOAD.highestTotal})});case Pe.a.addAtlasWarning:case Pe.a.addAtlasError:var o=n===Pe.a.addAtlasError,a=o?Ie.a.ERROR:Ie.a.WARNING,i=o?"ATLAS_NON_RECOVERABLE":"ATLAS_RECOVERABLE";return Object.assign({},e,Ae({},i,Re({},e[i],{status:a,data:Ne(e[i].data,r)})));case Pe.a.addChunkEmptyWarning:return Object.assign({},e,{EMPTY_CHUNK:Re({},e.EMPTY_CHUNK,{status:Ie.a.WARNING,data:[].concat(ke(e.EMPTY_CHUNK.data),[r])})});case Pe.a.addKeyFrameDiagnostics:return Object.assign({},e,{keyFrameInterval:"number"==typeof r.keyFrameInterval?r.keyFrameInterval:"N/A"});case Pe.a.resetDebugOverlay:return De;default:return e}}}),Ve=T(Me,Fe),Be=n(187),He=n(24),Ge=[B.a.selectAudio,B.a.setAudioTracks],qe=[B.a.selectClosedCaption,B.a.setClosedCaptionTracks],ze=n(15),We=n.n(ze);function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ye,Qe,Ze,Xe,Je,$e,et,tt,nt=Object(r.createStore)(Ve,{},Object(Be.composeWithDevTools)(Object(r.applyMiddleware)(function(){return function(e){return function(t){return t.type===x.a.addHash&&F.a.saveHashToLocalStorage(t.payload),t.type===x.a.removeHash&&F.a.removeCurrentHashFromLocalStorage(),e(t)}}},function(e){return function(t){return function(n){var r=t(n);if(Ge.includes(n.type)){var o=e.getState().playback,a=o.selectedAudio,i=o.audioTracks;if(i.length>0){var s=i.map(function(e){var t=e.id;return{index:t,label:e.label,language:e.language,country:e.country,active:a===t}});He.a.send("audio",s)}}return r}}},function(e){return function(t){return function(n){var r=t(n);if(qe.includes(n.type)){var o=e.getState().playback,a=o.selectedClosedCaption,i=o.closedCaptionTracks;if(i.length>0){var s=i.map(function(e){var t=e.id;return{index:t,label:e.label,language:e.language,country:e.country,active:a===t}});He.a.send("cc",s)}}return r}}},function(e){return function(t){return function(n){if(n.type===B.a.selectClosedCaption){var r=n.payload.index>=0;le.b.set("is_cc_active",r,{expires:3650})}if(n.type===B.a.setClosedCaptionTracks&&-2===e.getState().playback.selectedClosedCaption){var o=le.b.get("is_cc_active"),a=Object.assign({},n.payload,{closedCaptionActiveFromLocalStorage:o});return t(Object.assign({},n,{payload:a}))}return t(n)}}},function(e){return function(t){return function(n){var r=t(n);if(n.type===fe.a.toggleDebug){var o=e.getState().settings.debug;le.b.set(le.a,o)}return r}}},function(){return function(e){return function(t){var n=t.type,r=t.payload;if(n===j.a.setThumbnailModule){var o=function(e){return/SecureUrl$/.test(e)},a=Object.entries(r).filter(function(e){var t=Ke(e,1)[0];return We.a.ssl&&o(t)||!We.a.ssl&&!o(t)}).map(function(e){var t=Ke(e,2),n=t[0],r=t[1];return[n.replace(/(?:Secure)?Url$/,""),r.replace("#SIZE#","640x360")]}).reduce(function(e,t){var n=Ke(t,2),r=n[0],o=n[1];return Object.assign(e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},r,o))},{});return e(Object.assign({},t,{payload:a}))}return e(t)}}},function(e){return function(e){return function(t){var n=e(t);return t.type===Te.a.hideNotification&&t.payload===Oe.a.oldBrowser&&le.b.set(le.c,!0,{expires:7}),n}}})));Ye=nt,Xe=Ze||!1,Je=Object(r.createStore)(_,w,Qe?Qe.enhancer:void 0),$e=function(e){Je.dispatch({type:c,key:e})},et=function(e,t,n){var r={type:i,payload:t,err:n,key:e};Ye.dispatch(r),Je.dispatch(r),Xe&&tt.getState().bootstrapped&&(Xe(),Xe=!1)},(tt=O({},Je,{purge:function(){var e=[];return Ye.dispatch({type:l,result:function(t){e.push(t)}}),Promise.all(e)},flush:function(){var e=[];return Ye.dispatch({type:a,result:function(t){e.push(t)}}),Promise.all(e)},pause:function(){Ye.dispatch({type:s})},persist:function(){Ye.dispatch({type:u,register:$e,rehydrate:et})}})).persist();t.a=nt},function(e,t,n){var r=n(26),o=n(25).document,a=r(o)&&r(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){"use strict";var r=n(36),o=n(77),a=n(34);e.exports=function(e){for(var t=r(this),n=a(t.length),i=arguments.length,s=o(i>1?arguments[1]:void 0,n),u=i>2?arguments[2]:void 0,l=void 0===u?n:o(u,n);l>s;)t[s++]=e;return t}},function(e,t,n){var r=n(73);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(73);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(78),o=n(30)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[o]===e)}},function(e,t,n){"use strict";var r=n(33),o=n(70);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){var r=n(88),o=n(30)("iterator"),a=n(78);e.exports=n(63).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||a[r(e)]}},function(e,t,n){var r=n(57),o=n(34),a=n(77);e.exports=function(e){return function(t,n,i){var s,u=r(t),l=o(u.length),c=a(i,l);if(e&&n!=n){for(;l>c;)if((s=u[c++])!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){"use strict";var r=n(72),o=n(148),a=n(78),i=n(57);e.exports=n(125)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";var r=n(64),o=n(12),a=n(45),i=n(44),s=n(78),u=n(200),l=n(80),c=n(61),f=n(30)("iterator"),d=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,m,v,y){u(n,t,h);var g,b,E,S=function(e){if(!d&&e in w)return w[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},T=t+" Iterator",O="values"==m,C=!1,w=e.prototype,_=w[f]||w["@@iterator"]||m&&w[m],P=_||S(m),I=m?O?S("entries"):P:void 0,L="Array"==t&&w.entries||_;if(L&&(E=c(L.call(new e)))!==Object.prototype&&E.next&&(l(E,T,!0),r||"function"==typeof E[f]||i(E,f,p)),O&&_&&"values"!==_.name&&(C=!0,P=function(){return _.call(this)}),r&&!y||!d&&!C&&w[f]||i(w,f,P),s[t]=P,s[T]=p,m)if(g={values:O?P:S("values"),keys:v?P:S("keys"),entries:I},y)for(b in g)b in w||a(w,b,g[b]);else o(o.P+o.F*(d||C),t,g);return g}},function(e,t,n){var r=n(94)("keys"),o=n(71);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(26),o=n(152).set;e.exports=function(e,t,n){var a,i=t.constructor;return i!==n&&"function"==typeof i&&(a=i.prototype)!==n.prototype&&r(a)&&o&&o(e,a),e}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,n){var r,o,a,i=n(56),s=n(160),u=n(150),l=n(116),c=n(25),f=c.process,d=c.setImmediate,p=c.clearImmediate,h=c.MessageChannel,m=c.Dispatch,v=0,y={},g=function(){var e=+this;if(y.hasOwnProperty(e)){var t=y[e];delete y[e],t()}},b=function(e){g.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return y[++v]=function(){s("function"==typeof e?e:Function(e),t)},r(v),v},p=function(e){delete y[e]},"process"==n(73)(f)?r=function(e){f.nextTick(i(g,e,1))}:m&&m.now?r=function(e){m.now(i(g,e,1))}:h?(a=(o=new h).port2,o.port1.onmessage=b,r=i(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(e){c.postMessage(e+"","*")},c.addEventListener("message",b,!1)):r="onreadystatechange"in l("script")?function(e){u.appendChild(l("script")).onreadystatechange=function(){u.removeChild(this),g.call(e)}}:function(e){setTimeout(i(g,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){var r=n(26),o=n(73),a=n(30)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==o(e))}},function(e,t,n){"use strict";var r=n(135)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(65),o=n(60);e.exports=function(e){return function(t,n){var a,i,s=String(o(t)),u=r(n),l=s.length;return u<0||u>=l?e?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===l||(i=s.charCodeAt(u+1))<56320||i>57343?e?s.charAt(u):a:e?s.slice(u,u+2):i-56320+(a-55296<<10)+65536}}},function(e,t,n){"use strict";var r,o,a=n(101),i=RegExp.prototype.exec,s=String.prototype.replace,u=i,l=(r=/a/,o=/b*/g,i.call(r,"a"),i.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),c=void 0!==/()??/.exec("")[1];(l||c)&&(u=function(e){var t,n,r,o,u=this;return c&&(n=new RegExp("^"+u.source+"$(?!\\s)",a.call(u))),l&&(t=u.lastIndex),r=i.call(u,e),l&&r&&(u.lastIndex=u.global?r.index+r[0].length:t),c&&r&&r.length>1&&s.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r}),e.exports=u},function(e,t,n){var r=n(133),o=n(60);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(e))}},function(e,t,n){var r=n(30)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){for(var r,o=n(25),a=n(44),i=n(71),s=i("typed_array"),u=i("view"),l=!(!o.ArrayBuffer||!o.DataView),c=l,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=o[d[f++]])?(a(r.prototype,s,!0),a(r.prototype,u,!0)):c=!1;e.exports={ABV:l,CONSTR:c,TYPED:s,VIEW:u}},function(e,t,n){"use strict";e.exports=n(342)},function(e,t,n){"use strict";(function(e,r){var o,a=n(186);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var i=Object(a.a)(o);t.a=i}).call(this,n(171),n(333)(e))},function(e,t,n){"use strict";var r=n(140),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?i:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var o=p(n);o&&o!==h&&e(t,o,r)}var i=c(n);f&&(i=i.concat(f(n)));for(var s=u(t),m=u(n),v=0;v<i.length;++v){var y=i[v];if(!(a[y]||r&&r[y]||m&&m[y]||s&&s[y])){var g=d(n,y);try{l(t,y,g)}catch(e){}}}return t}return t}},function(e,t){(function(){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function n(e){this.index=n.unique++;var t=e||{};this.verbose=n.Settings.verbose,this.boundListener=this.statusListener.bind(this),this.maddr=null,this.keyStoreUri=n.Settings.keyStoreUri,this.keyStoreKey=n.Settings.keyStoreKey,this.streamKey=n.Settings.streamKey,this.multiStream=n.Settings.multiStream,this.nPings=0,this.time0=0,this.lastState=-1,this.lastAction=null,this.lastReason=null,this.lastSegments=0,this.maxState=0,this.nRestarts=0,this.params=n.assign({},n.Params),this.params.multicastAddress=n.Settings.maddr,this.params.receiverKeyStore=null,this.options=n.assign({},n.Options),this.onStatus=t.onStatus,this.onStateChange=t.onStateChange,this.onReady=t.onReady,this.onError=t.onError,this.onPGReady=t.onPGReady,this.onDone=t.onDone,this.setParams(t)}var r;(window.RampVersion||(window.RampVersion={}))["rampapi.js"]="$Id$ $Change$ $Revision$ $DateTime:20190611201631$",(window.RampVersion||(window.RampVersion={}))["keystore.js"]="$Id$ $Change$ $Revision$ $DateTime$",function(e){var t,n,r=window.CryptoJS=r||function(e,t){var n={},r=n.lib={},o=function(){},a=r.Base={extend:function(e){o.prototype=this;var t=new o;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},i=r.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var o=0;o<e;o++)t[r+o>>>2]|=(n[o>>>2]>>>24-o%4*8&255)<<24-(r+o)%4*8;else if(65535<n.length)for(o=0;o<e;o+=4)t[r+o>>>2]=n[o>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;r<t;r+=4)n.push(4294967296*e.random()|0);return new i.init(n,t)}}),s=n.enc={},u=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++){var o=t[r>>>2]>>>24-r%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new i.init(n,t/2)}},l=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],r=0;r<e;r++)n.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new i.init(n,t)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},f=r.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new i.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,a=this.blockSize,s=o/(4*a);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,o=e.min(4*t,o),t){for(var u=0;u<t;u+=a)this._doProcessBlock(r,u);u=r.splice(0,t),n.sigBytes-=o}return new i.init(u,o)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=f.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}});var d=n.algo={};return n}(Math);n=(t=r).lib.WordArray,t.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,i=0;4>i&&o+.75*i<n;i++)e.push(r.charAt(a>>>6*(3-i)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=e.length,r=this._map;(o=r.charAt(64))&&-1!=(o=e.indexOf(o))&&(t=o);for(var o=[],a=0,i=0;i<t;i++)if(i%4){var s=r.indexOf(e.charAt(i-1))<<i%4*2,u=r.indexOf(e.charAt(i))>>>6-i%4*2;o[a>>>2]|=(s|u)<<24-a%4*8,a++}return n.create(o,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e){function t(e,t,n,r,o,a,i){return((e=e+(t&n|~t&r)+o+i)<<a|e>>>32-a)+t}function n(e,t,n,r,o,a,i){return((e=e+(t&r|n&~r)+o+i)<<a|e>>>32-a)+t}function o(e,t,n,r,o,a,i){return((e=e+(t^n^r)+o+i)<<a|e>>>32-a)+t}function a(e,t,n,r,o,a,i){return((e=e+(n^(t|~r))+o+i)<<a|e>>>32-a)+t}for(var i=r,s=(l=i.lib).WordArray,u=l.Hasher,l=i.algo,c=[],f=0;64>f;f++)c[f]=4294967296*e.abs(e.sin(f+1))|0;l=l.MD5=u.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,r){for(var i=0;16>i;i++){var s=e[u=r+i];e[u]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}i=this._hash.words;var u=e[r+0],l=(s=e[r+1],e[r+2]),f=e[r+3],d=e[r+4],p=e[r+5],h=e[r+6],m=e[r+7],v=e[r+8],y=e[r+9],g=e[r+10],b=e[r+11],E=e[r+12],S=e[r+13],T=e[r+14],O=e[r+15],C=t(C=i[0],P=i[1],_=i[2],w=i[3],u,7,c[0]),w=t(w,C,P,_,s,12,c[1]),_=t(_,w,C,P,l,17,c[2]),P=t(P,_,w,C,f,22,c[3]);C=t(C,P,_,w,d,7,c[4]),w=t(w,C,P,_,p,12,c[5]),_=t(_,w,C,P,h,17,c[6]),P=t(P,_,w,C,m,22,c[7]),C=t(C,P,_,w,v,7,c[8]),w=t(w,C,P,_,y,12,c[9]),_=t(_,w,C,P,g,17,c[10]),P=t(P,_,w,C,b,22,c[11]),C=t(C,P,_,w,E,7,c[12]),w=t(w,C,P,_,S,12,c[13]),_=t(_,w,C,P,T,17,c[14]),C=n(C,P=t(P,_,w,C,O,22,c[15]),_,w,s,5,c[16]),w=n(w,C,P,_,h,9,c[17]),_=n(_,w,C,P,b,14,c[18]),P=n(P,_,w,C,u,20,c[19]),C=n(C,P,_,w,p,5,c[20]),w=n(w,C,P,_,g,9,c[21]),_=n(_,w,C,P,O,14,c[22]),P=n(P,_,w,C,d,20,c[23]),C=n(C,P,_,w,y,5,c[24]),w=n(w,C,P,_,T,9,c[25]),_=n(_,w,C,P,f,14,c[26]),P=n(P,_,w,C,v,20,c[27]),C=n(C,P,_,w,S,5,c[28]),w=n(w,C,P,_,l,9,c[29]),_=n(_,w,C,P,m,14,c[30]),C=o(C,P=n(P,_,w,C,E,20,c[31]),_,w,p,4,c[32]),w=o(w,C,P,_,v,11,c[33]),_=o(_,w,C,P,b,16,c[34]),P=o(P,_,w,C,T,23,c[35]),C=o(C,P,_,w,s,4,c[36]),w=o(w,C,P,_,d,11,c[37]),_=o(_,w,C,P,m,16,c[38]),P=o(P,_,w,C,g,23,c[39]),C=o(C,P,_,w,S,4,c[40]),w=o(w,C,P,_,u,11,c[41]),_=o(_,w,C,P,f,16,c[42]),P=o(P,_,w,C,h,23,c[43]),C=o(C,P,_,w,y,4,c[44]),w=o(w,C,P,_,E,11,c[45]),_=o(_,w,C,P,O,16,c[46]),C=a(C,P=o(P,_,w,C,l,23,c[47]),_,w,u,6,c[48]),w=a(w,C,P,_,m,10,c[49]),_=a(_,w,C,P,T,15,c[50]),P=a(P,_,w,C,p,21,c[51]),C=a(C,P,_,w,E,6,c[52]),w=a(w,C,P,_,f,10,c[53]),_=a(_,w,C,P,g,15,c[54]),P=a(P,_,w,C,s,21,c[55]),C=a(C,P,_,w,v,6,c[56]),w=a(w,C,P,_,O,10,c[57]),_=a(_,w,C,P,h,15,c[58]),P=a(P,_,w,C,S,21,c[59]),C=a(C,P,_,w,d,6,c[60]),w=a(w,C,P,_,b,10,c[61]),_=a(_,w,C,P,l,15,c[62]),P=a(P,_,w,C,y,21,c[63]);i[0]=i[0]+C|0,i[1]=i[1]+P|0,i[2]=i[2]+_|0,i[3]=i[3]+w|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var a=e.floor(r/4294967296);for(n[15+(o+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(o+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,r=0;4>r;r++)o=n[r],n[r]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);return t},clone:function(){var e=u.clone.call(this);return e._hash=this._hash.clone(),e}}),i.MD5=u._createHelper(l),i.HmacMD5=u._createHmacHelper(l)}(Math),function(){var e,t=r,n=(e=t.lib).Base,o=e.WordArray,a=(e=t.algo).EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=(s=this.cfg).hasher.create(),r=o.create(),a=r.words,i=s.keySize,s=s.iterations;a.length<i;){u&&n.update(u);var u=n.update(e).finalize(t);n.reset();for(var l=1;l<s;l++)u=n.finalize(u),n.reset();r.concat(u)}return r.sigBytes=4*i,r}});t.EvpKDF=function(e,t,n){return a.create(n).compute(e,t)}}(),r.lib.Cipher||function(e){var t=(h=r).lib,n=t.Base,o=t.WordArray,a=t.BufferedBlockAlgorithm,i=h.enc.Base64,s=h.algo.EvpKDF,u=t.Cipher=a.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){a.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,r){return("string"==typeof n?m:p).encrypt(e,t,n,r)},decrypt:function(t,n,r){return("string"==typeof n?m:p).decrypt(e,t,n,r)}}}});t.StreamCipher=u.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=h.mode={},c=function(e,t,n){var r=this._iv;r?this._iv=void 0:r=this._prevBlock;for(var o=0;o<n;o++)e[t+o]^=r[o]},f=(t.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();f.Encryptor=f.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize;c.call(this,e,t,r),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+r)}}),f.Decryptor=f.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,o=e.slice(t,t+r);n.decryptBlock(e,t),c.call(this,e,t,r),this._prevBlock=o}}),l=l.CBC=f,f=(h.pad={}).Pkcs7={pad:function(e,t){for(var n,r=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,a=[],i=0;i<n;i+=4)a.push(r);n=o.create(a,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=u.extend({cfg:u.cfg.extend({mode:l,padding:f}),reset:function(){u.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var d=t.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),p=(l=(h.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?o.create([1398893684,1701076831]).concat(e).concat(t):t).toString(i)},parse:function(e){var t=(e=i.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=o.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return d.create({ciphertext:e,salt:n})}},t.SerializableCipher=n.extend({cfg:n.extend({format:l}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var o=e.createEncryptor(n,r);return t=o.finalize(t),o=o.cfg,d.create({ciphertext:t,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),h=(h.kdf={}).OpenSSL={execute:function(e,t,n,r){return r||(r=o.random(8)),e=s.create({keySize:t+n}).compute(e,r),n=o.create(e.words.slice(t),4*n),e.sigBytes=4*t,d.create({key:e,iv:n,salt:r})}},m=t.PasswordBasedCipher=p.extend({cfg:p.cfg.extend({kdf:h}),encrypt:function(e,t,n,r){return n=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize),r.iv=n.iv,(e=p.encrypt.call(this,e,t,n.key,r)).mixIn(n),e},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),n=r.kdf.execute(n,e.keySize,e.ivSize,t.salt),r.iv=n.iv,p.decrypt.call(this,e,t,n.key,r)}})}(),function(){for(var e=r,t=e.lib.BlockCipher,n=e.algo,o=[],a=[],i=[],s=[],u=[],l=[],c=[],f=[],d=[],p=[],h=[],m=0;256>m;m++)h[m]=128>m?m<<1:m<<1^283;var v=0,y=0;for(m=0;256>m;m++){var g=(g=y^y<<1^y<<2^y<<3^y<<4)>>>8^255&g^99;o[v]=g,a[g]=v;var b=h[v],E=h[b],S=h[E],T=257*h[g]^16843008*g;i[v]=T<<24|T>>>8,s[v]=T<<16|T>>>16,u[v]=T<<8|T>>>24,l[v]=T,T=16843009*S^65537*E^257*b^16843008*v,c[g]=T<<24|T>>>8,f[g]=T<<16|T>>>16,d[g]=T<<8|T>>>24,p[g]=T,v?(v=b^h[h[h[S^b]]],y^=h[h[y]]):v=y=1}var O=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),r=this._keySchedule=[],a=0;a<n;a++)if(a<t)r[a]=e[a];else{var i=r[a-1];a%t?6<t&&4==a%t&&(i=o[i>>>24]<<24|o[i>>>16&255]<<16|o[i>>>8&255]<<8|o[255&i]):(i=o[(i=i<<8|i>>>24)>>>24]<<24|o[i>>>16&255]<<16|o[i>>>8&255]<<8|o[255&i],i^=O[a/t|0]<<24),r[a]=r[a-t]^i}for(e=this._invKeySchedule=[],t=0;t<n;t++)a=n-t,i=t%4?r[a]:r[a-4],e[t]=4>t||4>=a?i:c[o[i>>>24]]^f[o[i>>>16&255]]^d[o[i>>>8&255]]^p[o[255&i]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,i,s,u,l,o)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,c,f,d,p,a),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,o,a,i,s){for(var u=this._nRounds,l=e[t]^n[0],c=e[t+1]^n[1],f=e[t+2]^n[2],d=e[t+3]^n[3],p=4,h=1;h<u;h++){var m=r[l>>>24]^o[c>>>16&255]^a[f>>>8&255]^i[255&d]^n[p++],v=r[c>>>24]^o[f>>>16&255]^a[d>>>8&255]^i[255&l]^n[p++],y=r[f>>>24]^o[d>>>16&255]^a[l>>>8&255]^i[255&c]^n[p++];d=r[d>>>24]^o[l>>>16&255]^a[c>>>8&255]^i[255&f]^n[p++],l=m,c=v,f=y}m=(s[l>>>24]<<24|s[c>>>16&255]<<16|s[f>>>8&255]<<8|s[255&d])^n[p++],v=(s[c>>>24]<<24|s[f>>>16&255]<<16|s[d>>>8&255]<<8|s[255&l])^n[p++],y=(s[f>>>24]<<24|s[d>>>16&255]<<16|s[l>>>8&255]<<8|s[255&c])^n[p++],d=(s[d>>>24]<<24|s[l>>>16&255]<<16|s[c>>>8&255]<<8|s[255&f])^n[p++],e[t]=m,e[t+1]=v,e[t+2]=y,e[t+3]=d},keySize:8});e.AES=t._createHelper(n)}();var o=e.KeyStoreObj;o||((o=e.KeyStoreObj=function(e,t){this.setUriKey(e,t);this.inlineKeyStore='\x3c!-- Remember to update keystore.aes.b64!! --\x3e\r\n<param name="receiverKeyStore1" value="MIIKbgIBAzCCCigGCSqGSIb3DQEHAaCCChkEggoVMIIKETCCBXYGCSqGSIb3DQEHAaCCBWcEggVjMIIFXzCCBVsGCyqGSIb3DQEMCgECoIIE+jCCBPYwKAYKKoZIhvcNAQwBAzAaBBQDOpLRdrTX171DUrMFAAl" />\r\n<param name="receiverKeyStore2" value="XwcEk0AICBAAEggTI34wIxzZZA9JtzNdAoB69VbEfrSzLtYsmwMY5LX7HIW1JbrD6KbZT7tXZBwm6ngmkzaxCx8rRFv9308I5TLxRq5IXQiFV4zI1AXhAjDuVhauXV9M1vnytAgxgG/QKNMkCX4Bn3ZwkACzSjp" />\r\n<param name="receiverKeyStore3" value="auWrepxtfTfMrkhplHoSDEW92Eu/WGlQh1Rrfs+i7q8JcP/vNCRX2VL62Cf2arOvs0f3pD/AefMF94lKKvvQhEwaTRKKNJUlAjTqgidr7vr2eX36VvLljQf/3by81akD9T+NUkLYomuBhz40p+UgZV0mGZS5WkC" />\r\n<param name="receiverKeyStore4" value="uYwuidmxmldisddt5y4VM9zcQHkRQ4hC8BzIl2ZWpOs9GNk5xBbN18M1XtviFqQJgS11Qbq/tCWyRlzuEu/SdDk4Z4tU6RLfw2uq78SR3Ym44Gc/8yQHbymR+ZV8Qut19KuuVzy90Xy8tFV9LBPgwthz5ArnQMs" />\r\n<param name="receiverKeyStore5" value="cEGcLrgvcxamv9g7RfwPbqACIYxmkJmNXMZcLExvr7c5XCGeDHXTS47m3OgDNcRg3Y22AfqfVhJ/Dp+4MU2W3JV3YYAWggVkM0vqSP1mkU7eEdH6/W47Mspe4ygQxcfFcGmYuHpTvtDjQC7tvzl5C6yS2mENx6O" />\r\n<param name="receiverKeyStore6" value="xjbfqDSPO5RIJa+5jnr+rQu/ehTMM03X6dcWOKHyMhC3MpJhvjT9fiPMv1cpWDjf6z2HrhCP5K88Z6ZnDgGpx9JC91vYksC0Tx6a7CvyWkEv30hebRonGiZ0uVBDt7sRSEmjGdtYTDK1G9Cvf/mJXe5hja2qSHV" />\r\n<param name="receiverKeyStore7" value="J+5BrYTJ+kL1NQf2bKajN15Pxzy7GB9sHxSGrMVVqD8AHfOKl+WKyudi88I4uyxcEG9S5GIc+quopogOMIDM6VoZ71oRzyv8JMaAnufiD0tS1oDIjJ5zBW2JwRpG5YABPgDalVxQxywnHkp+VrviS3rfWlPUtF6" />\r\n<param name="receiverKeyStore8" value="c2lCrrNY6MdqQxH7LfDPZulljW4I85XsIV3b6eMvBDOMnadAeteNiRmMZFHeSM2fLXVwdlNBw57jQpb9ELKIm4TaM1J5jiUSql8qIbl2WbWp+m7RnMmPYXMrQ23eszw14pz6HIDQb4VWmrfzNA6jEW+F1NHgE2U" />\r\n<param name="receiverKeyStore9" value="47AYaG3XQPD3vzxzNhepMvR+ScqduU/aDnd1MPlLz8nXx8oinLnZlnTqNrrlOr/zu5KAmSsepAPIpCzZcY/ou8j3DvKDx11GaSH84E5BzLsoXoyAIgDtOrEc9cDY9SVqPP5ByDVWJZ6ZP+GuRZGFJAmdWegb/ww" />\r\n<param name="receiverKeyStore10" value="CTn6a4y5IIUehfppg0+/9rKf8Bc+WGPMTrxlEeM+Lr/KXkPWKrFrQLOIeqNsKeY+hoG568knDpDW0jAxSJ5kE/xPYTe7O3JRWnjvdW22vj6iVaLASv7SHFOwcfsyX9hMr7GftpLoaU8Jbf2YrFXljInGGgUsd+h" />\r\n<param name="receiverKeyStore11" value="bXMB6nc2HrXbm3wumsbNhhvl3xCevf9tvsp/Ri1FtRf442PJmtP3hKRzgYfScjxGoK37mdIiMvJwrCfJtUEi7s31yzSkfWNia/hN0Gb9wlHD0lSd8exoWJBIa8au05ZMIE2gRrJo2I66nFdkbzcNWSEphxx4hNL" />\r\n<param name="receiverKeyStore12" value="u3GCUcH6dqRxYxEFg9RZaJejuJaJsqTzOkIrUvd+fC7l9uo+bjqms4FafIoMU4wKQYJKoZIhvcNAQkUMRweGgBrAGUAeQAtAHIAZQBjAGUAaQB2AGUAcgAxMCEGCSqGSIb3DQEJFTEUBBJUaW1lIDE0NTYyNTUx" />\r\n<param name="receiverKeyStore13" value="NDk1NTYwggSTBgkqhkiG9w0BBwagggSEMIIEgAIBADCCBHkGCSqGSIb3DQEHATAoBgoqhkiG9w0BDAEGMBoEFPOEz7CC8XxoEj1rbZ2srMshjoj8AgIEAICCBEAsRu4btn+yT985zQ3zeJmOYJUePjMHYo/UgdU" />\r\n<param name="receiverKeyStore14" value="kvbJ5zDOP6yJW+lGolpW2zFIAG7keVodJ7R+oh7GFAcZmzz4ioiD8wDxB1rr2aGfszgfY2EwAdRdqJXp1Ew8u8Wi33vPNyPNv1H+0GPER5jZU0vKS0cL317oFS2G6PNdqfnkdvanJP1UmKCMOkO3jf44OHu0dgA" />\r\n<param name="receiverKeyStore15" value="OVLSMW2NhcVi/3Yi9QHE8oytc6k2ZYPbCKzIZ2NUranGnH47DzNQwH/7aRbMx8fXpZW6/KYO9iVeTyGPnTzZhT/mtVgKYtOcdDAqTeMmL1+DWor7ON4WneGqzFQ3N7LL0ZtuMEgQdHoGvSZAYm6Z9deWRj7+fH8" />\r\n<param name="receiverKeyStore16" value="ln/Grd6DTHj2x8TggS2vtyTSD46xu/rE8avzUUG9EFC1kKQZMgi30sEW93G5bOVxZRLuivs/FSfVCfvCJe20UayECpU2OqZ2mIZcJM7ai7O4o23/FltjeK4hZpjQPrzQpDlPymFtCdFNvBDXgHFF/nMcB4j63Fx" />\r\n<param name="receiverKeyStore17" value="L2dC+F5KC8GizSPF8otdLM9fl1ifA2JEiA+uxxCZTKib27VmuvOEs68CKkNRIIovR8C9mNFKy5ezhutGl8iXngkpRO7oD9d7Xc0IF9T4YvAd4RkYPawGRMZ8HIEVH61pXw0G6Xqn2smVZxM3k0gsD1ssqOqCDUx" />\r\n<param name="receiverKeyStore18" value="rSB94GMnE2EieE6cVyFFz4swt6FFBeGgyFaIiWkLkcFJCmFQZoRzkCO+bPaAxall4uuJGgRsh+rNq1d3e7MVTuT1xSFTq4N837v1jeMLGWA7N75/Lnl7CosyuMZF3i+yN4aPMEOCeS83Ki561oG7yVvbxEYgK7C" />\r\n<param name="receiverKeyStore19" value="Kl0HOsr44DYNZ3hvzlwh8WUb+u7xA7TQ/yAQ5UGjKChNiyyo/OBHpxN91RlVDYrUj+5Kq7KNnKzmLkwlh7F46NVDWbHDqHlBfJKUILbthd3O/LpmazRQVbX4/Y5o9KY28azVG2OZeqr5swTn5nWMbFQlUMuS3vS" />\r\n<param name="receiverKeyStore20" value="MCOANPqAK4cglnIHiX6SpEcRqMR8+RKvkgK3TEoN45KOh98+eK/2rSRTH5GWz9F0/C3VbPBXf/Db5uHxBAfOihnodp78DXFahIvYUf1pYaUuUaw5g0KE3RUBqVSU4fkG6KWcO8+bmBZkRc29AhmAj3iIL7I0l98" />\r\n<param name="receiverKeyStore21" value="XmHcskpPCE32nQ7A0kpNZ1G+ogaxbLheQFF5FSMrGkyCiWJta+xcrhRQMJWndhesrH0XA5HVSXa80vEU4ZKaTUt2njINsvx7xXotBq/Z3JkPpP0c0oM0x2vHkSXGKFcMWI/CIt28jZZI7Gum0g2pRGHJK2qsNCi" />\r\n<param name="receiverKeyStore22" value="k66nq/Mj6ThwLRJwIYfSAfnM9En57FRTXGm9xna2mczjrSiZn18DAJ6tgLVf5Cap0LOM9V1z+5tjE0AM+Eb01ZHemqpgBowWU0pP23kjDjQJuoEyHQHwrBkEjYCgDpd4XkeXcQ6ZbFF6ULDA9MCEwCQYFKw4DAh" />\r\n<param name="receiverKeyStore23" value="oFAAQU5e0Kc96L5kZW9UPpRMKhJtuX0RYEFIzuNUevzDRHBl9LRnGaBbQUhKNRAgIEAA__" />\r\n',this.inlineResponse="+NSvU1GrHu/Qj8t1EMlxef7Jw/YQY52IcR3p3vadG0D4t8/aRZE1jjpf0yOdbbmO/daKcDAyErfNkR5rY7VSqa8O7k5KsroE6mxgK5eDrdf7VdNSlTwepXCf8ItzwryDxu3oDovbrq3TfoYBdBiQxy1WcGq0dvQjN6CHBgPdv7872lE3jqGQ3I82ATIMA36rEyalkkhJjz65RgNFbGjJdmekCOGJ85fbxRVcf6M0uKRr9L8Hd+Y/0YoO7Y1mDSJVFoo76/vqwxBgX3uy4VNn1hvPGNZIibJVMtLKwnHlb767oU/6as0nmms4XGKrsM8bRZ64vgnKgcHpPTSadbeUvw8XfZCL+nGdCl5KOvswmaqwZUKdFV/yeYGzOVgvAYDDs14ZPI8Pb6ujk1GOTU1B5HkwEjUyxOVlxzggQz6o7MGK7+ldF1nbHkIDP8H68j9MdOISNdFWZDAj7cBe4wB6UOttKcNpAoejuqszJe+fQzWkBzojU5K+LTvfY+ynHep/MqTXtKooJdB81XjQYd1BXew8yXSPa3gG9Chdgz9pDdvEnhhShYqpv9qcOSNZudDRcp9qbHRJ3ft1Y2RgWbx/ofYfWNyZl0AONMuV+SOi32LcgKLfACmFkQg5afa91aBtlAls6ILBdnc6ufJoaqj46R/g07pzqwemF9PxYCFc5FOPah5Db6YhvQv1k5tNsnoC4udhgIwfa26IVn2LWkLcDpJNdP/lM6lwWT7a7E/e3JwduXI+lOUlwYyokAFXVmDJ0EnXNzSKixIDkTU4hu+TofGiTYLebIJhjxFymYmyq2LBxUm8pkVm63ccvNn+njSt2L763wX+LGqEpikc1NXGVPYNgEU/CxvrNii9tI4QteLcrzyFsQUZsqybSix8tMyTZ+TGWSjt1caZZNToHgfOgL7/1saB2o/V/e+tZTIwDw7K3l1TGwJVDBFW3+wDuh6uy5JOm3CDa+vo6IqYYW08y8bTfntaBUpGLJmwRUvAp8uGEsokVNBYvT/J8mF1Bsmwz8p8l4wytnTEz59ZarTShk7MAwucbUBq6zVd26NTVRVj5uO+NXsfEQu065F+mi5z3CNS8Elt3gipEr3HmlPT2R4+G82g3PF06HUNC1dy46WbUfj0yAFNbyJc9pB73jhhTt4JjObJGdoUKFeBqDqFjDh+YbVvint9Vx4YdMGc6CvMI0nEft7THwR4j8A16oY/fJo9x435vJJqxBuiONwfC3xwOPEGGBBFt27/emS/9MFZBWmBfHRCDoLGV+CEvwSAlRF+BBd83zbI130eVcEg/2Q7Xg6ZB0QuZzBRjuDIp8A9le6cIOJ8VKUH601q+DLl0/U6VFYMI5qm5wx74WNTTiSlxLo4qyvOnec36b7nuq6EkT7bgO0oCiKrOiDlKHLKB425frQDc5HbOFwjhufDEMqHZ3infAsN5gSBbaEZ8nDeGzJrorlUPm1UN1/CxWyVsXrsYPlWzVhFBmf/d81jKwvcinbwKrEU1ARJ6kpKsH0Ayrl5VtxkGX0A8bT9tN8Fpm+8OEhBgZM3XCevK32iicj/QSVGML6pjhyFovf5trExLBo3d4M8hJx8KZfpP1IR/FE6JPfh0NOwM0eSJkjNrlIPU1+JmEX8JiqN944BAO/NFoSNSWM3ShzW9j4h8P4PZW3MZX+GBnZOMBwHGsjAUN+WPEHTQbDoudhZaYm14uoBgsDqaFU+ATplTy2cHI+S66mwx9WeQigwwYwW47+nTwCmIHtaduo4jRGiRiIABHSMTH3uhYKsGxdJozAQNWgNSS9fWW2n9zDpNqGLh7u3N21UoRxclrivxHNDA0DrBey/aLlib9GqE/1X0TbngrnKxFIwVtZ3eurqyUnA3FwDlwvx+5RfDITsalVMIST20chrKx4xiFMP07En8ZOOBRoYbOwkDejZNBo0mB3RSssmb2FoyUb4xyfgpzf56KiFnLbCA9jBmGVvJZ6dcIsT2TDY3kBcDfKmsmNYgfRXRQRsagVOqgCUZCyLXLg1ibv2Odd8+pzW2clDGvDfMyhmog81TQpnTMpaKb7onl2AoJOFc31kcNyDh1xVeac0Gg6oWCk3HYYCf9Pk+j4qBw78Zub8T9zKiq3ONJ3AH8YuvCi9LwI2/Bdmxhp57z45p0xyog0wMErr7XRJsXT8VpU2xIswynTe9eiacSd/NTvSENttNGxS9nTe6ZF85KCcF++ucnzWlRME1LhPwZPN1OTwlp/Fcb5VUEznQRw6QlOZqDbZFPHLejxCXqojpRVQzQVsYMQQA000n2ENQ4XwWanphmIU6khpNPRJ12Kbjyyikh/xt6ZXLLZZhHexXyD4w4FCRXJjl3gM9fenTvjVxC2MksjrPjzcLcLXfYlzcfQfZF8tNsw4YQQUyOWTYMUvU6vnPvr3ODNLqqzFrj9GeZrvuumm78Z+UfLmeo9R6IvAbIYEJX21XUpB6KWWtOGKtoqgTWgXUFLPA0jbm9esRWrrre7TwvUZrz30pvfzzNTF5hU79Re0MuEN9LPcZsAOEeC2ZWbdABZg3oY3MRV5gnrapCsIYIVBPj/h4/+y0bR1KKoELGm0Hu+Un0C4UJtt4RXvjKw4eGbPjxBAZy2/CsBObPQDL/TH5eR9DJx/Jc2pEBZs5oz3VLjz+6v6HrHhXgGt5Emca35iGv7yOr1PFYMFLytnlusrxjmJZiR5QLhJOUp++qiVJuHEBAuhlXqA7SczfDRc7FLZNmBJ6rA3KrJ+jyIVGzSPPpaI/M4eUV8hZ0ESqz03y7WdGlyKWeoiXtecpqOMmA3DBP59fJIcz5W0rGUHp5afOYJolNeq5H8p6tXo/a2HGDaqxmTkleCaFgIVC0JTiMuxv9NNZQn59L8AHsI7iINjL7tfwuU6Rbp2hYTwbr9EP5Ddxe47EwLfVI2JJdaZU4Qii4xyO6DEGPUlI2MMdGFEHB7uvVJZPjGVIgZ0DQsLi9ddPTxTXDy5LceGDHDSN8FtSINcXol0FZvs+3ljTGt3wZpC+zJbVRvh3qYCD9xaocRQ0GO/iAZZh8mme0nyTGK2R6FSXMkL0uDOz7TpCXY9Zx12+Lz/7aDkFLY5PeRkM5UtxEPWa3N5vUuwBaxGJCam61TKqe1FdCgFNlXwR/LEFzTXva+7ep7EWEEaHmgdKxsflwSUOAJyTga0b3xC/ZpPDBo+x/fjUEaqEbAJubKIb7z0PjeXe1z1J7hCAMYVyfasFizV6IyWtoiaH6OHg8lhR8AqEO3sayAnndwqsSdifX3mO3ydvMj0qW1kTIEaeXU/DuCfbTxqjPDcqBivnUeKHCILczXZKwKZlwhjskCSgNF2xXUKszh0IJuKJgvUXrv4IT0J6HAcN3/zMbkN68Jreb1y9qF8JoQ2jnSIzVeOfPUXnPum95TcE8DIz2scDaCNr4Rv9C5g4hyG4LkDRl/ZdQVtPGnF6XCva/9Zvv0wxwZAPkUvO/Wx5a2K02e4sF7VHHQkUe3H/M1+g/68vlGIBagIvxKpb13gSYqA+w982YBt1LqWVQcp5fESAxZE7kgp8aY0IQr1+76LiTVA8jxgj6PwDoAAIUypactfbI7PJU7WB55h/I5cCzju54S0Z9Fr1g71keOyeEQfxklsM1zye+ybJMQFL4h+nXkstP6W2v3vRTyd/PigvMzdRO8M3iztjJY1f0crRPrfttpgbcRb+sW4aMv+c6Q3fB20OUR7Xc2V4cc2ChG6zsKXHe0ZDSM2xKzlW08G5vib6Wyymo+UWA3NP60SniNF4NAdsgdeURBLDSz5YaK+/r10mypsJjlNgu51ejeRqim5dx0fC0bB0LM7ZLeGkL2jgs3vmmprTT3/0ZbpsZWe5ogtFF1vKpEnDeuhbP9L0WvEXsA1zvgvON6BUnkivpR0mr1CJ5VnrY3b2TSTx/CXiFXHYNJisEUY+L5xF7feEagj9f7FWlGoK7oQP437+xlLXhVjAvbwa486Io+mVtsz5Ife2Okq2hDrg/jLlgcAHqH4J96AJCnbSiRI4+W3AhSDruc+JC5O9PYc2fsYR1nrFmewxIcVA6PbmGoTsFf7wWJ4HC29DYKi6MZfsu8wmHH4xsdfkidpzZIZH2i0hM1feBCdzKA0Gt3s0EtVMs17mrxllfVmd82xXxo3Gd8m23pfCjexyFTB4CJoNfPjmKkRCFlf/teuPVnsoqK305JZFBogGZcstGtch4rQZtkLH9OGtpCBFGJravQg2czho2ej7HrbjYQ3uNs7g+sZK4vkdxjd+cgsMeFrrZD+iNCs/H52gi9kJr56wMQoMk73NJxrwaeZeTaSciCmShN3RSLM5jGOPZGf2y8Fue3YeLY3MqWFxm03FAyckqYEp83iRpoHhHrmlyeCK0y7hu7mH44R/HbBTpBlEE2vbnfcEBJvKt7Y4Ml+1b1ooMmfHyrym2XULhTYkC5OKutD8gkeqiPf6dldqg+nZYEnbIHXmwS5kyoLNFqc1obBrJwVNU+oVfSIwUGAYLaX3Qc/Pog4v1yzIc8eGccNQSFv046Ws1qm+q0T0xywP29NMNlfUr6aO7EeRqXRtvW1VQipL4VOB1PWpjJ63lIBjq0DTSuHmJBjY5W/iICAnYDv18z5WvxKYFk5hNX8qp0yI4CRsi15LO1H+cgIvBYYcxZl1LwOGYAR5VxQew2u9INMmkniQjnIc0/gAZLm391Nao6ml4aLUCyGMZht1RTD9RAzKw7s4u2NoGyltgzltJbZP/l6MToD/uNVWik+gAF/S+QFr22Hk+xWJGVAC9LHTnmo138fr56ISWAabe5HkFqIInfMtb9VcqXXm8/IeHs6iSxQwR+FD4QD8TICV7SDAqaXESofwE9JxIozcXo1gc9jmuAcw3orYjwgFigpHzyoLsm9sGNn6bTXQkBrqYkVCGbw1Q07KEYLIeGmKIJk0x70GzYz8pC2xLK1Vn3Cpe1sNsGATuxJMfvLJoqqjrWBg7PE6SeJkbA43N0D+1iTOgiAkQYCCSl/p0QtXtQ7bhe2nRFTAzCI4+H4F8It8JAOK2gcSHyZjGV4LSJmQ0hx6LvB29VTC6RgG1MeGI8OecbxA5xaDx4aa3ygsMvFZjLQK9eohSasLCvKVVfXMBVMbSSVAlCVvq/p8wwi6Ezxb6LEppuRk64j81uKLZaeMJh0IKPmMk/K/4BOGxIjRmUfzVhNJ+Yxi7fogWGO0UH5tei2OTDB75gwijgHxc3TmnUPnDdbm/p3ZCruQNeJt1bfCGrBaHpptwzrInymKmfWZ8Nys7ewhtrB9UiCJZu0jIqb4bPFRxdr7bx4Y4wP+68FqfZD3cEUVkuPksTkhjxymdcrpIBxyZmYyuH3R9xwAV7pXJKLnI332AQN7csueP0c6WxeoDs7m2qGRdhMSObSbh7FgGUF53GwIoai3so5H5TC6jvIYZEEN0CQVpG37BOx79sxvCYzqqF4VV4mAYwSdwq+FUwkS7uA0TihqoU+At13s/oJOsegCGPLuewJLBNwZV4vX5lqa64ND3WbXFr4Wv9hCST0NLb9lRvv3Z2meFlP17Qv0UJSD2bTmeqRhYQodSTaoBLRDRfJ7VYgosIpME68/bOO36t33r9wlv7OLNLY3hZzJfikAWW6LGjBwVgj+rF/FcC0jhqdRGGD5zJ/ipXrl7ZXsosDxinv/tO6/XB2Tjp31T/jMtjhyn97/+n9QkHgZgG/O5MtSHjuI9UaFnAO5rIhUuCzaWQTTNDwk0dlXJRf/ftrBiavnevH4h5TM1mt+rtFsvmkEVp4t8yYggT01WWEHswqftt367OdSvwhjzJKsQNd5fdbw+QHugvYQfzFSfLgYGUUVgj1fh6QIOa02mj7saKbDlT0SIa1mvPxaFqnZ2Q5ktspoVdfSMErlegHACSmfKAG1sgK9YWmqrIjR+qe6mCOldW+X4+kC0J6TG8/HD675cS3fZt3mQoFOZaQGNxxDgDUc5ZoaK6LEmEpRqCvM09lw8/IAq/TL4flDS8Ra0tW2v89BmoWnrNz+iySpjzZXgCGHT3C1CDoqIHni980VYwpmlRTCzwxNJ89bVF6h83tk+KwZp9GoMB8ZS6YHYpIeT9U/qMQdQcnTw9+rCQIjzDf8aNc1cAHFJ+B1qklcpP3KGJMU/t4nE0HmHiiE2JqyFoRjoRWFL5nNPJa2pvsKDCRjDfEbHp6gJQXaLdXURUX063ExN/i5MHXxA6aNHNQ3StlUg3btfKwLg==",this.keyStore=null,this.onSuccess=null,this.onFailure=null,this.reason=0,this.log=null}).prototype={setUriKey:function(e,t){this.URI="string"==typeof e?e:"//"+window.location.host+window.location.pathname.replace(/\/[^\/]*$/,"/")+"keystore.aes.b64.txt",this.key="string"==typeof t&&t&&"default"!=t?t:"DEADBEEFCAFEBABEDEADBEEFCAFEBABE"},load:function(e,t,n){var r,o;return this.log=n,this.onSuccess=e,this.onFailure=t,this.URI&&"default"!=this.URI&&"inline"!=this.URI?((r=new XMLHttpRequest).addEventListener("readystatechange",this.listener.bind(this),!1),r.open("GET",this.URI,!0),r.url=this.URI,r.send(null)):o=this.handler(this.inlineResponse),o},listener:function(e){var t=e.target;return 4==t.readyState&&(200==t.status?this.handler(t.response):this.errorListener(t,e)),!1},handler:function(e){try{var t=r.enc.Hex.parse(this.key),n=r.enc.Hex.parse("00000000000000000000000000000000"),o=r.enc.Base64.parse(e.replace(/[\r\n]/g,"")),a=r.AES.decrypt({ciphertext:o,salt:""},t,{iv:n});this.keyStore=String(a.toString(r.enc.Utf8))}catch(e){this.keyStore=""}return this.keyStore.indexOf("receiverKeyStore1")>=0?(this.reason=0,this.log&&this.log("keyStore loaded and valid"),this.onSuccess&&this.onSuccess(this)):(this.reason=2,this.log&&this.log("keyStore loaded but was invalid"),this.onFailure&&this.onFailure(this)),!this.reason},errorListener:function(e,t){this.reason=1,this.status=e.status,this.log&&this.log("keyStore: "+e.url+" "+(0==e.status?"connection refused":e.statusText)),this.onFailure&&this.onFailure(this)}})}(this),(window.RampVersion||(window.RampVersion={}))["rcvr.js"]="$Id$ $Change$ $Revision$ $DateTime$",n.unique=0,n.useProtocol="https:"==location.protocol?"https:":"http:",n.Callbacks={onStatus:null,onStateChange:null,onReady:null,onError:null,onPGReady:null,onDone:null},n.Settings={protocol:n.useProtocol,host:"https:"==n.useProtocol?"ramp-demo.multicast-receiver-altitudecdn.net":"127.0.0.1",port:"https:"==n.useProtocol?12350:12345,verbose:!1,maddr:"-1",keyStoreUri:"default",keyStoreKey:"default",streamKey:"",multiStream:!1},n.Params={multicastAddress:"0",senderSubjectDNSuffix:"OU=Ramp Multicast Engine Portal,O=Ramp Holdings Inc,L=Boston,ST=MA,C=US",diagnosticsServer:"use_sender:18000",diagnosticsIntervalMs:15e3,bufferMs:1e3,nativeMode:!1,dvrDurationMs:9e5,dontOutputDiscontinuitySequence:!1,resetDvrOnStreamSwap:!0,maintainTimeline:!1},n.Options={minSegments:3,ignoreReady:!1,monitorStatus:!1,pingTimeMs:1e3,nSegmentPings:30,maxSegmentTimeMs:0,maxTime0Ms:5e3,maxTime1Ms:15e3,nStartPings:1,maxStartTimeMs:0,nRunPings:2,maxRunTimeMs:0,nFailPings:5,maxFailTimeMs:0,nInitPings:2,maxInitTimeMs:0,restartTries:1,timeoutMs:0},n.assign=function(){var e,t,n=arguments[0];for(e=1;e<arguments.length;e++)for(t in arguments[e])n[t]=arguments[e][t];return n},n.prototype={setParams:function(t,r){var o,a=t||{},i=null==this.params.receiverKeyStore;(i||void 0!==a.verbose&&a.verbose!==this.verbose)&&("function"==typeof a.verbose?(this.verbose=!0,this.logger=a.verbose):(this.verbose=!!a.verbose,this.logger=console.log.bind(console))),(i||void 0!==a.protocol&&a.protocol!=this.protocol||void 0!==a.host&&a.host!==this.host||void 0!==a.port&&a.port!==this.port)&&(a.protocol?this.protocol=a.protocol:void 0===a.protocol&&this.protocol||(this.protocol=n.Settings.protocol),a.host?this.host=a.host:void 0===a.host&&this.host||(this.host=n.Settings.host),a.port?this.port=a.port:void 0===a.port&&this.port||(this.port=n.Settings.port),this.url=(this.host.match(/^(?:https?):\/\//)?"":this.protocol+"//")+this.host+":"+this.port),(i||"streamKey"in a&&a.streamKey!==this.streamKey)&&(this.streamKey=a.streamKey,r=!i),(i||"multiStream"in a&&a.multiStream!==this.multiStream)&&(this.multiStream=a.multiStream,r=!i);var s=[0,0,0];for(o in a)if(o in n.Callbacks)a[o]!==this[o]&&(this[o]="function"==typeof a[o]?a[o]:n.Callbacks[o],s[2]++);else if(o in n.Params){if(a[o]!==this.params[o])switch(e(n.Params[o])){case"boolean":this.params[o]=null!=a[o]?!!a[o]:n.Params[o],s[0]++;break;case"number":this.params[o]="number"==typeof a[o]?a[o]:n.Params[o],s[0]++;break;case"string":this.params[o]=a[o]||n.Params[o],s[0]++}}else if(o in n.Options){if(a[o]!==this.options[o])switch(e(n.Options[o])){case"boolean":this.options[o]=null!=a[o]?!!a[o]:n.Options[o],"monitorStatus"!=o||i||this.statusUpdate(this.options[o]),s[1]++;break;case"number":this.options[o]="number"==typeof a[o]?a[o]:n.Options[o],s[1]++;break;case"string":this.options[o]=a[o]||n.Options[o],s[1]++}}else;if(null==this.maddr||"maddr"in a||"multicastAddress"in a){var u=("number"==typeof a.maddr?a.maddr+"":a.maddr)||("number"==typeof a.multicastAddress?a.multicastAddress+"":a.multicastAddress)||n.Settings.maddr;u!=this.maddr&&(null!=this.maddr&&(r=!0),this.setMaddr(u))}if(i||"keyStoreUri"in a&&a.keyStoreUri!=this.keyStoreUri||"keyStoreKey"in a&&a.keyStoreKey!=this.keyStoreKey){this.setKeyStore(a.keyStoreUri||n.Settings.keyStoreUri,a.keyStoreKey||n.Settings.keyStoreKey);r=!1}else s[0]>0&&(r=!0);return r&&this.start(!0),!!r},setMaddr:function(e){this.maddr=this.params.multicastAddress="",this.maxState=0,this.nPings=0,"0"==e||0===e?(this.maddrStr="",this.maddr="0"):"string"!=typeof e||"-1"==e?this.maddr=this.maddrStr="":(this.maddrStr="maddr="+e+"&",this.maddr=this.params.multicastAddress=e)},setKeyStore:function(e,t){return this.keyStore?this.keyStore.setUriKey(e,t):this.keyStore=new window.KeyStoreObj(e,t),this.keyStore.load(this.keyStoreSuccess.bind(this),this.keyStoreError.bind(this),this.verbose&&this.logger)},keyStoreSuccess:function(e){this.params.receiverKeyStore=e.keyStore,this.start()},keyStoreError:function(){this.verbose&&this.logger("Receiver["+this.index+"]: failed to load key store");var e={state:0,action:"fail",reason:"keystore"};this.obj=e,this.onStateChange&&this.onStateChange(this,e),this.onError&&this.onError(this,e),this.onDone&&this.onDone(this,e)},getAddressEntry:function(e){if(this.maddrStr){var t,n=e&&e.addresses||{};for(t in n)if(t)break;return n[t]}},getStatus:function(e,t,n,r){var o="string"==typeof r?r?"maddr="+r+"&":"":this.maddrStr,a=new XMLHttpRequest;return a.addEventListener("load",this.boundListener,!1),a.addEventListener("error",this.boundListener,!1),a.addEventListener("abort",this.boundListener,!1),a.addEventListener("timeout",this.boundListener,!1),a.open("get",this.url+"/rme/status?"+o+"_="+Date.now(),!0),a.timeout=this.options.timeoutMs,a.data={onDone:e,onSuccess:t,onFailure:n},a.send(null),!1},getProgramGuide:function(e){var t=new XMLHttpRequest;return t.addEventListener("load",this.boundListener,!1),t.addEventListener("error",this.boundListener,!1),t.addEventListener("abort",this.boundListener,!1),t.addEventListener("timeout",this.boundListener,!1),t.open("get",this.url+"/rme/programGuide?_="+Date.now(),!0),t.timeout=this.options.timeoutMs,t.data={onDone:e},t.send(null),!1},programGuideListener:function(e,t){this.programGuide=t,window.location.search.indexOf("testPG")>0&&(t&&t.programs?t.programs=n.testProgramGuide.programs.concat(t.programs):this.programGuide=t=n.testProgramGuide);var r={state:5,action:"guide",reason:"load"==e?"success":"fail",type:e,resp:t};r.reason=t?t.programs?t.programs.length?"success":"empty":"config":"receiver",this.obj=r,this.onStateChange&&this.onStateChange(this,r),this.lastState=r.state,this.lastAction=r.action,this.lastReason=r.reason,this.onPGReady&&this.onPGReady(this,r),this.streamKey&&"success"==r.reason?this.pgh=new n.ProgramGuideHandler(this,0):("config"!=r.reason&&"receiver"!=r.reason||this.onError&&this.onError(this,r),this.onDone&&this.onDone(this,r))},programGuideFinal:function(e){if(delete this.pgh,e)this.setMaddr(e),this.start(!0);else{var t={state:5,action:"guide",reason:"program"};this.onError&&this.onError(this,t),this.onDone&&this.onDone(this,t)}},sendStart:function(e){this.lastState=2;var t=new XMLHttpRequest;t.addEventListener("load",this.boundListener,!1),t.addEventListener("error",this.boundListener,!1),t.addEventListener("abort",this.boundListener,!1),t.addEventListener("timeout",this.boundListener,!1),t.open("post",this.url+"/rme/start",!0),t.timeout=this.options.timeoutMs,t.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),t.data={wasStart:!0,onDone:e};var n,r={};for(n in this.params)r[n]=this.params[n],"number"==typeof r[n]&&(r[n]+="");return t.send(JSON.stringify(r)),!1},statusListener:function(e){var t,n=e.target,r=n.data;if("load"==e.type){try{t=JSON.parse(n.response)}catch(e){}t?r.onSuccess&&r.onSuccess(e.type,t):r.onFailure&&r.onFailure(e.type,n.response)}else r.onFailure&&r.onFailure(e.type,n.response);return r.onDone&&r.onDone(e.type,t||n.response),!1},startListener:function(e,t){this.getStatus(this.pingListener.bind(this))},start:function(e){if(this.pingTimer&&(clearTimeout(this.pingTimer),this.pingTimer=null),this.maddr)e&&this.params.multicastAddress&&"0"!=this.params.multicastAddress?this.sendStart(this.startListener.bind(this)):this.getStatus(this.pingListener.bind(this));else{var t={state:0,action:"fail",reason:"maddr"};this.obj=t,this.onStateChange&&this.onStateChange(this,t),this.onError&&this.onError(this,t),this.onDone&&this.onDone(this,t)}},pingListener:function(t,n){this.nPings++;var r=Date.now()-this.time0,o={state:0,action:null,reason:null,addrEntry:this.getAddressEntry(n),resp:n};switch(this.onStatus&&this.onStatus(this,{type:t,resp:n,addrEntry:o.addrEntry}),"load"==t&&"object"==e(n)?"RME Running"==n.result?o.addrEntry?(o.addrEntry.readyForPlayer||this.options.ignoreReady)&&o.addrEntry.segmentsInPlaylist>=this.options.minSegments?(o.state=4,o.action=this.options.monitorStatus?"ping":"stop",o.reason="success",o.state!=this.lastState&&(o.url=o.addrEntry.multicastUrl,this.obj=o,this.onReady&&this.onReady(this,o.addrEntry.multicastUrl,o.addrEntry.format),this.nPings=0,this.time0=Date.now(),r=0,this.nRestarts=0,this.sendReady=!1)):(o.state=3,o.state!=this.lastState&&(this.nPings=0,this.time0=Date.now(),r=0),0==o.addrEntry.totalBytesReceived&&this.options.maxTime0Ms>0&&r>=this.options.maxTime0Ms?(o.action="fail",o.reason="maxTime0"):0==o.addrEntry.segmentsInPlaylist&&this.options.maxTime1Ms>0&&r>=this.options.maxTime1Ms?(o.action="fail",o.reason="maxTime1"):this.options.nSegmentPings>0&&this.nPings>=this.options.nSegmentPings||this.options.maxSegmentTimeMs>0&&r>=this.options.maxSegmentTimeMs?(o.action="fail",o.reason="segments"):(o.action="ping",o.reason="segments")):this.maddrStr?(o.state=2,o.state!=this.lastState&&(this.nPings=0,this.time0=Date.now(),r=0),o.state>this.maxState?(o.action="start",o.reason=o.state>this.maxState?"first":"restart"):this.options.nStartPings>0&&this.nPings>=this.options.nStartPings||this.options.maxStartTimeMs>0&&r>=this.options.maxStartTimeMs?(o.action="fail",o.reason="start"):(o.action="ping",o.reason="start")):(o.state=5,o.action="guide",o.reason="guide"):(o.state=1,o.state!=this.lastState&&(this.nPings=0,this.time0=Date.now(),r=0),o.reason="run",this.options.nRunPings>0&&this.nPings>=this.options.nRunPings||this.options.maxRunTimeMs>0&&r>=this.options.maxRunTimeMs?o.action="fail":o.action="ping"):(o.state=0,o.state!=this.lastState&&(this.nPings=0,this.time0=Date.now(),r=0),0==this.maxState&&(this.options.nInitPings>0&&this.nPings>=this.options.nInitPings||this.options.maxInitTimeMs>0&&r>=this.options.maxInitTimeMs)||this.maxState>0&&(this.options.nFailPings>0&&this.nPings>=this.options.nFailPings||this.options.maxFailTimeMs>0&&r>=this.options.maxFailTimeMs)?(o.action="fail",o.reason=(0==this.maxState?"init ":"latent ")+t):(o.action="ping",o.reason="response")),(o.state!=this.lastState||o.action!=this.lastAction||o.reason!=this.lastReason||"segments"==o.reason&&o.addrEntry.segmentsInPlaylist!=this.lastSegments)&&(this.obj=o,this.onStateChange&&this.onStateChange(this,o),this.lastState=o.state,this.lastAction=o.action,this.lastReason=o.reason,"segments"==o.reason&&(this.lastSegments=o.addrEntry.segmentsInPlaylist),o.state>this.maxState&&(this.maxState=o.state),4==o.state&&"ping"==o.action&&this.onDone&&this.onDone(this,o)),"fail"==o.action&&o.state>1&&this.nRestarts<this.options.restartTries&&(this.nRestarts++,o.action="start",this.obj=o,this.onStateChange&&this.onStateChange(this,o),this.lastAction=o.action),this.verbose&&this.logger("Receiver["+this.index+"]: state:"+o.state+" action:"+o.action+" reason:"+o.reason,o.addrEntry?o.addrEntry.totalBytesReceived+" bytes, "+o.addrEntry.segmentsInPlaylist+" segments":""),o.action){case"ping":this.pingTimer=setTimeout(this.start.bind(this),this.options.pingTimeMs);break;case"start":this.sendStart(this.startListener.bind(this));break;case"guide":this.getProgramGuide(this.programGuideListener.bind(this));break;case"fail":if(!this.maddrStr){this.programGuideListener();break}this.obj=o,this.onError&&this.onError(this,o);default:this.onDone&&this.onDone(this,o)}return!1},statusUpdate:function(e){return this.options.monitorStatus=void 0===e?!this.options.monitorStatus:"boolean"==typeof e?e:this.options.monitorStatus,!this.pingTimer&&this.options.monitorStatus&&(this.pingTimer=setTimeout(this.start.bind(this),this.options.pingTimeMs)),this.options.monitorStatus},fullStatus:function(e,t,n){this.getStatus(e,t,n,"")},interpretResponse:function(e){var t;if(e&&e.state>=0&&e.state<n.states.length&&(t=(t=n.states[e.state])[e.action]&&t[e.action][e.reason.replace(/ .*/,"")]||"",3==e.state&&t.indexOf("SEG")>=0)){var r=t.split("SEG");t=r[0]+e.addrEntry.segmentsInPlaylist+r[1]+this.options.minSegments+r[2]}return t}},n.states=[{core:"not detected",fail:{keystore:"failed to load keystore",maddr:"did not attempt to detect receiver",init:"failed to detect receiver during initial attempt",latent:"failed to detect receiver after previous detection",other:"failed to detect receiver"},ping:{response:"receiver was not detected on this try"}},{core:"detected but not running",fail:{run:"receiver was detected but is not running"},ping:{run:"receiver was detected but is not yet running"}},{core:"running but not started",fail:{start:"receiver has failed to start"},start:{first:"starting the receiver for the first time",restart:"restarting the receiver",start:"restarting the receiver"},ping:{start:"starting the receiver"}},{core:"started but not ready",fail:{segments:"receiver did not receive enough segments within supplied limits",maxTime0:"receiver did not receive any bytes within supplied limits",maxTime1:"receiver did not receive any segments within supplied limits"},start:{segments:"receiver has not received enough segments within supplied limits, restarting",maxTime0:"receiver has not received any bytes within supplied limits, restarting",maxTime1:"receiver has not received any segments within supplied limits, restarting"},ping:{segments:"receiver has received SEG out of SEG required segments"}},{core:"ready",ping:{success:"receiver is ready, monitoring status"},stop:{success:"receiver is ready, monitoring has stopped"}},{core:"program guide",guide:{guide:"receiver is checking for a program guide",fail:"receiver has failed to supply a program guide",success:"receiver has supplied a program guide",empty:"program guide contains no programs",config:"program guide feature is not configured",receiver:"no program guide, receiver was not detected",program:"no matching program was found"}}],n.testProgramGuide={multicastAddress:"239.11.0.1:12345/0",programs:[{guid:"test",multicastAddress:"239.55.0.20/64"},{guid:"test",multicastAddress:"239.55.0.10/64"},{guid:"test",multicastAddress:"239.55.0.1/64"},{guid:"test",multicastAddress:"239.11.22.33/64"}]},n.ProgramGuideHandler=function(e,t){this.rcvr=e,this.timeoutMs=t||0,this.maddr=[],this.instance=[],this.done=!1,this.expected=0,this.completed=0;var n,r,o=e.programGuide;if(o&&o.programs.length){for(r=o.programs,n=0;n<r.length;n++)!1,(!0===e.streamKey||"true"===e.streamKey?"multicastAddress"in r[n]&&"!global"!=r[n].multicastAddress:0===r[n].programType?"triggerPattern"in r[n]&&r[n].triggerPattern.indexOf(e.streamKey)>=0:1===r[n].programType?"guid"in r[n]&&r[n].guid==e.streamKey:"guid"in r[n]&&r[n].guid==e.streamKey||"triggerRegExp"in r[n]&&r[n].triggerRegExp.indexOf(e.streamKey)>=0)&&"multicastAddress"in r[n]&&(0==this.maddr.length||e.multiStream)&&this.maddr.push(r[n].multicastAddress.replace(/\/\d*/,""));for(this.expected=this.maddr.length,n=0;n<this.maddr.length;n++)this.addInstance(e,this.maddr[n])}0==this.instance.length?setTimeout(this.final.bind(this),100):this.timeoutMs&&(this.timer=setTimeout(this.final.bind(this),this.timeoutMs))},n.ProgramGuideHandler.prototype={addInstance:function(e,t){var r={protocol:e.protocol,host:e.host,port:e.port,verbose:!!e.verbose&&(e.logger||e.verbose),maddr:t,keyStoreUri:e.keyStoreUri,keyStoreKey:e.keyStoreKey,multiStream:!1,streamKey:null,options:{}};n.assign(r.options,e.options),r.onDone=this.instanceDone.bind(this,this.instance.length),this.instance.push(new n(r))},instanceDone:function(e,t,n){this.timer&&(clearTimeout(this.timer),this.timer=null),this.completed++,this.instance[e]._done=!0,this.done||(4==n.state?this.final(e):this.completed>=this.expected?this.final():this.timeoutMs&&(this.timer=setTimeout(this.final.bind(this),this.timeoutMs)))},final:function(e){var t,n;for(this.done=!0,this.rcvr.programGuideFinal("number"==typeof e?this.instance[e].params.multicastAddress:null),t=0;t<this.instance.length;t++)n=this.instance[t],t==e||n._done||(n.maddr="",n.start())}},(window.RampVersion||(window.RampVersion={}))["iptools.js"]="$Id$ $Change$ $Revision$ $DateTime$",function(){var t,n=this;if(n.IPTools||(n.IPTools={}),!(t=n.IPTools).ipaddr){var r=t.ipaddr={};r.matchCIDR=function(e,t,n,r){var o,a;if(e.length!==t.length)throw new Error("ipaddr: cannot match CIDR for objects with different lengths");for(o=0;r>0;){if((a=n-r)<0&&(a=0),e[o]>>a!=t[o]>>a)return!1;r-=n,o+=1}return!0},r.subnetMatch=function(e,t,n){var r,o,a,i,s;for(r in null==n&&(n="unicast"),t)for(!(o=t[r])[0]||o[0]instanceof Array||(o=[o]),i=0,s=o.length;i<s;i++)if(a=o[i],e.match(a))return r;return n},r.IPv4=function(e){var t,n,r;if(4!==e.length)throw new Error("ipaddr: ipv4 octet count should be 4");for(n=0,r=e.length;n<r;n++)if(!(0<=(t=e[n])&&t<=255))throw new Error("ipaddr: ipv4 octet should fit in 8 bits");this.octets=e},r.IPv4.prototype={kind:function(){return"ipv4"},toString:function(){return this.octets.join(".")},toByteArray:function(){return this.octets.slice(0)},match:function(e,t){var r;if(void 0===t&&(e=(r=e)[0],t=r[1]),"ipv4"!==e.kind())throw new Error("ipaddr: cannot match ipv4 address with non-ipv4 one");return n.IPTools.ipaddr.matchCIDR(this.octets,e.octets,8,t)},range:function(){return n.IPTools.ipaddr.subnetMatch(this,n.IPTools.ipaddr.IPv4.SpecialRanges)},toIPv4MappedAddress:function(){return n.IPTools.ipaddr.IPv6.parse("::ffff:"+this.toString())},prefixLengthFromSubnetMask:function(){var e,t,n,r,o,a,i;for(a={0:8,128:7,192:6,224:5,240:4,248:3,252:2,254:1,255:0},e=0,r=!1,t=i=3;i>=0;t=i+=-1){if(!((n=this.octets[t])in a))return null;if(o=a[n],r&&0!==o)return null;8!==o&&(r=!0),e+=o}return 32-e}},r.IPv4.SpecialRanges={unspecified:[[new r.IPv4([0,0,0,0]),8]],broadcast:[[new r.IPv4([255,255,255,255]),32]],multicast:[[new r.IPv4([224,0,0,0]),4]],linkLocal:[[new r.IPv4([169,254,0,0]),16]],loopback:[[new r.IPv4([127,0,0,0]),8]],private:[[new r.IPv4([10,0,0,0]),8],[new r.IPv4([172,16,0,0]),12],[new r.IPv4([192,168,0,0]),16]],reserved:[[new r.IPv4([192,0,0,0]),24],[new r.IPv4([192,0,2,0]),24],[new r.IPv4([192,88,99,0]),24],[new r.IPv4([198,51,100,0]),24],[new r.IPv4([203,0,113,0]),24],[new r.IPv4([240,0,0,0]),4]]},r.IPv4.Part="(0?\\d+|0x[a-f0-9]+)",r.IPv4.Regexes={fourOctet:new RegExp("^"+r.IPv4.Part+"\\."+r.IPv4.Part+"\\."+r.IPv4.Part+"\\."+r.IPv4.Part+"$","i"),longValue:new RegExp("^"+r.IPv4.Part+"$","i")},r.IPv4.parser=function(e){var t,r,o,a,i;if(r=function(e){return"0"===e[0]&&"x"!==e[1]?parseInt(e,8):parseInt(e)},t=e.match(n.IPTools.ipaddr.IPv4.Regexes.fourOctet))return function(){var e,n,a,i;for(i=[],e=0,n=(a=t.slice(1,6)).length;e<n;e++)o=a[e],i.push(r(o));return i}();if(t=e.match(n.IPTools.ipaddr.IPv4.Regexes.longValue)){if((i=r(t[1]))>4294967295||i<0)throw new Error("ipaddr: address outside defined range");return function(){var e,t;for(t=[],a=e=0;e<=24;a=e+=8)t.push(i>>a&255);return t}().reverse()}return null},r.IPv6=function(e){var t,n,r,o,a,i;if(16===e.length)for(this.parts=[],t=r=0;r<=14;t=r+=2)this.parts.push(e[t]<<8|e[t+1]);else{if(8!==e.length)throw new Error("ipaddr: ipv6 part count should be 8 or 16");this.parts=e}for(o=0,a=(i=this.parts).length;o<a;o++)if(!(0<=(n=i[o])&&n<=65535))throw new Error("ipaddr: ipv6 part should fit in 16 bits")},r.IPv6.prototype={kind:function(){return"ipv6"},toString:function(){var e,t,n,r,o,a,i;for(o=function(){var e,n,r,o;for(o=[],e=0,n=(r=this.parts).length;e<n;e++)t=r[e],o.push(t.toString(16));return o}.call(this),e=[],n=function(t){return e.push(t)},r=0,a=0,i=o.length;a<i;a++)switch(t=o[a],r){case 0:n("0"===t?"":t),r=1;break;case 1:"0"===t?r=2:n(t);break;case 2:"0"!==t&&(n(""),n(t),r=3);break;case 3:n(t)}return 2===r&&(n(""),n("")),e.join(":")},toByteArray:function(){var e,t,n,r,o;for(e=[],n=0,r=(o=this.parts).length;n<r;n++)t=o[n],e.push(t>>8),e.push(255&t);return e},toNormalizedString:function(){var e;return function(){var t,n,r,o;for(o=[],t=0,n=(r=this.parts).length;t<n;t++)e=r[t],o.push(e.toString(16));return o}.call(this).join(":")},match:function(e,t){var r;if(void 0===t&&(e=(r=e)[0],t=r[1]),"ipv6"!==e.kind())throw new Error("ipaddr: cannot match ipv6 address with non-ipv6 one");return n.IPTools.ipaddr.matchCIDR(this.parts,e.parts,16,t)},range:function(){return n.IPTools.ipaddr.subnetMatch(this,n.IPTools.ipaddr.IPv6.SpecialRanges)},isIPv4MappedAddress:function(){return"ipv4Mapped"===this.range()},toIPv4Address:function(){var e,t,r;if(!this.isIPv4MappedAddress())throw new Error("ipaddr: trying to convert a generic ipv6 address to ipv4");return e=(r=this.parts.slice(-2))[0],t=r[1],new n.IPTools.ipaddr.IPv4([e>>8,255&e,t>>8,255&t])}},r.IPv6.SpecialRanges={unspecified:[new r.IPv6([0,0,0,0,0,0,0,0]),128],linkLocal:[new r.IPv6([65152,0,0,0,0,0,0,0]),10],multicast:[new r.IPv6([65280,0,0,0,0,0,0,0]),8],loopback:[new r.IPv6([0,0,0,0,0,0,0,1]),128],uniqueLocal:[new r.IPv6([64512,0,0,0,0,0,0,0]),7],ipv4Mapped:[new r.IPv6([0,0,0,0,0,65535,0,0]),96],rfc6145:[new r.IPv6([0,0,0,0,65535,0,0,0]),96],rfc6052:[new r.IPv6([100,65435,0,0,0,0,0,0]),96],"6to4":[new r.IPv6([8194,0,0,0,0,0,0,0]),16],teredo:[new r.IPv6([8193,0,0,0,0,0,0,0]),32],reserved:[[new r.IPv6([8193,3512,0,0,0,0,0,0]),32]]},r.IPv6.Part="(?:[0-9a-f]+::?)+",r.IPv6.Regexes={native:new RegExp("^(::)?("+r.IPv6.Part+")?([0-9a-f]+)?(::)?$","i"),transitional:new RegExp("^((?:"+r.IPv6.Part+")|(?:::)(?:"+r.IPv6.Part+")?)"+r.IPv4.Part+"\\."+r.IPv4.Part+"\\."+r.IPv4.Part+"\\."+r.IPv4.Part+"$","i")},r.IPv6.parser=function(e){var t,r,o,a,i,s;if(e.match(n.IPTools.ipaddr.IPv6.Regexes.native))return n.IPTools.ipaddr.expandIPv6(e,8);if((t=e.match(n.IPTools.ipaddr.IPv6.Regexes.transitional))&&(a=n.IPTools.ipaddr.expandIPv6(t[1].slice(0,-1),6))){for(i=0,s=(o=[parseInt(t[2]),parseInt(t[3]),parseInt(t[4]),parseInt(t[5])]).length;i<s;i++)if(!(0<=(r=o[i])&&r<=255))return null;return a.push(o[0]<<8|o[1]),a.push(o[2]<<8|o[3]),a}return null},r.expandIPv6=function(e,t){var n,r,o,a,i;if(e.indexOf("::")!==e.lastIndexOf("::"))return null;for(n=0,r=-1;(r=e.indexOf(":",r+1))>=0;)n++;if("::"===e.substr(0,2)&&n--,"::"===e.substr(-2,2)&&n--,n>t)return null;for(i=t-n,a=":";i--;)a+="0:";return":"===(e=e.replace("::",a))[0]&&(e=e.slice(1)),":"===e[e.length-1]&&(e=e.slice(0,-1)),function(){var t,n,r,a;for(a=[],t=0,n=(r=e.split(":")).length;t<n;t++)o=r[t],a.push(parseInt(o,16));return a}()},r.IPv4.isIPv4=r.IPv6.isIPv6=function(e){return null!==this.parser(e)},r.IPv4.isValid=function(e){try{return new this(this.parser(e)),!0}catch(e){return e,!1}},r.IPv4.isValidFourPartDecimal=function(e){return!(!n.IPTools.ipaddr.IPv4.isValid(e)||!e.match(/^\d+(\.\d+){3}$/))},r.IPv6.isValid=function(e){if("string"==typeof e&&-1===e.indexOf(":"))return!1;try{return new this(this.parser(e)),!0}catch(e){return e,!1}},r.IPv4.parse=r.IPv6.parse=function(e){var t;if(null===(t=this.parser(e)))throw new Error("ipaddr: string is not formatted like ip address");return new this(t)},r.IPv4.parseCIDR=function(e){var t,n;if((n=e.match(/^(.+)\/(\d+)$/))&&(t=parseInt(n[2]))>=0&&t<=32)return[this.parse(n[1]),t];throw new Error("ipaddr: string is not formatted like an IPv4 CIDR range")},r.IPv6.parseCIDR=function(e){var t,n;if((n=e.match(/^(.+)\/(\d+)$/))&&(t=parseInt(n[2]))>=0&&t<=128)return[this.parse(n[1]),t];throw new Error("ipaddr: string is not formatted like an IPv6 CIDR range")},r.isValid=function(e){return n.IPTools.ipaddr.IPv6.isValid(e)||n.IPTools.ipaddr.IPv4.isValid(e)},r.parse=function(e){if(n.IPTools.ipaddr.IPv6.isValid(e))return n.IPTools.ipaddr.IPv6.parse(e);if(n.IPTools.ipaddr.IPv4.isValid(e))return n.IPTools.ipaddr.IPv4.parse(e);throw new Error("ipaddr: the address has neither IPv6 nor IPv4 format")},r.parseCIDR=function(e){try{return n.IPTools.ipaddr.IPv6.parseCIDR(e)}catch(t){t;try{return n.IPTools.ipaddr.IPv4.parseCIDR(e)}catch(e){throw e,new Error("ipaddr: the address has neither IPv6 nor IPv4 CIDR format")}}},r.fromByteArray=function(e){var t;if(4===(t=e.length))return new n.IPTools.ipaddr.IPv4(e);if(16===t)return new n.IPTools.ipaddr.IPv6(e);throw new Error("ipaddr: the binary input is neither an IPv6 nor IPv4 address")},r.process=function(e){var t;return"ipv6"===(t=this.parse(e)).kind()&&t.isIPv4MappedAddress()?t.toIPv4Address():t}}if(!t.ip6){var o=t.ip6={};o.normalize=function(e){if(!this._validate(e))return!1;var t=e.split(/\:\:/g);if(t.length>2)return!1;var n=[];if(1==t.length){if(8!==(n=e.split(/\:/g)).length)return!1}else if(2==t.length){var r=t[0],o=t[1],a=r.split(/\:/g),i=o.split(/\:/g);for(var s in a)n[s]=a[s];for(s=i.length;s>0;--s)n[7-(i.length-s)]=i[s-1]}for(s=0;s<8;++s)void 0===n[s]&&(n[s]="0000"),n[s].length<4&&(n[s]="0000".substring(0,4-n[s].length)+n[s]);return n.join(":")},o.abbreviate=function(e){if(!this._validate(e))return!1;for(var t=(e=(e=(e=(e=(e=(e=o.normalize(e)).replace(/0000/g,"g")).replace(/\:000/g,":")).replace(/\:00/g,":")).replace(/\:0/g,":")).replace(/g/g,"0")).split(/\:/g),n=!1,r=-1,a=0,i=-1,s=0,u=0;u<8;++u){var l=t[u],c="0"===l;c&&!n&&(i=u),!c&&n&&(s=u-i),s>1&&s>a&&(r=i,a=s),n="0"===l}return n&&(s=8-i),s>1&&s>a&&(r=i,a=s),r>=0&&a>1&&t.splice(r,a,"g"),e=(e=(e=(e=(e=t.join(":")).replace(/\:g\:/g,"::")).replace(/\:g/g,"::")).replace(/g\:/g,"::")).replace(/g/g,"::")},o._validate=function(e){return/^[a-f0-9\\:]+$/gi.test(e)}}if(!t.ipValidator){var a=t.ipValidator={};a.ipaddr=t.ipaddr,a.ip6=t.ip6,a.isIP=function(e){return this.ipaddr.isValid(e)},a.isRange=function(e){try{this.ipaddr.parseCIDR(e);return!0}catch(e){return!1}},a.ver=function(e){try{var t=this.ipaddr.parse(e).kind();return"ipv4"==t?4:"ipv6"==t?6:0}catch(e){return 0}},a.isV4=function(e){return 4==this.ver(e)},a.isV6=function(e){return 6==this.ver(e)},a.storeIP=function(e){try{var t=this.ipaddr.parse(e),n=t.kind();return"ipv4"==n?e:"ipv6"==n?t.isIPv4MappedAddress()?t.toIPv4Address().toString():this.ip6.abbreviate(e):null}catch(e){return null}},a.displayIP=function(e){try{var t=this.ipaddr.parse(e),n=t.kind();return"ipv4"==n?e:"ipv6"==n?t.isIPv4MappedAddress()?t.toIPv4Address().toString():this.ip6.normalize(e):""}catch(e){return""}},a.inRange=function(t,n){if("string"!=typeof n){if(n&&"object"===e(n)){for(var r in n)if(!0===this.inRange(t,n[r]))return!0;return!1}return!1}if(-1===n.indexOf("/"))return t=this.isV6(t)?this.ip6.normalize(t):t,n=this.isV6(n)?this.ip6.normalize(n):n,this.isIP(n)&&t===n;try{var o=n.split("/"),a=this.ipaddr.parse(t),i=this.ipaddr.parse(o[0]);return a.match(i,o[1])}catch(e){return!1}},a.InRange=a.inRange,t.range_check={isIP:a.isIP.bind(a),isV4:a.isV4.bind(a),isV6:a.isV6.bind(a),storeIP:a.storeIP.bind(a),displayIP:a.displayIP.bind(a),isRange:a.isRange.bind(a),inRange:a.inRange.bind(a),ver:a.ver.bind(a)},t.range_check.validIp=t.range_check.vaildIp=t.range_check.valid_ip=t.range_check.vaild_ip=t.range_check.isIP,t.range_check.searchIP=t.range_check.storeIP,t.range_check.valid_range=t.range_check.validRange=t.range_check.isRange,t.range_check.in_range=t.range_check.inRange}}.call(this),(window.RampVersion||(window.RampVersion={}))["omnicache.js"]="$Id$ $Change$ $Revision$ $DateTime$",function(){if(!("XPromise"in this)){this.XPromise=function(e){this.resolve=function(e){this.done||(this.done=!0,this.stateObj=e,this.stateCall="resolve",this.state="fulfilled"),"resolve"==this.stateCall&&this.emptyList()},this.reject=function(e){this.done||(this.done=!0,this.stateObj=e,this.stateCall="reject",this.state="rejected"),"reject"==this.stateCall&&this.emptyList()},this.emptyList=function(){var e,t,n=this[this.stateCall+"List"];if(n)for(e=n.length-1;e>=0;e--)(t=n.shift())&&"function"==typeof t&&t(this.stateObj)},this.then=function(e,t){return e&&this.resolveList.push(e),t&&this.rejectList.push(t),"pending"!=this.state&&this[this.stateCall](this.stateObj),this},this.state="pending",this.stateObj=null,this.stateCall=null,this.done=!1,this.resolveList=[],this.rejectList=[],e&&"function"==typeof e&&e(this.resolve.bind(this),this.reject.bind(this))}}if(!("QManager"in this)){this.QManager=function(t,n,r,o){this.callback=t,this.method=n,this.match="boolean"!=typeof r||r,"function"==typeof o?(this.verbose=!0,this.logger=o):(this.verbose=o,this.logger=console.log.bind(console)),this.queue=[],this.push=function(e){this.queue.push(e)},this.pop=function(){return this.queue.pop()},this.matchObject=function(t,n){var r,o=!1,a=e(t);if(a==e(n))if("object"==a&&null!=t){for(r in o=!0,t)if(!this.matchObject(t[r],n[r])){o=!1;break}}else t==n&&(o=!0);return o},this.flush=function(){var e,t;if(this.queue.length){if(this.method)return t=1==this.method?0:this.queue.length-1,e=this.queue.splice(t,1),this.verbose&&this.logger("QM callback",e),this.callback(e),void(this.queue=[]);for(;e=this.queue.shift();)if(this.verbose&&this.logger("QM callback",e),this.callback(e),this.qflag)for(t=this.queue.length-1;t>=0;t--)this.matchObject(e,this.queue[t])&&(this.verbose&&this.logger("QM removing duplicate",this.queue[t]),this.queue.splice(t,1))}},this.empty=function(){this.verbose&&this.logger("QM empty"),this.queue.length&&(this.queue=[])}}}}.call(this),function(e){var t=e.OmniCacheInterface=function(t){var n=t||{};this.re4cache=new RegExp("^https?://[^/]+/http(?:https|s)?/"),this.resp=null,this.done=!1,this.ipRangeStr="",this.uriStr="",this.filter=n.filter||[],this.qmethod=n.qmethod,this.qflag=n.qflag,this.q=new e.QManager(this.rewrite.bind(this),this.qmethod,this.qflag,n.verbose),this.onSuccess=n.onSuccess,this.onFailure=n.onFailure,this.onDone=n.onDone,this.directMod=!0,this.setParams(n)};t.Callbacks={onSuccess:!0,onFailure:!0,onDone:!0},t.Defaults={uri:"",ipRange:"",ipExclude:!0,verbose:!1,src:function(){},timeoutMs:2e3},t.prototype={setParams:function(e){var n,r=e||{},o=0,a=!this.ipRange;for(n in(a||"ipRange"in r&&r.ipRange!==this.ipRangeStr)&&("string"==typeof r.ipRange&&r.ipRange!=t.Defaults.ipRange?(this.ipRangeStr=r.ipRange,this.ipRange=r.ipRange.split(",")):(this.ipRangeStr=t.Defaults.ipRange,this.ipRange=[]),o++),(a||"ipExclude"in r&&r.ipExclude!==this.ipExclude)&&(this.ipExclude=void 0!==r.ipExclude?!!r.ipExclude:t.Defaults.ipExclude,o++),t.Callbacks)n in e&&("function"==typeof e[n]||null===e[n])&&(this[n]=e[n]);(a||"verbose"in r)&&("function"==typeof r.verbose?(this.verbose=!0,this.logger=r.verbose):(this.verbose=void 0!==r.verbose?!!r.verbose:t.Defaults.verbose,this.logger=console.log.bind(console))),(a||"timeoutMs"in r)&&(this.timeoutMs=r.timeoutMs&&isFinite(r.timeoutMs)?r.timeoutMs:t.Defaults.timeoutMs),(a||"src"in r&&r.src!==this.src)&&(this.src="function"==typeof r.src?r.src:t.Defaults.src,o++);var i=!0;return a||"uri"in r&&r.uri!==this.uriStr||r.force?r.uri&&"string"==typeof r.uri||r.force&&this.uriStr?(this.uriStr=r.uri&&"string"==typeof r.uri?r.uri:this.uriStr,this.uri=(this.uriStr.match("^(?:https?:)?//")?"":"//")+this.uriStr,this.uri=this.uri.replace(new RegExp("^//"),location.protocol+"//"),this.uri=this.uri.replace(/\/+$/,""),this.promise=this.start(),this.promise.then(this.onResolve.bind(this),this.onReject.bind(this))):(this.uri=this.uriStr=t.Defaults.uri,this.onReject()):o?this.uri?(this.promise=this.start(),this.promise.then(this.onResolve.bind(this),this.onReject.bind(this))):this.onReject():i=!1,i},start:function(){delete this.resp,this.done=!1;var t=new e.XPromise(this.xpromise.bind(this));if(this.uri){var n=new XMLHttpRequest,r=this.listener.bind(this);this.uri.indexOf("?")>=0?n.uri="&":n.uri="?",n.uri=this.uri+n.uri+"_="+(new Date).getTime();try{n.addEventListener("readystatechange",r,!1),n.addEventListener("load",r,!1),n.addEventListener("error",r,!1),n.addEventListener("abort",r,!1),n.addEventListener("timeout",r,!1),n.open("get",n.uri,!0),n.setRequestHeader("Accept","application/json"),n.timeout=this.timeoutMs,n.send(null)}catch(e){this.rejector&&this.rejector({message:"xhr failed"})}}else this.rejector&&this.rejector({message:"missing URI"});return t},listener:function(e){if(e){var t=e.target;if("readystatechange"==e.type){if(4==t.readyState){var n;try{n=JSON.parse(t.response)}catch(e){}this.resp=n||{}}}else{var r={status:t.status,resp:this.resp,uri:this.uri};switch(this.done=!0,this.logger("----\x3e OCI listener: "+e.type),e.type){case"load":this.resp&&this.resp.Ip?this.ipIsAllowed(this.resp.Ip)?(r.message="success",this.resolver(r)):(r.message="IP is not in range.",this.rejector(r)):(r.message="failure",this.rejector(r));break;case"error":case"abort":r.message="failure",this.rejector(r);break;case"timeout":r.message="timeout",r.timeout=!0,this.rejector(r)}}}},ipIsAllowed:function(e){var t,n=this.ipExclude,r="IPTools"in window&&window.IPTools.ipValidator,o=0==this.ipRange.length,a=o||(r||{inRange:function(){return!n}}).inRange(e,this.ipRange)^this.ipExclude,i=a^this.ipExclude;this.verbose&&(t=r?o?"No IP Range":(i?"in":"not in")+" supplied IP "+(this.ipExclude?"exclusion":"inclusion")+" Range":"Missing IPTools",this.logger("OCI: Client IP "+e+" "+(a?"accepted":"rejected")+" - "+t,this.ipRange,this.ipExclude));return a},xpromise:function(e,t){this.resolver=e,this.rejector=t},onResolve:function(e){this.done=!0,this.onSuccess&&this.onSuccess(this,e),this.onDone&&this.onDone(this,e),this.verbose&&this.logger("OCI onResolve"),this.q.flush()},onReject:function(e){this.done=!0,this.uri=null,e&&(e.uri=null),this.onFailure&&this.onFailure(this,e),this.onDone&&this.onDone(this,e),this.verbose&&this.logger("OCI onReject"),this.q.flush()},isCacheable:function(e){var t=!1;if(e)if(this.filter.length>0){var n,r=2;for(r=2;r>0;r--){for(n=this.filter.length-1;!t&&n>=0;n--)t=null!=e.match(this.filter[n]+"$");if(t||2!=r)r=0;else{var o=e.match(/([^\?#]*)\/([^\/\?#]+)/);o&&(e=o[2])||(r=0)}}}else t=!0;return t},isCached:function(e){return e&&e.match(this.re4cache)},rewrite:function(e,t){if(this.verbose&&this.logger("OCI rewrite",e),e){if(!this.done)return this.verbose&&this.logger("... queued"),void this.q.push(e);var n,r,o,a;"string"==typeof e?(o=2,r=[{src:e}]):e instanceof Array?(o=0,r=e):(o=1,r=[e]);new RegExp("^//");var i,s=new RegExp("^(?:(https?):)?(//)?"),u=!1,l=!1;for(n=0;n<r.length;n++)l=this.isCacheable(r[n].src),i=!1,u=this.isCached(r[n].src),this.uri&&l&&!u?(this.verbose&&this.logger("OmniCache src was: "+r[n].src),i=!0,a=(a=r[n].src.match(s))[1]?"/"+a[1]+"/":"/httphttps/",r[n].src=r[n].src.replace(s,this.uri+a)):this.verbose&&this.logger("OmniCache:"+(this.uri?(l?"":" not")+" cacheable"+(u?"":" not")+" cached":"no uri")),this.verbose&&(i?this.logger(".... updated to OmniCache: "+r[n].src):this.logger(".... unchanged: "+(r[n].src||"undefined"))),r[n].callback&&r[n].callback(r[n]);var c=o?1==o?r[0]:r[0].src:r;return this.src&&this.src(c),t&&c}}}}(this),(window.RampVersion||(window.RampVersion={}))["rcvrInterface.js"]="$Id$ $Change$ $Revision$ $DateTime$",(r=this).queryToObject||(r.queryToObject=function(t,n,r){var o=r||{};if(!t||""==t)return o;var a,i,s,u,l=t.split("&");for(i=0;i<l.length;i++)u=s=l[i].indexOf("="),s+1||(s=l[i].length),a=[decodeURIComponent(l[i].substring(0,s)),decodeURIComponent(l[i].substring(s+1))],u<0?(a[1]="!"!=a[0].charAt(0),a[1]||(a[0]=a[0].substring(1))):"true"==a[1]?a[1]=!0:"false"==a[1]?a[1]=!1:""==a[1].replace(/^\d+$/,"")&&(a[1]=parseInt(a[1])),n&&void 0!==o[a[0]]?"object"!=e(o[a[0]])?o[a[0]]=[o[a[0]],a[1]]:o[a[0]].push(a[1]):o[a[0]]=a[1];return o});var o=function(e,t,n){this.param={},this.state=0,this.omnicache=null,this.ocReady=!1,this.ocParams={},this.setParams(e,t,n)};o.State={MC_REQUESTED:1,MC_SUCCEEDED:2,MC_GROUP:3,PG_REQUESTED:4,PG_SUCCEEDED:8,PG_GROUP:12,MC_ALL:15,FB_SUPPLIED:16,FB_APPLIED:32,FB_GROUP:48,VS_SUPPLIED:64,VS_APPLIED:128,VS_GROUP:192,OC_REQUESTED:1024,OC_SUCCEEDED:2048,OC_GROUP:3072,OF_SUPPLIED:4096,OF_APPLIED:8192,OF_GROUP:12288,OC_APPLIED:16384},o.Defaults={verbose:!1,allowFallback:!1,allowVdmsFallback:!1,vdmsServers:"",fallbackUrl:"",fallbackType:"",omnicacheFallbackUrl:"",omnicacheFallbackType:""},o.GetDefaults=function(t,r,a,i){var s={i_param:n.assign({},o.Defaults,r),r_param:n.assign({},n.Settings,n.Params,n.Options,a),o_param:n.assign({},window.OmniCacheInterface.Defaults,i)};return t&&o.GetQueryParams(s,s,"object"==e(t)?t:void 0),s},o.GetQueryParams=function(t,n,r){var a=t&&t.i_param?t:{};a.i_param||(a.i_param={}),a.r_param||(a.r_param={}),a.o_param||(a.o_param={});var i,s,u,l=n||o.GetDefaults(!1),c=r||window.queryToObject(location.search.substr(1),!1);for(i in c)(s=i.match(/^([iro]_)/))?(u=i.substring(2),s=s[1]):u=i,s&&"i_"!=s||!(u in l.i_param)||e(c[i])!=e(l.i_param[u])?s&&"r_"!=s||!(u in l.r_param)||e(c[i])!=e(l.r_param[u])?"maddr"==u||"multicastAddress"==u&&0===c[i]?a.r_param[u]=""+c[i]:("streamKey"==u&&!0===c[i]&&(a.r_param[u]=c[i]),s&&"o_"!=s||!(u in l.o_param)||e(c[i])!=e(l.o_param[u])||(a.o_param[u]=c[i])):a.r_param[u]=c[i]:a.i_param[u]=c[i];return a},o.prototype={setParams:function(e,t,r){var a,i=void 0===this.verbose,s=e||{};(i||void 0!==s.verbose&&s.verbose!==this.verbose)&&("function"==typeof s.verbose?(this.verbose=!0,this.logger=s.verbose):(this.verbose=!!s.verbose,this.logger=console.log.bind(console))),(i||"function"==typeof s.onDone&&s.onDone!==this.onDone)&&(this.onDone=s.onDone);var u=["allowFallback","allowVdmsFallback"],l=["fallbackUrl","fallbackType","vdmsServers","omnicacheFallbackUrl","omnicacheFallbackType"];for(a=u.length-1;a>=0;a--)(i||u[a]in s)&&(this[u[a]]=void 0!==s[u[a]]?!!s[u[a]]:o.Defaults[u[a]]);for(a=l.length-1;a>=0;a--)(i||l[a]in s&&s[l[a]]!=this[l[a]])&&(this[l[a]]=void 0!==s[l[a]]?s[l[a]]:o.Defaults[l[a]]);var c=this.allowFallback&&this.fallbackUrl?o.State.FB_SUPPLIED:0;this.state=this.state&~o.State.FB_GROUP|c,this.vdmsServers&&("string"==typeof this.vdmsServers&&(this.vdmsServers=this.vdmsServers.split(","),this.allowVdmsFallback=!0),Array.isArray(this.vdmsServers)&&0!=this.vdmsServers.length||(this.vdmsServers=null,this.allowVdmsFallback=!1)),c=this.allowVdmsFallback&&this.vdmsServers?o.State.VS_SUPPLIED:0,this.state=this.state&~o.State.VS_GROUP|c,c=this.allowFallback&&this.omnicacheFallbackUrl?o.State.OF_SUPPLIED:0,this.state=this.state&~o.State.OF_GROUP|c,n.assign(this.param,t),"function"!=typeof t.onDone&&null!==t.onDone||(this.onRcvrDone=t.onDone),this.param.onDone=this.onDoneIntercept.bind(this),"function"!=typeof t.onReady&&null!==t.onReady||(this.onRcvrReady=t.onReady),this.param.onReady=this.onReadyIntercept.bind(this),"function"!=typeof t.onPGReady&&null!==t.onPGReady||(this.onRcvrPGReady=t.onPGReady),this.param.onPGReady=this.onPGReadyIntercept.bind(this),"function"!=typeof t.onStateChange&&null!==t.onStateChange||(this.onRcvrStateChange=t.onStateChange),this.param.onStateChange=this.onStateChangeIntercept.bind(this),c="-1"==(c=0===this.param.maddr?"0":this.param.maddr||this.param.multicastAddress||"-1")?0:"0"==c?o.State.PG_REQUESTED:o.State.MC_REQUESTED,this.state=this.state&~o.State.MC_ALL|c,this.setOmniCache(r)},statusUpdate:function(e){this.rcvr&&this.rcvr.statusUpdate(e)},fullStatus:function(e,t,n){this.rcvr?this.rcvr.fullStatus(e,t,n):(n&&n(),e&&e())},init:function(){if(this.rcvr){this.rcvr.setParams(this.param,!0)||this.rcvr.start()}else this.rcvr=new n(this.param)},setOmniCache:function(e){var t=!1;n.assign(this.ocParams,e);var r=this.ocParams.uri?o.State.OC_REQUESTED:0;return this.state=this.state&~o.State.OC_GROUP|r,this.state=this.state&~o.State.OC_APPLIED,this.ocParams.onDone=this.omnicacheListener.bind(this),this.omnicache?this.omnicache.setParams(this.ocParams)?t=!0:this.init():this.ocParams.uri&&"OmniCacheInterface"in window?(this.omnicache=new window.OmniCacheInterface(this.ocParams),t=!0):this.omnicacheListener(),t},omnicacheListener:function(e){this.ocReady=!(!e||!e.uri),this.ocReady&&(this.state|=o.State.OC_SUCCEEDED),this.init()},onDoneIntercept:function(e,t){this.rcvr||(this.rcvr=e),t.state<5&&!(this.state&o.State.MC_REQUESTED)&&(this.state|=o.State.MC_REQUESTED),this.onRcvrDone&&this.onRcvrDone(e,t),("fail"==t.action||"guide"==t.action&&("config"==t.reason||"receiver"==t.reason))&&this.allowFallback?this.fallbackProtocol(this.allowFallback,this.allowVdmsFallback):(this.obj=t,this.onDone&&this.onDone(this,t))},onReadyIntercept:function(e,t,n){this.state|=o.State.MC_SUCCEEDED|o.State.MC_REQUESTED,this.onRcvrReady&&this.onRcvrReady(e,t,n)},onPGReadyIntercept:function(e,t){"success"!=t.reason&&"empty"!=t.reason||(this.state|=o.State.PG_SUCCEEDED),this.onRcvrPGReady&&this.onRcvrPGReady(e,t)},onStateChangeIntercept:function(e,t){this.rcvr||(this.rcvr=e),this.onRcvrStateChange&&this.onRcvrStateChange(e,t)},fallbackProtocol:function(e,t){if(e){var n={state:6,action:"fallback",reason:void 0,url:void 0,type:void 0};if(this.ocReady&&this.omnicacheFallbackUrl)n.url=this.omnicacheFallbackUrl,n.type=this.omnicacheFallbackType,n.reason="omnicache",this.state|=o.State.OF_APPLIED;else{if(t&&this.vdmsServers&&this.attemptVdmsFallback())return void(n.reason="vdms");n.url=this.fallbackUrl,n.type=this.fallbackType,n.reason="direct",this.state|=o.State.FB_APPLIED}this.ocReady&&n.url&&(this.state|=o.State.OC_APPLIED,n.url=this.omnicache.rewrite(n.url,!0)),this.obj=n,this.onRcvrStateChange&&this.onRcvrStateChange(this,n),n.url&&this.onRcvrReady&&this.onRcvrReady(this,n.url,n.type),this.onDone&&this.onDone(this,n)}},attemptVdmsFallback:function(){var e=!1;if(Array.isArray(this.vdmsServers)&&this.vdmsServers.length){var t=this.vdmsServers[Math.floor(Math.random()*this.vdmsServers.length)].replace(/[\/]*$/,"/rest/services/getunicast?multicastAddress="+this.params.multicastAddress),n=new XMLHttpRequest;n.addEventListener("readystatechange",this.attemptVdmsListener.bind(this),!1),n.open("get",t,!0),n.send(null),e=!0}return e},attemptVdmsListener:function(e){var t,n=e.target;if(4==n.readyState&&200==n.status){try{"string"==typeof(t=JSON.parse(n.response))&&(t=JSON.parse(t))}catch(e){}if(t&&t.sourceUri){this.state|=o.State.VS_APPLIED,this.vdmsFallbackUrl=t.sourceUri,this.ocReady&&(this.state|=o.State.OC_APPLIED,t.sourceUri=this.omnicache.rewrite(t.sourceUri,!0));var r={state:6,action:"fallback",reason:"vdms",url:t.sourceUri,resp:t,type:t.sourceFormat};this.onRcvrStateChange&&this.onRcvrStateChange(this,r),this.onRcvrReady&&this.onRcvrReady(this,t.sourceUri,t.sourceFormat),this.onDone&&this.onDone(this,r)}else this.fallbackProtocol(!0,!1)}},interpretResponse:function(e){var t;return e&&e.state>=0&&(t=e.state<n.states.length?this.rcvr.interpretResponse(e):(t=o.states[e.state-n.states.length])[e.action]&&t[e.action][e.reason.replace(/ .*/,"")]||""),t},interpretState:function(e){var t="",n=o.State;return e||(e=this.rcvr.obj),this.state&n.MC_REQUESTED?t+="Multicast was requested for "+this.rcvr.params.multicastAddress+".\nMulticast "+(this.state&n.MC_SUCCEEDED?"succeeded.\n":"failed ("+e.reason+").\n"):t+="Multicast was not requested.\n",this.state&n.PG_REQUESTED?t+="Program Guide was requested.\nProgram Guide "+(this.state&n.PG_SUCCEEDED?"empty"==e.reason?"is empty\n":"succeeded.\n":"failed ("+e.reason+").\n"):t+="Program Guide was not requested.\n",this.state&n.FB_SUPPLIED?(t+="Fallback was allowed and supplied. ("+this.fallbackUrl+").\n",this.state&n.FB_APPLIED?t+="Fallback was applied as source"+(this.state&n.OC_APPLIED?" via OmniCache":"")+".\n":t+="Fallback was not applied as source.\n"):t+="Fallback was "+(this.allowFallback?"allowed but not supplied":"not allowed")+".\n",this.state&n.VS_SUPPLIED?(t+="VDMS fallback was allowed and supplied ("+this.vdmsFallbackUrl+").\n",this.state&n.VS_APPLIED?t+="VDMS fallback was applied as source"+(this.state&n.OC_APPLIED?" via OmniCache":"")+".\n":t+="VDMS fallback was not applied as source.\n"):t+="VDMS fallback was "+(this.allowVdmsFallback?"allowed but not supplied":"not allowed")+".\n",this.state&n.OC_REQUESTED?t+="OmniCache was requested ("+this.ocParams.uri+").\nOmniCache was "+(this.state&n.OC_SUCCEEDED?"detected":"not detected")+".\n":t+="OmniCache was not requested.\n",this.state&n.OF_SUPPLIED?(t+="OmniCache-specific Fallback was allowed and supplied. ("+this.omnicacheFallbackUrl+")\n",this.state&n.OF_APPLIED?t+="OmniCache-specific Fallback was applied as source"+(this.state&n.OC_APPLIED?" via OmniCache":"")+".\n":t+="OmniCache-specific Fallback was not applied as source.\n"):t+="OmniCache-specific Fallback was "+(this.allowFallback?"allowed but not supplied":"not allowed")+".\n",t}},o.states=[{core:"fallback",fallback:{vdms:"using Altimeter-configured fallback source",direct:"using directly-configured fallback source",omnicache:"using OmniCache-specific fallback source"}}],t.RcvrInterface=o,t.Receiver=n,t.OmniCacheInterface=OmniCacheInterface}).call(window)},function(e,t,n){e.exports=!n(32)&&!n(28)(function(){return 7!=Object.defineProperty(n(116)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(36),o=n(77),a=n(34);e.exports=[].copyWithin||function(e,t){var n=r(this),i=a(n.length),s=o(e,i),u=o(t,i),l=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===l?i:o(l,i))-u,i-s),f=1;for(u<s&&s<u+c&&(f=-1,u+=c-1,s+=c-1);c-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(e,t,n){var r=n(194);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(27);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(46),o=n(57),a=n(123)(!1),i=n(126)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),u=0,l=[];for(n in s)n!=i&&r(s,n)&&l.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~a(l,n)||l.push(n));return l}},function(e,t,n){var r=n(25).document;e.exports=r&&r.documentElement},function(e,t,n){"use strict";var r=n(33).f,o=n(79),a=n(82),i=n(56),s=n(83),u=n(96),l=n(125),c=n(148),f=n(81),d=n(32),p=n(66).fastKey,h=n(75),m=d?"_s":"size",v=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var c=e(function(e,r){s(e,c,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[m]=0,null!=r&&u(r,n,e[l],e)});return a(c.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=h(this,t),r=v(n,e);if(r){var o=r.n,a=r.p;delete n._i[r.i],r.r=!0,a&&(a.n=o),o&&(o.p=a),n._f==r&&(n._f=o),n._l==r&&(n._l=a),n[m]--}return!!r},forEach:function(e){h(this,t);for(var n,r=i(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!v(h(this,t),e)}}),d&&r(c.prototype,"size",{get:function(){return h(this,t)[m]}}),c},def:function(e,t,n){var r,o,a=v(e,t);return a?a.v=n:(e._l=a={i:o=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=a),r&&(r.n=a),e[m]++,"F"!==o&&(e._i[o]=a)),e},getEntry:v,setStrong:function(e,t,n){l(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?c(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,c(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){var r=n(26),o=n(27),a=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(56)(Function.call,n(47).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:a}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(26),o=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&o(e)===e}},function(e,t,n){"use strict";var r=n(32),o=n(74),a=n(98),i=n(89),s=n(36),u=n(118),l=Object.assign;e.exports=!l||n(28)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=s(e),l=arguments.length,c=1,f=a.f,d=i.f;l>c;)for(var p,h=u(arguments[c++]),m=f?o(h).concat(f(h)):o(h),v=m.length,y=0;v>y;)p=m[y++],r&&!d.call(h,p)||(n[p]=h[p]);return n}:l},function(e,t,n){var r=n(32),o=n(74),a=n(57),i=n(89).f;e.exports=function(e){return function(t){for(var n,s=a(t),u=o(s),l=u.length,c=0,f=[];l>c;)n=u[c++],r&&!i.call(s,n)||f.push(e?[n,s[n]]:s[n]);return f}}},function(e,t,n){var r=n(76),o=n(98),a=n(27),i=n(25).Reflect;e.exports=i&&i.ownKeys||function(e){var t=r.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(57),o=n(76).f,a={}.toString,i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return i&&"[object Window]"==a.call(e)?function(e){try{return o(e)}catch(e){return i.slice()}}(e):o(r(e))}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){"use strict";var r=n(53);function o(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},function(e,t,n){var r=n(27),o=n(26),a=n(161);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){n(32)&&"g"!=/./g.flags&&n(33).f(RegExp.prototype,"flags",{configurable:!0,get:n(101)})},function(e,t,n){t.f=n(30)},function(e,t,n){var r=n(25),o=n(63),a=n(64),i=n(164),s=n(33).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:i.f(e)})}},function(e,t,n){var r=n(34),o=n(167),a=n(60);e.exports=function(e,t,n,i){var s=String(a(e)),u=s.length,l=void 0===n?" ":String(n),c=r(t);if(c<=u||""==l)return s;var f=c-u,d=o.call(l,Math.ceil(f/l.length));return d.length>f&&(d=d.slice(0,f)),i?d+s:s+d}},function(e,t,n){"use strict";var r=n(65),o=n(60);e.exports=function(e){var t=String(o(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},function(e,t,n){"use strict";var r=n(25),o=n(32),a=n(64),i=n(139),s=n(44),u=n(82),l=n(28),c=n(83),f=n(65),d=n(34),p=n(169),h=n(76).f,m=n(33).f,v=n(117),y=n(80),g="prototype",b="Wrong index!",E=r.ArrayBuffer,S=r.DataView,T=r.Math,O=r.RangeError,C=r.Infinity,w=E,_=T.abs,P=T.pow,I=T.floor,L=T.log,R=T.LN2,A=o?"_b":"buffer",k=o?"_l":"byteLength",N=o?"_o":"byteOffset";function D(e,t,n){var r,o,a,i=new Array(n),s=8*n-t-1,u=(1<<s)-1,l=u>>1,c=23===t?P(2,-24)-P(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for((e=_(e))!=e||e===C?(o=e!=e?1:0,r=u):(r=I(L(e)/R),e*(a=P(2,-r))<1&&(r--,a*=2),(e+=r+l>=1?c/a:c*P(2,1-l))*a>=2&&(r++,a/=2),r+l>=u?(o=0,r=u):r+l>=1?(o=(e*a-1)*P(2,t),r+=l):(o=e*P(2,l-1)*P(2,t),r=0));t>=8;i[f++]=255&o,o/=256,t-=8);for(r=r<<t|o,s+=t;s>0;i[f++]=255&r,r/=256,s-=8);return i[--f]|=128*d,i}function M(e,t,n){var r,o=8*n-t-1,a=(1<<o)-1,i=a>>1,s=o-7,u=n-1,l=e[u--],c=127&l;for(l>>=7;s>0;c=256*c+e[u],u--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===c)c=1-i;else{if(c===a)return r?NaN:l?-C:C;r+=P(2,t),c-=i}return(l?-1:1)*r*P(2,c-t)}function U(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function x(e){return[255&e]}function j(e){return[255&e,e>>8&255]}function F(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function V(e){return D(e,52,8)}function B(e){return D(e,23,4)}function H(e,t,n){m(e[g],t,{get:function(){return this[n]}})}function G(e,t,n,r){var o=p(+n);if(o+t>e[k])throw O(b);var a=e[A]._b,i=o+e[N],s=a.slice(i,i+t);return r?s:s.reverse()}function q(e,t,n,r,o,a){var i=p(+n);if(i+t>e[k])throw O(b);for(var s=e[A]._b,u=i+e[N],l=r(+o),c=0;c<t;c++)s[u+c]=l[a?c:t-c-1]}if(i.ABV){if(!l(function(){E(1)})||!l(function(){new E(-1)})||l(function(){return new E,new E(1.5),new E(NaN),"ArrayBuffer"!=E.name})){for(var z,W=(E=function(e){return c(this,E),new w(p(e))})[g]=w[g],K=h(w),Y=0;K.length>Y;)(z=K[Y++])in E||s(E,z,w[z]);a||(W.constructor=E)}var Q=new S(new E(2)),Z=S[g].setInt8;Q.setInt8(0,2147483648),Q.setInt8(1,2147483649),!Q.getInt8(0)&&Q.getInt8(1)||u(S[g],{setInt8:function(e,t){Z.call(this,e,t<<24>>24)},setUint8:function(e,t){Z.call(this,e,t<<24>>24)}},!0)}else E=function(e){c(this,E,"ArrayBuffer");var t=p(e);this._b=v.call(new Array(t),0),this[k]=t},S=function(e,t,n){c(this,S,"DataView"),c(e,E,"DataView");var r=e[k],o=f(t);if(o<0||o>r)throw O("Wrong offset!");if(o+(n=void 0===n?r-o:d(n))>r)throw O("Wrong length!");this[A]=e,this[N]=o,this[k]=n},o&&(H(E,"byteLength","_l"),H(S,"buffer","_b"),H(S,"byteLength","_l"),H(S,"byteOffset","_o")),u(S[g],{getInt8:function(e){return G(this,1,e)[0]<<24>>24},getUint8:function(e){return G(this,1,e)[0]},getInt16:function(e){var t=G(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=G(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return U(G(this,4,e,arguments[1]))},getUint32:function(e){return U(G(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return M(G(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return M(G(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){q(this,1,e,x,t)},setUint8:function(e,t){q(this,1,e,x,t)},setInt16:function(e,t){q(this,2,e,j,t,arguments[2])},setUint16:function(e,t){q(this,2,e,j,t,arguments[2])},setInt32:function(e,t){q(this,4,e,F,t,arguments[2])},setUint32:function(e,t){q(this,4,e,F,t,arguments[2])},setFloat32:function(e,t){q(this,4,e,B,t,arguments[2])},setFloat64:function(e,t){q(this,8,e,V,t,arguments[2])}});y(E,"ArrayBuffer"),y(S,"DataView"),s(S[g],i.VIEW,!0),t.ArrayBuffer=E,t.DataView=S},function(e,t,n){var r=n(65),o=n(34);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){"use strict";var r=n(82),o=n(66).getWeak,a=n(27),i=n(26),s=n(83),u=n(96),l=n(87),c=n(46),f=n(75),d=l(5),p=l(6),h=0,m=function(e){return e._l||(e._l=new v)},v=function(){this.a=[]},y=function(e,t){return d(e.a,function(e){return e[0]===t})};v.prototype={get:function(e){var t=y(this,e);if(t)return t[1]},has:function(e){return!!y(this,e)},set:function(e,t){var n=y(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,a){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=h++,e._l=void 0,null!=r&&u(r,n,e[a],e)});return r(l.prototype,{delete:function(e){if(!i(e))return!1;var n=o(e);return!0===n?m(f(this,t)).delete(e):n&&c(n,this._i)&&delete n[this._i]},has:function(e){if(!i(e))return!1;var n=o(e);return!0===n?m(f(this,t)).has(e):n&&c(n,this._i)}}),l},def:function(e,t,n){var r=o(a(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=i(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))o.call(n,c)&&(u[c]=n[c]);if(r){s=r(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(11);t.default=function(){return o.a.createElement("h3",{className:"text-center",tabIndex:"0"},a.a.labelBanReject.text)}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(11).a.labelNoFlash,i=a.title,s=a.button,u="http://get.adobe.com/flashplayer/";t.default=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,i),o.a.createElement("br",null),o.a.createElement("a",{id:"ViewInApp",href:u,target:"_blank",rel:"noreferrer noopener"},s))}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(11);t.default=function(){return o.a.createElement("h3",{className:"text-center",tabIndex:"0"},a.a.labelGeolock.text)}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(9),i=n(16),s=n(1),u=n.n(s),l=n(7),c=n(6),f=n(50),d=n(37);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var g=Object(l.a)("ui/components/locks/Hashlock"),b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),m(this,v(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props,t=e.setHash,n=e.hash;window.hashPass=function(e,n){g.debug("hash response ",e),t(e,n)},window.saveHash=function(e){g.debug("hash response",e),f.a.saveHashToLocalStorage({hash:e})},window.hasStoredHash=function(){return n||f.a.getHashFromLocalStorage()},window.retryHash=function(){var e=f.a.getHashFromLocalStorage();t(e)}}},{key:"componentWillUnmount",value:function(){window.hashPass=function(){},window.saveHash=function(){},window.hasStoredHash=function(){},window.retryHash=function(){}}},{key:"render",value:function(){var e=this.props.url;return o.a.createElement("iframe",{title:"hashlock",id:"Hashlock",src:E(e),frameBorder:"no",webkitallowfullscreen:"true",allowFullScreen:!0})}}])&&h(n.prototype,a),i&&h(n,i),t}();function E(e){var t=new URL(e,window.location.origin);return t.searchParams.set("ustreamContentType",c.a.app()),t.searchParams.set("ustreamContentId",c.a.id()),t}b.propTypes={url:u.a.string.isRequired,hash:u.a.string.isRequired,setHash:u.a.func.isRequired},t.default=Object(a.b)(function(e){return{hash:e.ums.hash}},function(e){return{setHash:Object(i.bindActionCreators)(d.a.addHash,e)}})(b)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(11);t.default=function(){return o.a.createElement("h3",{className:"text-center",tabIndex:"0"},a.a.labelIplock.text)}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(11);t.default=function(e){var t=e.messageToken,n=a.a.labelNoTranscoded.text;return"video.nonexistent"===t?n=a.a.labelNoTranscoded.video:"channel.nonexistent"===t&&(n=a.a.labelNoTranscoded.channel),o.a.createElement("h3",{tabIndex:"0"},n)}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(11),i=a.a.labelNotUUMF.text,s=i.substring(0,i.indexOf("#")),u=i.match(/(?:##)(\w+)(?:##)/)[1];t.default=function(){return o.a.createElement("div",null,o.a.createElement("p",null,a.a.labelNotUUMF.lead),o.a.createElement("p",null,o.a.createElement("strong",null,s,o.a.createElement("a",{href:a.a.channelUrl,className:"link"},u))))}},function(e,t,n){"use strict";n.r(t),n.d(t,"OffairContainer",function(){return d});var r=n(0),o=n.n(r),a=n(9),i=n(1),s=n.n(i),u=n(104),l=n(11),c=n(14),f=n(10);function d(e){var t=e.title,n=e.label,r=e.contentLabel;return o.a.createElement(u.default,{title:t,label:n,ariaLabel:r})}d.defaultProps={title:null,label:l.a.labelOffline.text,contentLabel:""},d.propTypes={title:s.a.string,label:s.a.string,contentLabel:s.a.string},t.default=Object(a.b)(function(e){return{title:e.content.title,contentLabel:Object(c.a)(e,!f.a.viewingexperience)}})(d)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(9),i=n(16),s=n(37),u=n(11);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?d(e):t}(this,f(t).call(this,e))).onInputChange=n.onInputChange.bind(d(n)),n.onSubmit=n.onSubmit.bind(d(n)),n.state={password:""},n}var n,a,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(t,r["Component"]),n=t,(a=[{key:"onInputChange",value:function(e){this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){e.preventDefault(),(0,this.props.setPassword)(this.state.password)}},{key:"render",value:function(){return o.a.createElement("form",{id:"Password",onSubmit:this.onSubmit},o.a.createElement("h3",{className:"text-left"},u.a.labelPasslock.lead),o.a.createElement("p",{className:"text-left"},"Please enter password to watch"),o.a.createElement("div",{className:"pwfield-and-button"},o.a.createElement("div",{className:"input-bg"},o.a.createElement("input",{type:"password",placeholder:u.a.labelPasslock.placeholder,autoComplete:"off",onChange:this.onInputChange,value:this.state.password,"aria-label":u.a.labelPasslock.placeholder})),o.a.createElement("button",{type:"submit"},u.a.labelPasslock.submit)))}}])&&c(n.prototype,a),i&&c(n,i),t}();t.default=Object(a.b)(null,function(e){return{setPassword:Object(i.bindActionCreators)(s.a.addPassword,e)}})(h)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(105),i="Continue watching by clicking here",s="We're sorry but this video is not available for embedding on this domain.";t.default=function(e){var t=e.redirectUrl;return"refererLock.maxViewers"===e.messageToken?o.a.createElement(a.default,null):o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:"text-center"},s),t&&o.a.createElement("div",{className:"referrer-icon-container"},o.a.createElement("a",{className:"bttn",href:t},i)))}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(11),i=n(1),s=n.n(i);function u(e){var t="private"===e.reason?a.a.labelUnAuth.private:a.a.labelUnAuth.label;return o.a.createElement("h3",{className:"text-center",tabIndex:"0"},t)}u.propTypes={reason:s.a.string},u.defaultProps={reason:""},t.default=u},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(11);t.default=function(){return o.a.createElement("h3",{tabIndex:"0"},a.a.labelUnsupported.text)}},function(e,t,n){var r,o,a,i,s,u,l,c,f,d;r=function(){return{NAME:"Central Logging JS Client",VERSION:"dev",CORRELATION_ID_LENGTH:32,UUID_LENGTH:32,MAX_REQUEST_INTERVAL:6e4,XHR_SEND_TIMEOUT:1e3,XHR_RETRY_TIMEOUT:2e3,XHR_MAX_RETRY:5,errors:{WRONG_CONFIG:"wrongConfig",PAYLOAD_TOO_LARGE:"payloadTooLarge",XHR_TIMEOUT:"xhrTimeout",XHR_ERROR:"xhrError",SERVER_ERROR:"serverError"}}}.apply(t,[]),o=function(){var e,t,n,r,o,a,i,s="undefined",u="function",l="object",c="Shockwave Flash",f="ShockwaveFlash.ShockwaveFlash",d="application/x-shockwave-flash",p=navigator,h=p.mimeTypes,m=p.userAgent.toLowerCase(),v=p.platform.toLowerCase(),y=window.location;function g(){var e=/android/i.test(m);return e&&(e=m.match(/android (\d+)(?:\.(\d+))?(?:\.(\d+))?/i)).shift(),e}function b(){var e=/iphone|ipad|ipod/.test(m);return e&&(e=m.match(/os (\d*)?\_?(\d*)?\_?(\d*)/i)).shift(),e}function E(){return/BB10(.*)Mobile/i.test(m)}function S(){return m.indexOf("playstation")>-1}function T(){var e=m.match(/Chrome\/(\d+(?:\.\d+)*)/i);return e=!(!e||O()||w())&&e[1].split(".")}function O(){var e=m.match(/OPR\/(\d+(?:\.\d+)*)/i);return e=e?e[1].split("."):!(!window.opera||!window.opera.version)&&window.opera.version().split(".")}function C(){var e=document.getElementsByTagName("html")[0].className.indexOf("ie ")>-1,t=m.match(/Trident\/(\d+)/i),n=m.match(/MSIE (\d+(?:\.\d+)*)/i);return e=e?!n||n[1].split("."):!!t&&[11,0]}function w(){var e=m.match(/Edge\/(\d+(?:\.\d+)*)/i);return!!e&&e[1].split(".")}function _(e){var t=typeof window.WebSocket;return(t=t===u||t===l)&&typeof window.WebSocket.prototype.CLOSING===s&&(t=!1),e&&!t&&(e[0]>4||4===e[0]&&e[1]>2)&&(t=!0),t}function P(){var e=""+Math.random();try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}function I(){var e=!1;try{e=document.createElement("input").hasOwnProperty("placeholder")}catch(t){e=!1}return e}function L(){var e,t;if(typeof window.ActiveXObject===s)return!1;try{if(e=new window.ActiveXObject(f))return!(t=e.GetVariable("$version"))||(t=t.split(" ")[1].split(","),[parseInt(t[0],10),parseInt(t[1],10),parseInt(t[2],10)])}catch(e){}return!1}return i=b(),{w3:typeof document.getElementById!==s&&typeof document.getElementsByTagName!==s&&typeof document.createElement!==s,win:/win/.test(v||m),mac:/mac/.test(v||m),desktop:!(g()||b()||E()||S()),ios:i,android:g(),blackberry:E(),playstation:S(),chrome:T(),opera:O(),ff:(a=m.match(/Firefox\/(\d+(?:\.\d+)*)/i),!!a&&a[1].split(".")),safari:(r=m.match(/Safari/i),o=m.match(/Version\/(\d+(?:\.\d+)*)/i),r=!(!r||O()||T()||w())&&(!o||o[1].split("."))),ie:C(),phantomJS:/PhantomJS/.test(m),ssl:/https/.test(y.protocol),wk:!!/webkit/.test(m)&&parseFloat(m.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),edgeIe:w(),ws:_(i),storage:P(),placeholder:I(),touchEvents:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,swf:(n=[0,0,0],typeof p.plugins!==s&&typeof p.plugins[c]===l?!(t=p.plugins[c].description)||typeof h!==s&&h[d]&&!h[d].enabledPlugin||(t=t.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),n[0]=+t.replace(/^(.*)\..*$/,"$1"),n[1]=+t.replace(/^.*\.(.*)\s.*$/,"$1"),n[2]=/[a-zA-Z]/.test(t)?+t.replace(/^.*[a-zA-Z]+(.*)$/,"$1"):0):L()&&(n=L()),"000"===n.join("")&&(n=!1),n),flashPPAPI:(e=h&&h[d]&&h[d].enabledPlugin&&h[d].enabledPlugin.filename||"","pepflashplayer.dll"===(e=e.toLowerCase())||"libpepflashplayer.so"===e||"pepperflashplayer.plugin"===e||"chrome.plugin"===e.slice(-13)),flashActiveX:L(),nav:{appCodeName:p.appCodeName,appName:p.appName,appVersion:p.appVersion,cpuClass:p.cpuClass,platform:p.platform,product:p.product,userAgent:p.userAgent,vendor:p.vendor,vendorSub:p.vendorSub}}}.apply(t,[]),a=function(e){var t="_rpin.0";return e.storage&&((t=localStorage.getItem("umte_rpin"))||(t="_rpin."+(""+Math.random()).substr(2),localStorage.setItem("umte_rpin",t))),t}.apply(t,[o]),i=function(){return{random:function(e,t,n,r){var o,a="",i="";if((void 0===t||t)&&(a+="abcdefghijklmnopqrstuvwxyz"),(void 0===t||n)&&(a+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),(void 0===t||r)&&(a+="0123456789"),a.length)for(o=0;o<e;++o)i+=a.substr(Math.floor(a.length*Math.random()),1);return i}}}.apply(t,[]),s=function(e){var t,n={domain:o("string"),subdomain:function(e){return"string"==typeof e&&-1===e.indexOf(".")},tag:function(e){return"string"==typeof e&&e.indexOf(".")>-1},type:o("string"),extra:function(e){if(void 0===e)return!0;if("object"!=typeof e)return!1;for(var t in e)if(e.hasOwnProperty(t)&&e[t]instanceof Object)return!1;return!0},debug:o("boolean"),callback:(t="function",function(e){return typeof e===t})};function r(t,n){var r={type:e.errors.WRONG_CONFIG,propertyName:t};if(!n)throw new Error(r);n(r)}function o(e){return function(t){return void 0===t||typeof t===e}}return function(e){var t=e&&e.callback;return function e(t,n,o,a){var i,s;if("object"!=typeof n)return r(t,a),!1;for(i in o)if(o.hasOwnProperty(i))if("object"==typeof(s=o[i]))e(i,n[i],s);else if(!s(n[i]))return r(i,a),!1;return!0}("config",e,n,t)}}.apply(t,[r]),u=function(){return{defaultsDeep:function e(t,n){if(arguments.length<2)return t;for(var r=1;r<arguments.length;++r)for(var o in n=arguments[r])n.hasOwnProperty(o)&&void 0!==n[o]&&void 0===t[o]&&(t[o]="object"==typeof n[o]?e({},n[o]):n[o]);return t}}}.apply(t,[]),l=function(e,t,n,r){var o=window.ustream&&window.ustream.vars;function a(){var t={win:"Windows",mac:"MacOS",ios:"iOS",android:"Android",blackberry:"BlackBerry",playstation:"Playstation"};for(var n in t)if(t.hasOwnProperty(n)&&e[n])return t[n];return"unknown"}function i(){var t={chrome:"Chrome",opera:"Opera",ff:"Firefox",safari:"Safari",edgeIe:"Edge",ie:"Internet Explorer"};for(var n in t)if(t.hasOwnProperty(n)&&e[n])return t[n]+(e[n].length?" "+e[n][0]:"");return"unknown"}return function(s,u,l,c){var f={u_corr_id:s};return r.defaultsDeep(f,function(t,r){switch(r){case"web":return{platform:"web",device_type:e.desktop?"desktop":"mobile",operation_system:a(),os_name:a(),os_version:(u=navigator.userAgent.match(/\((.*?)\)/),u&&u[1]&&(s=u[1].match(/\d.*/))&&s[0]||"unknown"),screen_size:window.screen&&window.screen.width&&window.screen.height?window.screen.width+"x"+window.screen.height:"unknown",browser:i(),locale:navigator.language||navigator.browserLanguage||navigator.systemLanguage||navigator.userLanguage||"unknown",rpin:n,user_id:o&&o.loggedInUserId,organization_id:o&&o.organizationId,login_id:o&&o.orgUserId,session_id:t};default:return{}}var s,u}(s,u),function(e){return e?{u_logger:t.NAME+" "+t.VERSION}:{}}(c),l),f}}.apply(t,[o,r,a,u]),c=function(e,t,n){return function(r,o){var a,i,s,u,l,c=[];for(o="[object Array]"===Object.prototype.toString.call(o)?o:[o],a=0;a<o.length;++a)l={u_uuid:n.random(e.UUID_LENGTH)},"object"==typeof o[a]?(i=o[a].timestamp?new Date(o[a].timestamp):new Date,s=o[a].message,u=o[a].data||{}):(i=new Date,s=o[a],u={}),i=i.getTime(),t.defaultsDeep(l,{u_msg:s,u_ts:Math.round(i/1e3),u_ts_msec:i},r,u),c.push(l);return c}}.apply(t,[r,u,i]),f=function(e){var t="//%subdomain%.%domain%/%tag%/",n="services.video.ibm.com";return{create:function(r,o,a,i,s){var u,l,c=t.replace("%domain%",r||n).replace("%subdomain%",o).replace("%tag%",a),f=[],d=[],p=[],h=0,m={},v=524288,y=50;function g(e,t){var n,r;for(n=0;n<e.length;++n)r=e[n].u_uuid,d.push(e[n]),t&&(m[r]=t);!u&&d.length&&(l&&(clearTimeout(l),window.removeEventListener("beforeunload",b)),l=setTimeout(b,O()),window.addEventListener("beforeunload",b))}function b(){!function(){var e,t,n=0;for(f=[],t=0;t<d.length;++t)e=JSON.stringify(d[t]).length,n+e<=v&&(f=f.concat(d.splice(t--,1)),n+=e)}(),f.length?C():d.length&&T(e.errors.PAYLOAD_TOO_LARGE)}function E(){l=0,h=0}function S(){u&&(u.onload=null,u.onerror=null,u.ontimeout=null,u.abort(),u=null)}function T(e,t){var n,r;i(e=e||!1,t=!e&&t);for(var o=0;o<t.length;++o)n=t[o].u_uuid,(r=m[n])&&r.call(null,e,t),delete m[n]}function O(){var t,n=(new Date).getTime();for(t=h?e.XHR_RETRY_TIMEOUT<<h:e.XHR_SEND_TIMEOUT;p.length&&p[0].getTime()+e.MAX_REQUEST_INTERVAL<n;)p.shift();return t=p.length<y?t:Math.max(t,e.MAX_REQUEST_INTERVAL)}function C(){var e=!s||!s.hasOwnProperty("async")||s.async;(u=new XMLHttpRequest).onload=_,u.onerror=I,u.ontimeout=P,u.open("POST",c,e),u.setRequestHeader("Content-Type","application/json"),u.send(JSON.stringify(f)),p.push(new Date)}function w(t){h<e.XHR_MAX_RETRY?(l=setTimeout(function(){S(),C()},O()),++h):(E(),T(t))}function _(){switch(E(),u.status){case 413:f.length>1?(v=Math.round(v/2),d=f.concat(d)):T(e.errors.PAYLOAD_TOO_LARGE);break;case 200:T(!1,f),S(),g([]);break;default:T(e.errors.SERVER_ERROR)}}function P(){w(e.errors.XHR_TIMEOUT)}function I(){w(e.errors.XHR_ERROR)}return g}}}.apply(t,[r]),void 0===(d=function(e,t,n,r,o,a,i){return{create:function(s){var u,l,c,f=n.random(e.CORRELATION_ID_LENGTH);function d(e,t){var n=a(l,e);c(n,t)}return r(s)&&(c=i.create(s.domain,s.subdomain,s.tag,s.callback,s.xhrOptions),l=o(f,s.type,s.extra,s.debug),u={send:d,rpin:t,correlationId:f}),u},rpin:t,version:e.VERSION,errors:e.errors}}.apply(t,[r,a,i,s,l,c,f]))||(e.exports=d)},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(16).compose;t.__esModule=!0,t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer=function(){return function(e){return e}}},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(e){return function(e){if(Array.isArray(e))return e}(e)||a(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}n.r(t),t.default=function(e){var t={},n=e.getState();function a(e,t){var n=o(t),r=n[0],i=n.slice(1);return void 0===e[r]||null===e[r]?null:i.length?a(e[r],i):e[r]}return e.subscribe(function(){var r=e.getState(),o=function(e){return Object.keys(t).filter(function(t){var r=t.split(".");return a(n,r)!==a(e,r)})}(r),i=Object.keys(t),s=o.filter(function(e){return i.indexOf(e)>-1});n=r,s.forEach(function(e){t[e].forEach(function(t){t(a(n,e.split(".")))})})}),{subscribe:function(e,n){if(void 0===e)throw new Error("Key must exist");if("function"!=typeof n)throw new Error("Listener should be a function");return t[e]=t[e]?r(t[e]).concat([n]):[n],function(){var r=t[e].indexOf(n);r>-1&&t[e].splice(r,1)}},dispatch:function(t){return e.dispatch(t)},getState:function(){return n}}}}])},function(e,t,n){e.exports=function(){return n(343)('!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){var n;void 0===(n=function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,r){"use strict";var n=r(1),i=function(t,e,r,n){if(t)return r(t);if(n&&n.skipBlob)r(null,e);else{var i=new Blob([e],{type:"image/jpeg"});r(null,URL.createObjectURL(i))}},o=function(t,e,r,i){i(null,n.AES_CBC.decrypt(t,e,!0,r))};t.exports=function(t,e,r,n){var s=t.subarray(0,16),u=t.subarray(16),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;i(t,e,r,n)};!function(t,e){if("function"!=typeof TextEncoder){var r=new FileReader;r.onload=function(){var t=new Uint8Array(this.result);e(t)},r.readAsArrayBuffer(new Blob([t]))}else{var n=new TextEncoder("utf-8");e(n.encode(t))}}(e,function(t){var e=n&&n.skipNativeCrypto;"undefined"!=typeof crypto&&crypto.subtle&&!e?function(t,e,r,n){crypto.subtle.importKey("raw",e,{name:"AES-CBC"},!1,["decrypt"]).then(function(e){return crypto.subtle.decrypt({name:"AES-CBC",iv:r},e,t)}).then(function(t){n(null,new Uint8Array(t))}).catch(function(t){n(t)})}(u,t,s,a):o(u,t,s,a)})}},function(t,e,r){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s,u,a,f=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/*! asmCrypto v0.21.0, (c) 2018 asmCrypto.js, opensource.org/licenses/MIT */!function(r,n){"object"===c(e)&&void 0!==t?n(e):(u=[e],void 0!==(a="function"==typeof(s=n)?s.apply(e,u):s)&&(t.exports=a))}(0,function(t){function e(){var t=Error.apply(this,arguments);this.message=t.message,this.stack=t.stack}function r(){var t=Error.apply(this,arguments);this.message=t.message,this.stack=t.stack}function s(){var t=Error.apply(this,arguments);this.message=t.message,this.stack=t.stack}function u(t){return t instanceof Uint8Array}function a(t,e,r,n,i){var o=t.length-e,s=o<i?o:i;return t.set(r.subarray(n,n+s),e),s}e.prototype=Object.create(Error.prototype,{name:{value:"IllegalStateError"}}),r.prototype=Object.create(Error.prototype,{name:{value:"IllegalArgumentError"}}),s.prototype=Object.create(Error.prototype,{name:{value:"SecurityError"}});\n/**\n   * @file {@link http://asmjs.org Asm.js} implementation of the {@link https://en.wikipedia.org/wiki/Advanced_Encryption_Standard Advanced Encryption Standard}.\n   * @author Artem S Vybornov <vybornov@gmail.com>\n   * @license MIT\n   */\nvar c=function(){function t(){i=[],o=[];var t,e,r=1;for(t=0;t<255;t++)i[t]=r,e=128&r,r<<=1,r&=255,128===e&&(r^=27),r^=i[t],o[i[t]]=t;i[255]=i[0],o[0]=0,c=!0}function e(t,e){var r=i[(o[t]+o[e])%255];return 0!==t&&0!==e||(r=0),r}function r(t){var e=i[255-o[t]];return 0===t&&(e=0),e}function n(){c||t(),s=[],u=[],a=[[],[],[],[]],f=[[],[],[],[]];for(var n=0;n<256;n++){var i=function(t){var e,n,i;for(n=i=r(t),e=0;e<4;e++)i^=n=255&(n<<1|n>>>7);return 99^i}(n);s[n]=i,u[i]=n,a[0][n]=e(2,i)<<24|i<<16|i<<8|e(3,i),f[0][i]=e(14,n)<<24|e(9,n)<<16|e(13,n)<<8|e(11,n);for(var o=1;o<4;o++)a[o][n]=a[o-1][n]>>>8|a[o-1][n]<<24,f[o][i]=f[o-1][i]>>>8|f[o-1][i]<<24}}var i,o,s,u,a,f,c=!1,l=function(t,e){n();var r=new Uint32Array(e);r.set(s,512),r.set(u,768);for(var i=0;i<4;i++)r.set(a[i],4096+1024*i>>2),r.set(f[i],8192+1024*i>>2);var o=function(t,e,r){"use asm";var n=0,i=0,o=0,s=0,u=0,a=0,f=0,c=0,l=0,p=0,h=0,y=0,v=0,d=0,_=0,w=0,b=0,E=0,g=0,A=0,m=0;var S=new t.Uint32Array(r),k=new t.Uint8Array(r);function C(t,e,r,u,a,f,c,l){t=t|0;e=e|0;r=r|0;u=u|0;a=a|0;f=f|0;c=c|0;l=l|0;var p=0,h=0,y=0,v=0,d=0,_=0,w=0,b=0;p=r|1024,h=r|2048,y=r|3072;a=a^S[(t|0)>>2],f=f^S[(t|4)>>2],c=c^S[(t|8)>>2],l=l^S[(t|12)>>2];for(b=16;(b|0)<=u<<4;b=b+16|0){v=S[(r|a>>22&1020)>>2]^S[(p|f>>14&1020)>>2]^S[(h|c>>6&1020)>>2]^S[(y|l<<2&1020)>>2]^S[(t|b|0)>>2],d=S[(r|f>>22&1020)>>2]^S[(p|c>>14&1020)>>2]^S[(h|l>>6&1020)>>2]^S[(y|a<<2&1020)>>2]^S[(t|b|4)>>2],_=S[(r|c>>22&1020)>>2]^S[(p|l>>14&1020)>>2]^S[(h|a>>6&1020)>>2]^S[(y|f<<2&1020)>>2]^S[(t|b|8)>>2],w=S[(r|l>>22&1020)>>2]^S[(p|a>>14&1020)>>2]^S[(h|f>>6&1020)>>2]^S[(y|c<<2&1020)>>2]^S[(t|b|12)>>2];a=v,f=d,c=_,l=w}n=S[(e|a>>22&1020)>>2]<<24^S[(e|f>>14&1020)>>2]<<16^S[(e|c>>6&1020)>>2]<<8^S[(e|l<<2&1020)>>2]^S[(t|b|0)>>2],i=S[(e|f>>22&1020)>>2]<<24^S[(e|c>>14&1020)>>2]<<16^S[(e|l>>6&1020)>>2]<<8^S[(e|a<<2&1020)>>2]^S[(t|b|4)>>2],o=S[(e|c>>22&1020)>>2]<<24^S[(e|l>>14&1020)>>2]<<16^S[(e|a>>6&1020)>>2]<<8^S[(e|f<<2&1020)>>2]^S[(t|b|8)>>2],s=S[(e|l>>22&1020)>>2]<<24^S[(e|a>>14&1020)>>2]<<16^S[(e|f>>6&1020)>>2]<<8^S[(e|c<<2&1020)>>2]^S[(t|b|12)>>2]}function U(t,e,r,n){t=t|0;e=e|0;r=r|0;n=n|0;C(0,2048,4096,m,t,e,r,n)}function O(t,e,r,n){t=t|0;e=e|0;r=r|0;n=n|0;var o=0;C(1024,3072,8192,m,t,n,r,e);o=i,i=s,s=o}function x(t,e,r,l){t=t|0;e=e|0;r=r|0;l=l|0;C(0,2048,4096,m,u^t,a^e,f^r,c^l);u=n,a=i,f=o,c=s}function j(t,e,r,l){t=t|0;e=e|0;r=r|0;l=l|0;var p=0;C(1024,3072,8192,m,t,l,r,e);p=i,i=s,s=p;n=n^u,i=i^a,o=o^f,s=s^c;u=t,a=e,f=r,c=l}function B(t,e,r,l){t=t|0;e=e|0;r=r|0;l=l|0;C(0,2048,4096,m,u,a,f,c);u=n=n^t,a=i=i^e,f=o=o^r,c=s=s^l}function T(t,e,r,l){t=t|0;e=e|0;r=r|0;l=l|0;C(0,2048,4096,m,u,a,f,c);n=n^t,i=i^e,o=o^r,s=s^l;u=t,a=e,f=r,c=l}function P(t,e,r,l){t=t|0;e=e|0;r=r|0;l=l|0;C(0,2048,4096,m,u,a,f,c);u=n,a=i,f=o,c=s;n=n^t,i=i^e,o=o^r,s=s^l}function D(t,e,r,u){t=t|0;e=e|0;r=r|0;u=u|0;C(0,2048,4096,m,l,p,h,y);y=~w&y|w&y+1;h=~_&h|_&h+((y|0)==0);p=~d&p|d&p+((h|0)==0);l=~v&l|v&l+((p|0)==0);n=n^t;i=i^e;o=o^r;s=s^u}function M(t,e,r,n){t=t|0;e=e|0;r=r|0;n=n|0;var i=0,o=0,s=0,l=0,p=0,h=0,y=0,v=0,d=0,_=0;t=t^u,e=e^a,r=r^f,n=n^c;i=b|0,o=E|0,s=g|0,l=A|0;for(;(d|0)<128;d=d+1|0){if(i>>>31){p=p^t,h=h^e,y=y^r,v=v^n}i=i<<1|o>>>31,o=o<<1|s>>>31,s=s<<1|l>>>31,l=l<<1;_=n&1;n=n>>>1|r<<31,r=r>>>1|e<<31,e=e>>>1|t<<31,t=t>>>1;if(_)t=t^3774873600}u=p,a=h,f=y,c=v}function z(t){t=t|0;m=t}function L(t,e,r,u){t=t|0;e=e|0;r=r|0;u=u|0;n=t,i=e,o=r,s=u}function R(t,e,r,n){t=t|0;e=e|0;r=r|0;n=n|0;u=t,a=e,f=r,c=n}function q(t,e,r,n){t=t|0;e=e|0;r=r|0;n=n|0;l=t,p=e,h=r,y=n}function H(t,e,r,n){t=t|0;e=e|0;r=r|0;n=n|0;v=t,d=e,_=r,w=n}function F(t,e,r,n){t=t|0;e=e|0;r=r|0;n=n|0;y=~w&y|w&n,h=~_&h|_&r,p=~d&p|d&e,l=~v&l|v&t}function I(t){t=t|0;if(t&15)return-1;k[t|0]=n>>>24,k[t|1]=n>>>16&255,k[t|2]=n>>>8&255,k[t|3]=n&255,k[t|4]=i>>>24,k[t|5]=i>>>16&255,k[t|6]=i>>>8&255,k[t|7]=i&255,k[t|8]=o>>>24,k[t|9]=o>>>16&255,k[t|10]=o>>>8&255,k[t|11]=o&255,k[t|12]=s>>>24,k[t|13]=s>>>16&255,k[t|14]=s>>>8&255,k[t|15]=s&255;return 16}function N(t){t=t|0;if(t&15)return-1;k[t|0]=u>>>24,k[t|1]=u>>>16&255,k[t|2]=u>>>8&255,k[t|3]=u&255,k[t|4]=a>>>24,k[t|5]=a>>>16&255,k[t|6]=a>>>8&255,k[t|7]=a&255,k[t|8]=f>>>24,k[t|9]=f>>>16&255,k[t|10]=f>>>8&255,k[t|11]=f&255,k[t|12]=c>>>24,k[t|13]=c>>>16&255,k[t|14]=c>>>8&255,k[t|15]=c&255;return 16}function V(){U(0,0,0,0);b=n,E=i,g=o,A=s}function G(t,e,r){t=t|0;e=e|0;r=r|0;var u=0;if(e&15)return-1;while((r|0)>=16){X[t&7](k[e|0]<<24|k[e|1]<<16|k[e|2]<<8|k[e|3],k[e|4]<<24|k[e|5]<<16|k[e|6]<<8|k[e|7],k[e|8]<<24|k[e|9]<<16|k[e|10]<<8|k[e|11],k[e|12]<<24|k[e|13]<<16|k[e|14]<<8|k[e|15]);k[e|0]=n>>>24,k[e|1]=n>>>16&255,k[e|2]=n>>>8&255,k[e|3]=n&255,k[e|4]=i>>>24,k[e|5]=i>>>16&255,k[e|6]=i>>>8&255,k[e|7]=i&255,k[e|8]=o>>>24,k[e|9]=o>>>16&255,k[e|10]=o>>>8&255,k[e|11]=o&255,k[e|12]=s>>>24,k[e|13]=s>>>16&255,k[e|14]=s>>>8&255,k[e|15]=s&255;u=u+16|0,e=e+16|0,r=r-16|0}return u|0}function K(t,e,r){t=t|0;e=e|0;r=r|0;var n=0;if(e&15)return-1;while((r|0)>=16){Z[t&1](k[e|0]<<24|k[e|1]<<16|k[e|2]<<8|k[e|3],k[e|4]<<24|k[e|5]<<16|k[e|6]<<8|k[e|7],k[e|8]<<24|k[e|9]<<16|k[e|10]<<8|k[e|11],k[e|12]<<24|k[e|13]<<16|k[e|14]<<8|k[e|15]);n=n+16|0,e=e+16|0,r=r-16|0}return n|0}var X=[U,O,x,j,B,T,P,D];var Z=[x,M];return{set_rounds:z,set_state:L,set_iv:R,set_nonce:q,set_mask:H,set_counter:F,get_state:I,get_iv:N,gcm_init:V,cipher:G,mac:K}}({Uint8Array:Uint8Array,Uint32Array:Uint32Array},t,e);return o.set_key=function(t,e,n,i,u,a,c,l,p){var h=r.subarray(0,60),y=r.subarray(256,316);h.set([e,n,i,u,a,c,l,p]);for(var v=t,d=1;v<4*t+28;v++){var _=h[v-1];(v%t==0||8===t&&v%t==4)&&(_=s[_>>>24]<<24^s[_>>>16&255]<<16^s[_>>>8&255]<<8^s[255&_]),v%t==0&&(_=_<<8^_>>>24^d<<24,d=d<<1^(128&d?27:0)),h[v]=h[v-t]^_}for(var w=0;w<v;w+=4)for(var b=0;b<4;b++){_=h[v-(4+w)+(4-b)%4];y[w+b]=w<4||w>=v-4?_:f[0][s[_>>>24]]^f[1][s[_>>>16&255]]^f[2][s[_>>>8&255]]^f[3][s[255&_]]}o.set_rounds(t+5)},o};return l.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},l.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},l.MAC={CBC:0,GCM:1},l.HEAP_DATA=16384,l}(),l=new Uint8Array(1048576),p=c(null,l.buffer),h=function(){function t(e,r,n,i,s){o(this,t),this.nonce=null,this.counter=0,this.counterSize=0,this.heap=function(t,e,r){var n=e?e.byteLength:r||65536;if(4095&n||n<=0)throw new Error("heap size must be a positive integer and a multiple of 4096");return e||new t(new ArrayBuffer(n))}(Uint8Array,i).subarray(c.HEAP_DATA),this.asm=s||c(null,this.heap.buffer),this.mode=null,this.key=null,this.AES_reset(e,r,n)}return f(t,[{key:"AES_set_key",value:function(t){if(void 0!==t){if(!u(t))throw new TypeError("unexpected key type");var e=t.length;if(16!==e&&24!==e&&32!==e)throw new r("illegal key size");var n=new DataView(t.buffer,t.byteOffset,t.byteLength);this.asm.set_key(e>>2,n.getUint32(0),n.getUint32(4),n.getUint32(8),n.getUint32(12),e>16?n.getUint32(16):0,e>16?n.getUint32(20):0,e>24?n.getUint32(24):0,e>24?n.getUint32(28):0),this.key=t}else if(!this.key)throw new Error("key is required")}},{key:"AES_CTR_set_options",value:function(t,e,n){if(void 0!==n){if(n<8||n>48)throw new r("illegal counter size");this.counterSize=n;var i=Math.pow(2,n)-1;this.asm.set_mask(0,0,i/4294967296|0,0|i)}else this.counterSize=n=48,this.asm.set_mask(0,0,65535,4294967295);if(void 0===t)throw new Error("nonce is required");if(!u(t))throw new TypeError("unexpected nonce type");var o=t.length;if(!o||o>16)throw new r("illegal nonce size");this.nonce=t;var s=new DataView(new ArrayBuffer(16));if(new Uint8Array(s.buffer).set(t),this.asm.set_nonce(s.getUint32(0),s.getUint32(4),s.getUint32(8),s.getUint32(12)),void 0!==e){if(!function(t){return"number"==typeof t}(e))throw new TypeError("unexpected counter type");if(e<0||e>=Math.pow(2,n))throw new r("illegal counter value");this.counter=e,this.asm.set_counter(0,0,e/4294967296|0,0|e)}else this.counter=0}},{key:"AES_set_iv",value:function(t){if(void 0!==t){if(!u(t))throw new TypeError("unexpected iv type");if(16!==t.length)throw new r("illegal iv size");var e=new DataView(t.buffer,t.byteOffset,t.byteLength);this.iv=t,this.asm.set_iv(e.getUint32(0),e.getUint32(4),e.getUint32(8),e.getUint32(12))}else this.iv=null,this.asm.set_iv(0,0,0,0)}},{key:"AES_set_padding",value:function(t){this.padding=void 0===t||!!t}},{key:"AES_reset",value:function(t,e,r){return this.result=null,this.pos=0,this.len=0,this.AES_set_key(t),this.AES_set_iv(e),this.AES_set_padding(r),this}},{key:"AES_Encrypt_process",value:function(t){if(!u(t))throw new TypeError("data isn\'t of expected type");for(var e=this.asm,r=this.heap,n=c.ENC[this.mode],i=c.HEAP_DATA,o=this.pos,s=this.len,f=0,l=t.length||0,p=0,h=0,y=new Uint8Array(s+l&-16);l>0;)s+=h=a(r,o+s,t,f,l),f+=h,l-=h,(h=e.cipher(n,i+o,s))&&y.set(r.subarray(o,o+h),p),p+=h,h<s?(o+=h,s-=h):(o=0,s=0);return this.result=y,this.pos=o,this.len=s,this}},{key:"AES_Encrypt_finish",value:function(t){var e=null,n=0;void 0!==t&&(n=(e=this.AES_Encrypt_process(t).result).length);var i=this.asm,o=this.heap,s=c.ENC[this.mode],u=c.HEAP_DATA,a=this.pos,f=this.len,l=16-f%16,p=f;if(this.hasOwnProperty("padding")){if(this.padding){for(var h=0;h<l;++h)o[a+f+h]=l;p=f+=l}else if(f%16)throw new r("data length must be a multiple of the block size")}else f+=l;var y=new Uint8Array(n+p);return n&&y.set(e),f&&i.cipher(s,u+a,f),p&&y.set(o.subarray(a,a+p),n),this.result=y,this.pos=0,this.len=0,this}},{key:"AES_Decrypt_process",value:function(t){if(!u(t))throw new TypeError("data isn\'t of expected type");var e=this.asm,r=this.heap,n=c.DEC[this.mode],i=c.HEAP_DATA,o=this.pos,s=this.len,f=0,l=t.length||0,p=0,h=s+l&-16,y=0,v=0;this.padding&&(h-=y=s+l-h||16);for(var d=new Uint8Array(h);l>0;)s+=v=a(r,o+s,t,f,l),f+=v,l-=v,(v=e.cipher(n,i+o,s-(l?0:y)))&&d.set(r.subarray(o,o+v),p),p+=v,v<s?(o+=v,s-=v):(o=0,s=0);return this.result=d,this.pos=o,this.len=s,this}},{key:"AES_Decrypt_finish",value:function(t){var e=null,n=0;void 0!==t&&(n=(e=this.AES_Decrypt_process(t).result).length);var i=this.asm,o=this.heap,u=c.DEC[this.mode],a=c.HEAP_DATA,f=this.pos,l=this.len,p=l;if(l>0){if(l%16){if(this.hasOwnProperty("padding"))throw new r("data length must be a multiple of the block size");l+=16-l%16}if(i.cipher(u,a+f,l),this.hasOwnProperty("padding")&&this.padding){var h=o[f+p-1];if(h<1||h>16||h>p)throw new s("bad padding");for(var y=0,v=h;v>1;v--)y|=h^o[f+p-v];if(y)throw new s("bad padding");p-=h}}var d=new Uint8Array(n+p);return n>0&&d.set(e),p>0&&d.set(o.subarray(f,f+p),n),this.result=d,this.pos=0,this.len=0,this}}]),t}(),y=function(t){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments[3],u=arguments[4];o(this,e);var a=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,i,s,u));return a.mode="CBC",a.BLOCK_SIZE=16,a}return i(e,h),f(e,[{key:"encrypt",value:function(t){return this.AES_Encrypt_finish(t)}},{key:"decrypt",value:function(t){return this.AES_Decrypt_finish(t)}}]),e}(),v=function(t){function e(t,r,i,s,u){return o(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,i,s,u))}return i(e,y),f(e,[{key:"reset",value:function(t){return this.AES_reset(t,null,!0)}},{key:"process",value:function(t){return this.AES_Encrypt_process(t)}},{key:"finish",value:function(t){return this.AES_Encrypt_finish(t)}}]),e}(),d=function(t){function e(t,r,i,s,u){return o(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r,i,s,u))}return i(e,y),f(e,[{key:"reset",value:function(t){return this.AES_reset(t,null,!0)}},{key:"process",value:function(t){return this.AES_Decrypt_process(t)}},{key:"finish",value:function(t){return this.AES_Decrypt_finish(t)}}]),e}();y.encrypt=function(t,e,r,n){if(void 0===t)throw new SyntaxError("data required");if(void 0===e)throw new SyntaxError("key required");return new y(e,n,r,l,p).encrypt(t).result},y.decrypt=function(t,e,r,n){if(void 0===t)throw new SyntaxError("data required");if(void 0===e)throw new SyntaxError("key required");return new y(e,n,r,l,p).decrypt(t).result},t.IllegalStateError=e,t.IllegalArgumentError=r,t.SecurityError=s,t.AES_CBC=y,t.AES_CBC_Encrypt=v,t.AES_CBC_Decrypt=d,Object.defineProperty(t,"__esModule",{value:!0})})}])}.apply(e,[]))||(t.exports=n)},function(t,e,r){"use strict";r.r(e);var n=r(0),i=r.n(n);function o(t,e,r){!function(t,e){var r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType="arraybuffer",r.addEventListener("load",function(){var t=r.response;e(null,t)}),r.addEventListener("error",function(){e(new Error("Failed to fetch (".concat(r.statusText," ").concat(r.status,")")))}),r.send()}(t,function(t,n){if(t)r(t);else if(e){var o=new Uint8Array(n);i()(o,e,function(t,e){t?r(t):r(null,e.buffer)},{skipBlob:!0})}else r(null,n)})}self.addEventListener("message",function(t){var e=t.data,r=e.url,n=e.secret;o(r,void 0===n?null:n,function(t,e){t?self.postMessage({url:r,error:t.message,buffer:null}):self.postMessage({url:r,error:null,buffer:e},[e])})})}]);',null)}},function(e,t,n){var r=n(12);r(r.P,"Array",{copyWithin:n(145)}),n(72)("copyWithin")},function(e,t,n){e.exports=n(94)("native-function-to-string",Function.toString)},function(e,t,n){var r=n(12);r(r.P,"Array",{fill:n(117)}),n(72)("fill")},function(e,t,n){"use strict";var r=n(12),o=n(87)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(72)("find")},function(e,t,n){var r=n(26),o=n(119),a=n(30)("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(12),o=n(87)(6),a="findIndex",i=!0;a in[]&&Array(1)[a](function(){i=!1}),r(r.P+r.F*i,"Array",{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(72)(a)},function(e,t,n){"use strict";var r=n(12),o=n(197),a=n(36),i=n(34),s=n(53),u=n(146);r(r.P,"Array",{flatMap:function(e){var t,n,r=a(this);return s(e),t=i(r.length),n=u(r,0),o(n,r,r,t,0,1,e,arguments[1]),n}}),n(72)("flatMap")},function(e,t,n){"use strict";var r=n(119),o=n(26),a=n(34),i=n(56),s=n(30)("isConcatSpreadable");e.exports=function e(t,n,u,l,c,f,d,p){for(var h,m,v=c,y=0,g=!!d&&i(d,p,3);y<l;){if(y in u){if(h=g?g(u[y],y,n):u[y],m=!1,o(h)&&(m=void 0!==(m=h[s])?!!m:r(h)),m&&f>0)v=e(t,n,h,a(h.length),v,f-1)-1;else{if(v>=9007199254740991)throw TypeError();t[v]=h}v++}y++}return v}},function(e,t,n){"use strict";var r=n(56),o=n(12),a=n(36),i=n(147),s=n(120),u=n(34),l=n(121),c=n(122);o(o.S+o.F*!n(95)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,o,f,d=a(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m,y=0,g=c(d);if(v&&(m=r(m,h>2?arguments[2]:void 0,2)),null==g||p==Array&&s(g))for(n=new p(t=u(d.length));t>y;y++)l(n,y,v?m(d[y],y):d[y]);else for(f=g.call(d),n=new p;!(o=f.next()).done;y++)l(n,y,v?i(f,m,[o.value,y],!0):o.value);return n.length=y,n}})},function(e,t,n){"use strict";var r=n(12),o=n(123)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(72)("includes")},function(e,t,n){"use strict";var r=n(79),o=n(70),a=n(80),i={};n(44)(i,n(30)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(i,{next:o(1,n)}),a(e,t+" Iterator")}},function(e,t,n){var r=n(33),o=n(27),a=n(74);e.exports=n(32)?Object.defineProperties:function(e,t){o(e);for(var n,i=a(t),s=i.length,u=0;s>u;)r.f(e,n=i[u++],t[n]);return e}},function(e,t,n){"use strict";var r=n(12),o=n(121);r(r.S+r.F*n(28)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)o(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(12),o=n(53),a=n(36),i=n(28),s=[].sort,u=[1,2,3];r(r.P+r.F*(i(function(){u.sort(void 0)})||!i(function(){u.sort(null)})||!n(204)(s)),"Array",{sort:function(e){return void 0===e?s.call(a(this)):s.call(a(this),o(e))}})},function(e,t,n){"use strict";var r=n(28);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){n(81)("Array")},function(e,t,n){var r=n(30)("toPrimitive"),o=Date.prototype;r in o||n(44)(o,r,n(207))},function(e,t,n){"use strict";var r=n(27),o=n(59);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return o(r(this),"number"!=e)}},function(e,t,n){"use strict";var r=n(26),o=n(61),a=n(30)("hasInstance"),i=Function.prototype;a in i||n(33).f(i,a,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=o(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(33).f,o=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in o||n(32)&&r(o,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(151),o=n(75);e.exports=n(97)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(o(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(12),o=n(153),a=Math.sqrt,i=Math.acosh;r(r.S+r.F*!(i&&710==Math.floor(i(Number.MAX_VALUE))&&i(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:o(e-1+a(e-1)*a(e+1))}})},function(e,t,n){var r=n(12),o=Math.asinh;r(r.S+r.F*!(o&&1/o(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var r=n(12),o=Math.atanh;r(r.S+r.F*!(o&&1/o(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(12),o=n(129);r(r.S,"Math",{cbrt:function(e){return o(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(12);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(12),o=Math.exp;r(r.S,"Math",{cosh:function(e){return(o(e=+e)+o(-e))/2}})},function(e,t,n){var r=n(12),o=n(130);r(r.S+r.F*(o!=Math.expm1),"Math",{expm1:o})},function(e,t,n){var r=n(12);r(r.S,"Math",{fround:n(219)})},function(e,t,n){var r=n(129),o=Math.pow,a=o(2,-52),i=o(2,-23),s=o(2,127)*(2-i),u=o(2,-126);e.exports=Math.fround||function(e){var t,n,o=Math.abs(e),l=r(e);return o<u?l*(o/u/i+1/a-1/a)*u*i:(n=(t=(1+i/a)*o)-(t-o))>s||n!=n?l*(1/0):l*n}},function(e,t,n){var r=n(12),o=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,a=0,i=0,s=arguments.length,u=0;i<s;)u<(n=o(arguments[i++]))?(a=a*(r=u/n)*r+1,u=n):a+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(a)}})},function(e,t,n){var r=n(12),o=Math.imul;r(r.S+r.F*n(28)(function(){return-5!=o(4294967295,5)||2!=o.length}),"Math",{imul:function(e,t){var n=+e,r=+t,o=65535&n,a=65535&r;return 0|o*a+((65535&n>>>16)*a+o*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(12);r(r.S,"Math",{log1p:n(153)})},function(e,t,n){var r=n(12);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(12);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(12);r(r.S,"Math",{sign:n(129)})},function(e,t,n){var r=n(12),o=n(130),a=Math.exp;r(r.S+r.F*n(28)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(o(e)-o(-e))/2:(a(e-1)-a(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(12),o=n(130),a=Math.exp;r(r.S,"Math",{tanh:function(e){var t=o(e=+e),n=o(-e);return t==1/0?1:n==1/0?-1:(t-n)/(a(e)+a(-e))}})},function(e,t,n){var r=n(12);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){"use strict";var r=n(25),o=n(46),a=n(73),i=n(128),s=n(59),u=n(28),l=n(76).f,c=n(47).f,f=n(33).f,d=n(90).trim,p=r.Number,h=p,m=p.prototype,v="Number"==a(n(79)(m)),y="trim"in String.prototype,g=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,a=(t=y?t.trim():d(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var i,u=t.slice(2),l=0,c=u.length;l<c;l++)if((i=u.charCodeAt(l))<48||i>o)return NaN;return parseInt(u,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(v?u(function(){m.valueOf.call(n)}):"Number"!=a(n))?i(new h(g(t)),n,p):g(t)};for(var b,E=n(32)?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),S=0;E.length>S;S++)o(h,b=E[S])&&!o(p,b)&&f(p,b,c(h,b));p.prototype=m,m.constructor=p,n(45)(r,"Number",p)}},function(e,t,n){var r=n(12);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(12),o=n(25).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&o(e)}})},function(e,t,n){var r=n(12);r(r.S,"Number",{isInteger:n(154)})},function(e,t,n){var r=n(12);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(12),o=n(154),a=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return o(e)&&a(e)<=9007199254740991}})},function(e,t,n){var r=n(12);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(12);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(12),o=n(238);r(r.S+r.F*(Number.parseFloat!=o),"Number",{parseFloat:o})},function(e,t,n){var r=n(25).parseFloat,o=n(90).trim;e.exports=1/r(n(131)+"-0")!=-1/0?function(e){var t=o(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(12),o=n(240);r(r.S+r.F*(Number.parseInt!=o),"Number",{parseInt:o})},function(e,t,n){var r=n(25).parseInt,o=n(90).trim,a=n(131),i=/^[-+]?0[xX]/;e.exports=8!==r(a+"08")||22!==r(a+"0x16")?function(e,t){var n=o(String(e),3);return r(n,t>>>0||(i.test(n)?16:10))}:r},function(e,t,n){var r=n(12);r(r.S+r.F,"Object",{assign:n(155)})},function(e,t,n){"use strict";var r=n(12),o=n(36),a=n(53),i=n(33);n(32)&&r(r.P+n(99),"Object",{__defineGetter__:function(e,t){i.f(o(this),e,{get:a(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(12),o=n(36),a=n(53),i=n(33);n(32)&&r(r.P+n(99),"Object",{__defineSetter__:function(e,t){i.f(o(this),e,{set:a(t),enumerable:!0,configurable:!0})}})},function(e,t,n){var r=n(12),o=n(156)(!0);r(r.S,"Object",{entries:function(e){return o(e)}})},function(e,t,n){var r=n(26),o=n(66).onFreeze;n(58)("freeze",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(57),o=n(47).f;n(58)("getOwnPropertyDescriptor",function(){return function(e,t){return o(r(e),t)}})},function(e,t,n){var r=n(12),o=n(157),a=n(57),i=n(47),s=n(121);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),u=i.f,l=o(r),c={},f=0;l.length>f;)void 0!==(n=u(r,t=l[f++]))&&s(c,t,n);return c}})},function(e,t,n){n(58)("getOwnPropertyNames",function(){return n(158).f})},function(e,t,n){var r=n(36),o=n(61);n(58)("getPrototypeOf",function(){return function(e){return o(r(e))}})},function(e,t,n){"use strict";var r=n(12),o=n(36),a=n(59),i=n(61),s=n(47).f;n(32)&&r(r.P+n(99),"Object",{__lookupGetter__:function(e){var t,n=o(this),r=a(e,!0);do{if(t=s(n,r))return t.get}while(n=i(n))}})},function(e,t,n){"use strict";var r=n(12),o=n(36),a=n(59),i=n(61),s=n(47).f;n(32)&&r(r.P+n(99),"Object",{__lookupSetter__:function(e){var t,n=o(this),r=a(e,!0);do{if(t=s(n,r))return t.set}while(n=i(n))}})},function(e,t,n){var r=n(26),o=n(66).onFreeze;n(58)("preventExtensions",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){"use strict";var r=n(88),o={};o[n(30)("toStringTag")]="z",o+""!="[object z]"&&n(45)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(12);r(r.S,"Object",{is:n(159)})},function(e,t,n){var r=n(26);n(58)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(26);n(58)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(26);n(58)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(36),o=n(74);n(58)("keys",function(){return function(e){return o(r(e))}})},function(e,t,n){var r=n(26),o=n(66).onFreeze;n(58)("seal",function(e){return function(t){return e&&r(t)?e(o(t)):t}})},function(e,t,n){var r=n(12),o=n(156)(!1);r(r.S,"Object",{values:function(e){return o(e)}})},function(e,t,n){"use strict";var r,o,a,i,s=n(64),u=n(25),l=n(56),c=n(88),f=n(12),d=n(26),p=n(53),h=n(83),m=n(96),v=n(91),y=n(132).set,g=n(262)(),b=n(161),E=n(263),S=n(100),T=n(162),O=u.TypeError,C=u.process,w=C&&C.versions,_=w&&w.v8||"",P=u.Promise,I="process"==c(C),L=function(){},R=o=b.f,A=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[n(30)("species")]=function(e){e(L,L)};return(I||"function"==typeof PromiseRejectionEvent)&&e.then(L)instanceof t&&0!==_.indexOf("6.6")&&-1===S.indexOf("Chrome/66")}catch(e){}}(),k=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},N=function(e,t){if(!e._n){e._n=!0;var n=e._c;g(function(){for(var r=e._v,o=1==e._s,a=0,i=function(t){var n,a,i,s=o?t.ok:t.fail,u=t.resolve,l=t.reject,c=t.domain;try{s?(o||(2==e._h&&U(e),e._h=1),!0===s?n=r:(c&&c.enter(),n=s(r),c&&(c.exit(),i=!0)),n===t.promise?l(O("Promise-chain cycle")):(a=k(n))?a.call(n,u,l):u(n)):l(r)}catch(e){c&&!i&&c.exit(),l(e)}};n.length>a;)i(n[a++]);e._c=[],e._n=!1,t&&!e._h&&D(e)})}},D=function(e){y.call(u,function(){var t,n,r,o=e._v,a=M(e);if(a&&(t=E(function(){I?C.emit("unhandledRejection",o,e):(n=u.onunhandledrejection)?n({promise:e,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)}),e._h=I||M(e)?2:1),e._a=void 0,a&&t.e)throw t.v})},M=function(e){return 1!==e._h&&0===(e._a||e._c).length},U=function(e){y.call(u,function(){var t;I?C.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},x=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),N(t,!0))},j=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw O("Promise can't be resolved itself");(t=k(e))?g(function(){var r={_w:n,_d:!1};try{t.call(e,l(j,r,1),l(x,r,1))}catch(e){x.call(r,e)}}):(n._v=e,n._s=1,N(n,!1))}catch(e){x.call({_w:n,_d:!1},e)}}};A||(P=function(e){h(this,P,"Promise","_h"),p(e),r.call(this);try{e(l(j,this,1),l(x,this,1))}catch(e){x.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(82)(P.prototype,{then:function(e,t){var n=R(v(this,P));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=I?C.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&N(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r;this.promise=e,this.resolve=l(j,e,1),this.reject=l(x,e,1)},b.f=R=function(e){return e===P||e===i?new a(e):o(e)}),f(f.G+f.W+f.F*!A,{Promise:P}),n(80)(P,"Promise"),n(81)("Promise"),i=n(63).Promise,f(f.S+f.F*!A,"Promise",{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!A),"Promise",{resolve:function(e){return T(s&&this===i?P:this,e)}}),f(f.S+f.F*!(A&&n(95)(function(e){P.all(e).catch(L)})),"Promise",{all:function(e){var t=this,n=R(t),r=n.resolve,o=n.reject,a=E(function(){var n=[],a=0,i=1;m(e,!1,function(e){var s=a++,u=!1;n.push(void 0),i++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--i||r(n))},o)}),--i||r(n)});return a.e&&o(a.v),n.promise},race:function(e){var t=this,n=R(t),r=n.reject,o=E(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(e,t,n){var r=n(25),o=n(132).set,a=r.MutationObserver||r.WebKitMutationObserver,i=r.process,s=r.Promise,u="process"==n(73)(i);e.exports=function(){var e,t,n,l=function(){var r,o;for(u&&(r=i.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){i.nextTick(l)};else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var c=s.resolve(void 0);n=function(){c.then(l)}}else n=function(){o.call(r,l)};else{var f=!0,d=document.createTextNode("");new a(l).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){"use strict";var r=n(12),o=n(63),a=n(25),i=n(91),s=n(162);r(r.P+r.R,"Promise",{finally:function(e){var t=i(this,o.Promise||a.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){var r=n(12),o=n(53),a=n(27),i=(n(25).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(28)(function(){i(function(){})}),"Reflect",{apply:function(e,t,n){var r=o(e),u=a(n);return i?i(r,t,u):s.call(r,t,u)}})},function(e,t,n){var r=n(12),o=n(79),a=n(53),i=n(27),s=n(26),u=n(28),l=n(267),c=(n(25).Reflect||{}).construct,f=u(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),d=!u(function(){c(function(){})});r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){a(e),i(t);var n=arguments.length<3?e:a(arguments[2]);if(d&&!f)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var u=n.prototype,p=o(s(u)?u:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},function(e,t,n){"use strict";var r=n(53),o=n(26),a=n(160),i=[].slice,s={},u=function(e,t,n){if(!(t in s)){for(var r=[],o=0;o<t;o++)r[o]="a["+o+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=i.call(arguments,1),s=function(){var r=n.concat(i.call(arguments));return this instanceof s?u(t,r.length,r):a(t,r,e)};return o(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t,n){var r=n(33),o=n(12),a=n(27),i=n(59);o(o.S+o.F*n(28)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){a(e),t=i(t,!0),a(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(12),o=n(47).f,a=n(27);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=o(a(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){var r=n(47),o=n(61),a=n(46),i=n(12),s=n(26),u=n(27);i(i.S,"Reflect",{get:function e(t,n){var i,l,c=arguments.length<3?t:arguments[2];return u(t)===c?t[n]:(i=r.f(t,n))?a(i,"value")?i.value:void 0!==i.get?i.get.call(c):void 0:s(l=o(t))?e(l,n,c):void 0}})},function(e,t,n){var r=n(47),o=n(12),a=n(27);o(o.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(a(e),t)}})},function(e,t,n){var r=n(12),o=n(61),a=n(27);r(r.S,"Reflect",{getPrototypeOf:function(e){return o(a(e))}})},function(e,t,n){var r=n(12);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(12),o=n(27),a=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return o(e),!a||a(e)}})},function(e,t,n){var r=n(12);r(r.S,"Reflect",{ownKeys:n(157)})},function(e,t,n){var r=n(12),o=n(27),a=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){o(e);try{return a&&a(e),!0}catch(e){return!1}}})},function(e,t,n){var r=n(33),o=n(47),a=n(61),i=n(46),s=n(12),u=n(70),l=n(27),c=n(26);s(s.S,"Reflect",{set:function e(t,n,s){var f,d,p=arguments.length<4?t:arguments[3],h=o.f(l(t),n);if(!h){if(c(d=a(t)))return e(d,n,s,p);h=u(0)}if(i(h,"value")){if(!1===h.writable||!c(p))return!1;if(f=o.f(p,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=s,r.f(p,n,f)}else r.f(p,n,u(0,s));return!0}return void 0!==h.set&&(h.set.call(p,s),!0)}})},function(e,t,n){var r=n(12),o=n(152);o&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){o.check(e,t);try{return o.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){var r=n(25),o=n(128),a=n(33).f,i=n(76).f,s=n(133),u=n(101),l=r.RegExp,c=l,f=l.prototype,d=/a/g,p=/a/g,h=new l(d)!==d;if(n(32)&&(!h||n(28)(function(){return p[n(30)("match")]=!1,l(d)!=d||l(p)==p||"/a/i"!=l(d,"i")}))){l=function(e,t){var n=this instanceof l,r=s(e),a=void 0===t;return!n&&r&&e.constructor===l&&a?e:o(h?new c(r&&!a?e.source:e,t):c((r=e instanceof l)?e.source:e,r&&a?u.call(e):t),n?this:f,l)};for(var m=function(e){e in l||a(l,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})},v=i(c),y=0;v.length>y;)m(v[y++]);f.constructor=l,l.prototype=f,n(45)(r,"RegExp",l)}n(81)("RegExp")},function(e,t,n){"use strict";var r=n(27),o=n(34),a=n(134),i=n(102);n(103)("match",1,function(e,t,n,s){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var u=r(e),l=String(this);if(!u.global)return i(u,l);var c=u.unicode;u.lastIndex=0;for(var f,d=[],p=0;null!==(f=i(u,l));){var h=String(f[0]);d[p]=h,""===h&&(u.lastIndex=a(l,o(u.lastIndex),c)),p++}return 0===p?null:d}]})},function(e,t,n){"use strict";var r=n(136);n(12)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){"use strict";var r=n(27),o=n(36),a=n(34),i=n(65),s=n(134),u=n(102),l=Math.max,c=Math.min,f=Math.floor,d=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g;n(103)("replace",2,function(e,t,n,h){return[function(r,o){var a=e(this),i=null==r?void 0:r[t];return void 0!==i?i.call(r,a,o):n.call(String(a),r,o)},function(e,t){var o=h(n,e,this,t);if(o.done)return o.value;var f=r(e),d=String(this),p="function"==typeof t;p||(t=String(t));var v=f.global;if(v){var y=f.unicode;f.lastIndex=0}for(var g=[];;){var b=u(f,d);if(null===b)break;if(g.push(b),!v)break;""===String(b[0])&&(f.lastIndex=s(d,a(f.lastIndex),y))}for(var E,S="",T=0,O=0;O<g.length;O++){b=g[O];for(var C=String(b[0]),w=l(c(i(b.index),d.length),0),_=[],P=1;P<b.length;P++)_.push(void 0===(E=b[P])?E:String(E));var I=b.groups;if(p){var L=[C].concat(_,w,d);void 0!==I&&L.push(I);var R=String(t.apply(void 0,L))}else R=m(C,d,w,_,I,t);w>=T&&(S+=d.slice(T,w)+R,T=w+C.length)}return S+d.slice(T)}];function m(e,t,r,a,i,s){var u=r+e.length,l=a.length,c=p;return void 0!==i&&(i=o(i),c=d),n.call(s,c,function(n,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(u);case"<":s=i[o.slice(1,-1)];break;default:var c=+o;if(0===c)return n;if(c>l){var d=f(c/10);return 0===d?n:d<=l?void 0===a[d-1]?o.charAt(1):a[d-1]+o.charAt(1):n}s=a[c-1]}return void 0===s?"":s})}})},function(e,t,n){"use strict";var r=n(133),o=n(27),a=n(91),i=n(134),s=n(34),u=n(102),l=n(136),c=n(28),f=Math.min,d=[].push,p=!c(function(){RegExp(4294967295,"y")});n(103)("split",2,function(e,t,n,c){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var o=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(o,e,t);for(var a,i,s,u=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,p=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,c+"g");(a=l.call(h,o))&&!((i=h.lastIndex)>f&&(u.push(o.slice(f,a.index)),a.length>1&&a.index<o.length&&d.apply(u,a.slice(1)),s=a[0].length,f=i,u.length>=p));)h.lastIndex===a.index&&h.lastIndex++;return f===o.length?!s&&h.test("")||u.push(""):u.push(o.slice(f)),u.length>p?u.slice(0,p):u}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var o=e(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,o,r):h.call(String(o),n,r)},function(e,t){var r=c(h,e,this,t,h!==n);if(r.done)return r.value;var l=o(e),d=String(this),m=a(l,RegExp),v=l.unicode,y=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(p?"y":"g"),g=new m(p?l:"^(?:"+l.source+")",y),b=void 0===t?4294967295:t>>>0;if(0===b)return[];if(0===d.length)return null===u(g,d)?[d]:[];for(var E=0,S=0,T=[];S<d.length;){g.lastIndex=p?S:0;var O,C=u(g,p?d:d.slice(S));if(null===C||(O=f(s(g.lastIndex+(p?0:S)),d.length))===E)S=i(d,S,v);else{if(T.push(d.slice(E,S)),T.length===b)return T;for(var w=1;w<=C.length-1;w++)if(T.push(C[w]),T.length===b)return T;S=E=O}}return T.push(d.slice(E)),T}]})},function(e,t,n){"use strict";var r=n(27),o=n(159),a=n(102);n(103)("search",1,function(e,t,n,i){return[function(n){var r=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=i(n,e,this);if(t.done)return t.value;var s=r(e),u=String(this),l=s.lastIndex;o(l,0)||(s.lastIndex=0);var c=a(s,u);return o(s.lastIndex,l)||(s.lastIndex=l),null===c?-1:c.index}]})},function(e,t,n){"use strict";n(163);var r=n(27),o=n(101),a=n(32),i=/./.toString,s=function(e){n(45)(RegExp.prototype,"toString",e,!0)};n(28)(function(){return"/a/b"!=i.call({source:"a",flags:"b"})})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?o.call(e):void 0)}):"toString"!=i.name&&s(function(){return i.call(this)})},function(e,t,n){"use strict";var r=n(151),o=n(75);e.exports=n(97)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r=n(25),o=n(46),a=n(32),i=n(12),s=n(45),u=n(66).KEY,l=n(28),c=n(94),f=n(80),d=n(71),p=n(30),h=n(164),m=n(165),v=n(288),y=n(119),g=n(27),b=n(26),E=n(36),S=n(57),T=n(59),O=n(70),C=n(79),w=n(158),_=n(47),P=n(98),I=n(33),L=n(74),R=_.f,A=I.f,k=w.f,N=r.Symbol,D=r.JSON,M=D&&D.stringify,U=p("_hidden"),x=p("toPrimitive"),j={}.propertyIsEnumerable,F=c("symbol-registry"),V=c("symbols"),B=c("op-symbols"),H=Object.prototype,G="function"==typeof N&&!!P.f,q=r.QObject,z=!q||!q.prototype||!q.prototype.findChild,W=a&&l(function(){return 7!=C(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=R(H,t);r&&delete H[t],A(e,t,n),r&&e!==H&&A(H,t,r)}:A,K=function(e){var t=V[e]=C(N.prototype);return t._k=e,t},Y=G&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},Q=function(e,t,n){return e===H&&Q(B,t,n),g(e),t=T(t,!0),g(n),o(V,t)?(n.enumerable?(o(e,U)&&e[U][t]&&(e[U][t]=!1),n=C(n,{enumerable:O(0,!1)})):(o(e,U)||A(e,U,O(1,{})),e[U][t]=!0),W(e,t,n)):A(e,t,n)},Z=function(e,t){g(e);for(var n,r=v(t=S(t)),o=0,a=r.length;a>o;)Q(e,n=r[o++],t[n]);return e},X=function(e){var t=j.call(this,e=T(e,!0));return!(this===H&&o(V,e)&&!o(B,e))&&(!(t||!o(this,e)||!o(V,e)||o(this,U)&&this[U][e])||t)},J=function(e,t){if(e=S(e),t=T(t,!0),e!==H||!o(V,t)||o(B,t)){var n=R(e,t);return!n||!o(V,t)||o(e,U)&&e[U][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=k(S(e)),r=[],a=0;n.length>a;)o(V,t=n[a++])||t==U||t==u||r.push(t);return r},ee=function(e){for(var t,n=e===H,r=k(n?B:S(e)),a=[],i=0;r.length>i;)!o(V,t=r[i++])||n&&!o(H,t)||a.push(V[t]);return a};G||(s((N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(B,n),o(this,U)&&o(this[U],e)&&(this[U][e]=!1),W(this,e,O(1,n))};return a&&z&&W(H,e,{configurable:!0,set:t}),K(e)}).prototype,"toString",function(){return this._k}),_.f=J,I.f=Q,n(76).f=w.f=$,n(89).f=X,P.f=ee,a&&!n(64)&&s(H,"propertyIsEnumerable",X,!0),h.f=function(e){return K(p(e))}),i(i.G+i.W+i.F*!G,{Symbol:N});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=L(p.store),oe=0;re.length>oe;)m(re[oe++]);i(i.S+i.F*!G,"Symbol",{for:function(e){return o(F,e+="")?F[e]:F[e]=N(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){z=!0},useSimple:function(){z=!1}}),i(i.S+i.F*!G,"Object",{create:function(e,t){return void 0===t?C(e):Z(C(e),t)},defineProperty:Q,defineProperties:Z,getOwnPropertyDescriptor:J,getOwnPropertyNames:$,getOwnPropertySymbols:ee});var ae=l(function(){P.f(1)});i(i.S+i.F*ae,"Object",{getOwnPropertySymbols:function(e){return P.f(E(e))}}),D&&i(i.S+i.F*(!G||l(function(){var e=N();return"[null]"!=M([e])||"{}"!=M({a:e})||"{}"!=M(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Y(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,M.apply(D,r)}}),N.prototype[x]||n(44)(N.prototype,x,N.prototype.valueOf),f(N,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(74),o=n(98),a=n(89);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var i,s=n(e),u=a.f,l=0;s.length>l;)u.call(e,i=s[l++])&&t.push(i);return t}},function(e,t,n){n(165)("asyncIterator")},function(e,t,n){"use strict";n(43)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";n(43)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(43)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(43)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";var r=n(12),o=n(135)(!1);r(r.P,"String",{codePointAt:function(e){return o(this,e)}})},function(e,t,n){"use strict";var r=n(12),o=n(34),a=n(137),i="".endsWith;r(r.P+r.F*n(138)("endsWith"),"String",{endsWith:function(e){var t=a(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=o(t.length),s=void 0===n?r:Math.min(o(n),r),u=String(e);return i?i.call(t,u,s):t.slice(s-u.length,s)===u}})},function(e,t,n){"use strict";n(43)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(43)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(43)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){var r=n(12),o=n(77),a=String.fromCharCode,i=String.fromCodePoint;r(r.S+r.F*(!!i&&1!=i.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,i=0;r>i;){if(t=+arguments[i++],o(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){"use strict";var r=n(12),o=n(137);r(r.P+r.F*n(138)("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";n(43)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";var r=n(135)(!0);n(125)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";n(43)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";var r=n(12),o=n(166),a=n(100),i=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);r(r.P+r.F*i,"String",{padStart:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var r=n(12),o=n(166),a=n(100),i=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);r(r.P+r.F*i,"String",{padEnd:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){var r=n(12),o=n(57),a=n(34);r(r.S,"String",{raw:function(e){for(var t=o(e.raw),n=a(t.length),r=arguments.length,i=[],s=0;n>s;)i.push(String(t[s++])),s<r&&i.push(String(arguments[s]));return i.join("")}})},function(e,t,n){var r=n(12);r(r.P,"String",{repeat:n(167)})},function(e,t,n){"use strict";n(43)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";var r=n(12),o=n(34),a=n(137),i="".startsWith;r(r.P+r.F*n(138)("startsWith"),"String",{startsWith:function(e){var t=a(this,e,"startsWith"),n=o(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return i?i.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(43)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(43)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(43)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){"use strict";n(90)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(90)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";var r=n(12),o=n(139),a=n(168),i=n(27),s=n(77),u=n(34),l=n(26),c=n(25).ArrayBuffer,f=n(91),d=a.ArrayBuffer,p=a.DataView,h=o.ABV&&c.isView,m=d.prototype.slice,v=o.VIEW;r(r.G+r.W+r.F*(c!==d),{ArrayBuffer:d}),r(r.S+r.F*!o.CONSTR,"ArrayBuffer",{isView:function(e){return h&&h(e)||l(e)&&v in e}}),r(r.P+r.U+r.F*n(28)(function(){return!new d(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(i(this),e);for(var n=i(this).byteLength,r=s(e,n),o=s(void 0===t?n:t,n),a=new(f(this,d))(u(o-r)),l=new p(this),c=new p(a),h=0;r<o;)c.setUint8(h++,l.getUint8(r++));return a}}),n(81)("ArrayBuffer")},function(e,t,n){n(62)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(62)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(62)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(62)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(62)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(62)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(62)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(62)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(62)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";var r,o=n(25),a=n(87)(0),i=n(45),s=n(66),u=n(155),l=n(170),c=n(26),f=n(75),d=n(75),p=!o.ActiveXObject&&"ActiveXObject"in o,h=s.getWeak,m=Object.isExtensible,v=l.ufstore,y=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(e){if(c(e)){var t=h(e);return!0===t?v(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(f(this,"WeakMap"),e,t)}},b=e.exports=n(97)("WeakMap",y,g,l,!0,!0);d&&p&&(u((r=l.getConstructor(y,"WeakMap")).prototype,g),s.NEED=!0,a(["delete","has","get","set"],function(e){var t=b.prototype,n=t[e];i(t,e,function(t,o){if(c(t)&&!m(t)){this._f||(this._f=new r);var a=this._f[e](t,o);return"set"==e?this:a}return n.call(this,t,o)})}))},function(e,t,n){"use strict";var r=n(170),o=n(75);n(97)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){var r=n(25),o=n(12),a=n(100),i=[].slice,s=/MSIE .\./.test(a),u=function(e){return function(t,n){var r=arguments.length>2,o=!!r&&i.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,o)}:t,n)}};o(o.G+o.B+o.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(e,t,n){var r=n(12),o=n(132);r(r.G+r.B,{setImmediate:o.set,clearImmediate:o.clear})},function(e,t,n){for(var r=n(124),o=n(74),a=n(45),i=n(25),s=n(44),u=n(78),l=n(30),c=l("iterator"),f=l("toStringTag"),d=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=o(p),m=0;m<h.length;m++){var v,y=h[m],g=p[y],b=i[y],E=b&&b.prototype;if(E&&(E[c]||s(E,c,d),E[f]||s(E,f,y),u[y]=d,g))for(v in r)E[v]||a(E,v,r[v],!0)}},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,n,r){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),i=new P(r||[]);return a._invoke=function(e,t,n){var r=c;return function(o,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var s=C(i,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,i),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var c="suspendedStart",f="suspendedYield",d="executing",p="completed",h={};function m(){}function v(){}function y(){}var g={};g[a]=function(){return this};var b=Object.getPrototypeOf,E=b&&b(b(I([])));E&&E!==n&&r.call(E,a)&&(g=E);var S=y.prototype=m.prototype=Object.create(g);function T(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function O(e){var t;this._invoke=function(n,o){function a(){return new Promise(function(t,a){!function t(n,o,a,i){var s=l(e[n],e,o);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&r.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,a,i)},function(e){t("throw",e,a,i)}):Promise.resolve(c).then(function(e){u.value=e,a(u)},function(e){return t("throw",e,a,i)})}i(s.arg)}(n,o,t,a)})}return t=t?t.then(a,a):a()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=l(r,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function I(e){if(e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:L}}function L(){return{value:t,done:!0}}return v.prototype=S.constructor=y,y.constructor=v,y[s]=v.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},T(O.prototype),O.prototype[i]=function(){return this},e.AsyncIterator=O,e.async=function(t,n,r,o){var a=new O(u(t,n,r,o));return e.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next()})},T(S),S[s]="Generator",S[a]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){(function(e){!function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}(),n=function(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n},r=function(e){return encodeURIComponent(e).replace(/%20/g,"+")},o=function(e){return decodeURIComponent(String(e).replace(/\+/g," "))};(function(){try{var t=e.URLSearchParams;return"a=1"===new t("?a=1").toString()&&"function"==typeof t.prototype.set}catch(e){return!1}})()||function(){var o=function(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var t=typeof e;if("undefined"===t);else if("string"===t)""!==e&&this._fromString(e);else if(e instanceof o){var n=this;e.forEach(function(e,t){n.append(t,e)})}else{if(null===e||"object"!==t)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(e))for(var r=0;r<e.length;r++){var a=e[r];if("[object Array]"!==Object.prototype.toString.call(a)&&2===a.length)throw new TypeError("Expected [string, any] as entry at index "+r+" of URLSearchParams's input");this.append(a[0],a[1])}else for(var i in e)e.hasOwnProperty(i)&&this.append(i,e[i])}},a=o.prototype;a.append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},a.delete=function(e){delete this._entries[e]},a.get=function(e){return e in this._entries?this._entries[e][0]:null},a.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},a.has=function(e){return e in this._entries},a.set=function(e,t){this._entries[e]=[String(t)]},a.forEach=function(e,t){var n;for(var r in this._entries)if(this._entries.hasOwnProperty(r)){n=this._entries[r];for(var o=0;o<n.length;o++)e.call(t,n[o],r,this)}},a.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),n(e)},a.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},a.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),n(e)},t&&(a[Symbol.iterator]=a.entries),a.toString=function(){var e=[];return this.forEach(function(t,n){e.push(r(n)+"="+r(t))}),e.join("&")},e.URLSearchParams=o}();var a=e.URLSearchParams.prototype;"function"!=typeof a.sort&&(a.sort=function(){var e=this,t=[];this.forEach(function(n,r){t.push([r,n]),e._entries||e.delete(r)}),t.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),e._entries&&(e._entries={});for(var n=0;n<t.length;n++)this.append(t[n][0],t[n][1])}),"function"!=typeof a._fromString&&Object.defineProperty(a,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(this._entries)this._entries={};else{var t=[];this.forEach(function(e,n){t.push(n)});for(var n=0;n<t.length;n++)this.delete(t[n])}var r,a=(e=e.replace(/^\?/,"")).split("&");for(n=0;n<a.length;n++)r=a[n].split("="),this.append(o(r[0]),r.length>1?o(r[1]):"")}})}(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(e){if(function(){try{var t=new e.URL("b","http://a");return t.pathname="c%20d","http://a/c%20d"===t.href&&t.searchParams}catch(e){return!1}}()||function(){var t=e.URL,n=function(t,n){"string"!=typeof t&&(t=String(t));var r,o=document;if(n&&(void 0===e.location||n!==e.location.href)){(r=(o=document.implementation.createHTMLDocument("")).createElement("base")).href=n,o.head.appendChild(r);try{if(0!==r.href.indexOf(n))throw new Error(r.href)}catch(e){throw new Error("URL unable to set base "+n+" due to "+e)}}var a=o.createElement("a");if(a.href=t,r&&(o.body.appendChild(a),a.href=a.href),":"===a.protocol||!/:/.test(a.href))throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:a});var i=new e.URLSearchParams(this.search),s=!0,u=!0,l=this;["append","delete","set"].forEach(function(e){var t=i[e];i[e]=function(){t.apply(i,arguments),s&&(u=!1,l.search=i.toString(),u=!0)}}),Object.defineProperty(this,"searchParams",{value:i,enumerable:!0});var c=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==c&&(c=this.search,u&&(s=!1,this.searchParams._fromString(this.search),s=!0))}})},r=n.prototype;["hash","host","hostname","port","protocol"].forEach(function(e){!function(e){Object.defineProperty(r,e,{get:function(){return this._anchorElement[e]},set:function(t){this._anchorElement[e]=t},enumerable:!0})}(e)}),Object.defineProperty(r,"search",{get:function(){return this._anchorElement.search},set:function(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(r,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(e){},enumerable:!0},username:{get:function(){return""},set:function(e){},enumerable:!0}}),n.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},n.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},e.URL=n}(),void 0!==e.location&&!("origin"in e.location)){var t=function(){return e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")};try{Object.defineProperty(e.location,"origin",{get:t,enumerable:!0})}catch(n){setInterval(function(){e.location.origin=t()},100)}}}(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this)}).call(this,n(171))},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},o=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};c.prototype.append=function(e,t){e=s(e),t=u(t);var n=this.map[e];this.map[e]=n?n+","+t:t},c.prototype.delete=function(e){delete this.map[s(e)]},c.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},c.prototype.set=function(e,t){this.map[s(e)]=u(t)},c.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},c.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),l(e)},c.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},c.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),l(e)},t.iterable&&(c.prototype[Symbol.iterator]=c.prototype.entries);var a=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var i=[301,302,303,307,308];g.redirect=function(e,t){if(-1===i.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=c,e.Request=v,e.Response=g,e.fetch=function(e,n){return new Promise(function(r,o){var a=new v(e,n),i=new XMLHttpRequest;i.onload=function(){var e,t,n={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}}),t)};n.url="responseURL"in i?i.responseURL:n.headers.get("X-Request-URL");var o="response"in i?i.response:i.responseText;r(new g(o,n))},i.onerror=function(){o(new TypeError("Network request failed"))},i.ontimeout=function(){o(new TypeError("Network request failed"))},i.open(a.method,a.url,!0),"include"===a.credentials?i.withCredentials=!0:"omit"===a.credentials&&(i.withCredentials=!1),"responseType"in i&&t.blob&&(i.responseType="blob"),a.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===a._bodyInit?null:a._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function c(e){this.map={},e instanceof c?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=d(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!o(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e,t,n,r=f(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=d(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function v(e,t){var n,r,o=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),a.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(o)}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function g(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t=(0,a.default)(e);return{getItem:function(e){return new Promise(function(n,r){n(t.getItem(e))})},setItem:function(e,n){return new Promise(function(r,o){r(t.setItem(e,n))})},removeItem:function(e){return new Promise(function(n,r){n(t.removeItem(e))})}}};var r,o=n(335),a=(r=o)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function o(){}t.default=function(e){var t=e+"Storage";return function(e){if("object"!==("undefined"==typeof self?"undefined":r(self))||!(e in self))return!1;try{var t=self[e],n="redux-persist "+e+" test";t.setItem(n,"test"),t.getItem(n),t.removeItem(n)}catch(e){return!1}return!0}(t)?self[t]:a};var a={getItem:o,setItem:o,removeItem:o}},function(e,t,n){"use strict";
/** @license React v16.9.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(172),o="function"==typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,l=o?Symbol.for("react.profiler"):60114,c=o?Symbol.for("react.provider"):60109,f=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.forward_ref"):60112,p=o?Symbol.for("react.suspense"):60113,h=o?Symbol.for("react.suspense_list"):60120,m=o?Symbol.for("react.memo"):60115,v=o?Symbol.for("react.lazy"):60116;o&&Symbol.for("react.fundamental"),o&&Symbol.for("react.responder");var y="function"==typeof Symbol&&Symbol.iterator;function g(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E={};function S(e,t,n){this.props=e,this.context=t,this.refs=E,this.updater=n||b}function T(){}function O(e,t,n){this.props=e,this.context=t,this.refs=E,this.updater=n||b}S.prototype.isReactComponent={},S.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw g(Error(85));this.updater.enqueueSetState(this,e,t,"setState")},S.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},T.prototype=S.prototype;var C=O.prototype=new T;C.constructor=O,r(C,S.prototype),C.isPureReactComponent=!0;var w={current:null},_={suspense:null},P={current:null},I=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0};function R(e,t,n){var r=void 0,o={},i=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)I.call(t,r)&&!L.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return{$$typeof:a,type:e,key:i,ref:s,props:o,_owner:P.current}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var k=/\/+/g,N=[];function D(e,t,n,r){if(N.length){var o=N.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>N.length&&N.push(e)}function U(e,t,n){return null==e?0:function e(t,n,r,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case a:case i:u=!0}}if(u)return r(o,t,""===n?"."+x(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=n+x(s=t[l],l);u+=e(s,c,r,o)}else if(null===t||"object"!=typeof t?c=null:c="function"==typeof(c=y&&t[y]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),l=0;!(s=t.next()).done;)u+=e(s=s.value,c=n+x(s,l++),r,o);else if("object"===s)throw r=""+t,g(Error(31),"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return u}(e,"",t,n)}function x(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function j(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?V(e,r,n,function(e){return e}):null!=e&&(A(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(k,"$&/")+"/")+n)),r.push(e))}function V(e,t,n,r,o){var a="";null!=n&&(a=(""+n).replace(k,"$&/")+"/"),U(e,F,t=D(t,a,r,o)),M(t)}function B(){var e=w.current;if(null===e)throw g(Error(321));return e}var H={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return V(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;U(e,j,t=D(null,null,t,n)),M(t)},count:function(e){return U(e,function(){return null},null)},toArray:function(e){var t=[];return V(e,t,null,function(e){return e}),t},only:function(e){if(!A(e))throw g(Error(143));return e}},createRef:function(){return{current:null}},Component:S,PureComponent:O,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:d,render:e}},lazy:function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return B().useCallback(e,t)},useContext:function(e,t){return B().useContext(e,t)},useEffect:function(e,t){return B().useEffect(e,t)},useImperativeHandle:function(e,t,n){return B().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return B().useLayoutEffect(e,t)},useMemo:function(e,t){return B().useMemo(e,t)},useReducer:function(e,t,n){return B().useReducer(e,t,n)},useRef:function(e){return B().useRef(e)},useState:function(e){return B().useState(e)},Fragment:s,Profiler:l,StrictMode:u,Suspense:p,unstable_SuspenseList:h,createElement:R,cloneElement:function(e,t,n){if(null==e)throw g(Error(267),e);var o=void 0,i=r({},e.props),s=e.key,u=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,l=P.current),void 0!==t.key&&(s=""+t.key);var c=void 0;for(o in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)I.call(t,o)&&!L.hasOwnProperty(o)&&(i[o]=void 0===t[o]&&void 0!==c?c[o]:t[o])}if(1===(o=arguments.length-2))i.children=n;else if(1<o){c=Array(o);for(var f=0;f<o;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:a,type:e.type,key:s,ref:u,props:i,_owner:l}},createFactory:function(e){var t=R.bind(null,e);return t.type=e,t},isValidElement:A,version:"16.9.0",unstable_withSuspenseConfig:function(e,t){var n=_.suspense;_.suspense=void 0===t?null:t;try{e()}finally{_.suspense=n}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:w,ReactCurrentBatchConfig:_,ReactCurrentOwner:P,IsSomeRendererActing:{current:!1},assign:r}},G={default:H},q=G&&H||G;e.exports=q.default||q},function(e,t,n){"use strict";
/** @license React v16.9.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),o=n(172),a=n(338);function i(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}if(!r)throw i(Error(227));var s=null,u={};function l(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(!(-1<n))throw i(Error(96),e);if(!f[n]){if(!t.extractEvents)throw i(Error(97),e);for(var r in f[n]=t,n=t.eventTypes){var o=void 0,a=n[r],l=t,p=r;if(d.hasOwnProperty(p))throw i(Error(99),p);d[p]=a;var h=a.phasedRegistrationNames;if(h){for(o in h)h.hasOwnProperty(o)&&c(h[o],l,p);o=!0}else a.registrationName?(c(a.registrationName,l,p),o=!0):o=!1;if(!o)throw i(Error(98),r,e)}}}}function c(e,t,n){if(p[e])throw i(Error(100),e);p[e]=t,h[e]=t.eventTypes[n].dependencies}var f=[],d={},p={},h={};function m(e,t,n,r,o,a,i,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}var v=!1,y=null,g=!1,b=null,E={onError:function(e){v=!0,y=e}};function S(e,t,n,r,o,a,i,s,u){v=!1,y=null,m.apply(E,arguments)}var T=null,O=null,C=null;function w(e,t,n){var r=e.type||"unknown-event";e.currentTarget=C(n),function(e,t,n,r,o,a,s,u,l){if(S.apply(this,arguments),v){if(!v)throw i(Error(198));var c=y;v=!1,y=null,g||(g=!0,b=c)}}(r,t,void 0,e),e.currentTarget=null}function _(e,t){if(null==t)throw i(Error(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function P(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var I=null;function L(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)w(e,t[r],n[r]);else t&&w(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function R(e){if(null!==e&&(I=_(I,e)),e=I,I=null,e){if(P(e,L),I)throw i(Error(95));if(g)throw e=b,g=!1,b=null,e}}var A={injectEventPluginOrder:function(e){if(s)throw i(Error(101));s=Array.prototype.slice.call(e),l()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!u.hasOwnProperty(t)||u[t]!==r){if(u[t])throw i(Error(102),t);u[t]=r,n=!0}}n&&l()}};function k(e,t){var n=e.stateNode;if(!n)return null;var r=T(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw i(Error(231),t,typeof n);return n}var N=Math.random().toString(36).slice(2),D="__reactInternalInstance$"+N,M="__reactEventHandlers$"+N;function U(e){if(e[D])return e[D];for(;!e[D];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[D]).tag||6===e.tag?e:null}function x(e){return!(e=e[D])||5!==e.tag&&6!==e.tag?null:e}function j(e){if(5===e.tag||6===e.tag)return e.stateNode;throw i(Error(33))}function F(e){return e[M]||null}function V(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function B(e,t,n){(t=k(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=_(n._dispatchListeners,t),n._dispatchInstances=_(n._dispatchInstances,e))}function H(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=V(t);for(t=n.length;0<t--;)B(n[t],"captured",e);for(t=0;t<n.length;t++)B(n[t],"bubbled",e)}}function G(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=k(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=_(n._dispatchListeners,t),n._dispatchInstances=_(n._dispatchInstances,e))}function q(e){e&&e.dispatchConfig.registrationName&&G(e._targetInst,null,e)}function z(e){P(e,H)}var W=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement);function K(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Y={animationend:K("Animation","AnimationEnd"),animationiteration:K("Animation","AnimationIteration"),animationstart:K("Animation","AnimationStart"),transitionend:K("Transition","TransitionEnd")},Q={},Z={};function X(e){if(Q[e])return Q[e];if(!Y[e])return e;var t,n=Y[e];for(t in n)if(n.hasOwnProperty(t)&&t in Z)return Q[e]=n[t];return e}W&&(Z=document.createElement("div").style,"AnimationEvent"in window||(delete Y.animationend.animation,delete Y.animationiteration.animation,delete Y.animationstart.animation),"TransitionEvent"in window||delete Y.transitionend.transition);var J=X("animationend"),$=X("animationiteration"),ee=X("animationstart"),te=X("transitionend"),ne="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),re=null,oe=null,ae=null;function ie(){if(ae)return ae;var e,t,n=oe,r=n.length,o="value"in re?re.value:re.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return ae=o.slice(e,1<t?1-t:void 0)}function se(){return!0}function ue(){return!1}function le(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?se:ue,this.isPropagationStopped=ue,this}function ce(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function fe(e){if(!(e instanceof this))throw i(Error(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function de(e){e.eventPool=[],e.getPooled=ce,e.release=fe}o(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=se)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=se)},persist:function(){this.isPersistent=se},isPersistent:ue,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ue,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return o(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,de(n),n},de(le);var pe=le.extend({data:null}),he=le.extend({data:null}),me=[9,13,27,32],ve=W&&"CompositionEvent"in window,ye=null;W&&"documentMode"in document&&(ye=document.documentMode);var ge=W&&"TextEvent"in window&&!ye,be=W&&(!ve||ye&&8<ye&&11>=ye),Ee=String.fromCharCode(32),Se={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Te=!1;function Oe(e,t){switch(e){case"keyup":return-1!==me.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Ce(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var we=!1;var _e={eventTypes:Se,extractEvents:function(e,t,n,r){var o=void 0,a=void 0;if(ve)e:{switch(e){case"compositionstart":o=Se.compositionStart;break e;case"compositionend":o=Se.compositionEnd;break e;case"compositionupdate":o=Se.compositionUpdate;break e}o=void 0}else we?Oe(e,n)&&(o=Se.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=Se.compositionStart);return o?(be&&"ko"!==n.locale&&(we||o!==Se.compositionStart?o===Se.compositionEnd&&we&&(a=ie()):(oe="value"in(re=r)?re.value:re.textContent,we=!0)),o=pe.getPooled(o,t,n,r),a?o.data=a:null!==(a=Ce(n))&&(o.data=a),z(o),a=o):a=null,(e=ge?function(e,t){switch(e){case"compositionend":return Ce(t);case"keypress":return 32!==t.which?null:(Te=!0,Ee);case"textInput":return(e=t.data)===Ee&&Te?null:e;default:return null}}(e,n):function(e,t){if(we)return"compositionend"===e||!ve&&Oe(e,t)?(e=ie(),ae=oe=re=null,we=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return be&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=he.getPooled(Se.beforeInput,t,n,r)).data=e,z(t)):t=null,null===a?t:null===t?a:[a,t]}},Pe=null,Ie=null,Le=null;function Re(e){if(e=O(e)){if("function"!=typeof Pe)throw i(Error(280));var t=T(e.stateNode);Pe(e.stateNode,e.type,t)}}function Ae(e){Ie?Le?Le.push(e):Le=[e]:Ie=e}function ke(){if(Ie){var e=Ie,t=Le;if(Le=Ie=null,Re(e),t)for(e=0;e<t.length;e++)Re(t[e])}}function Ne(e,t){return e(t)}function De(e,t,n,r){return e(t,n,r)}function Me(){}var Ue=Ne,xe=!1;function je(){null===Ie&&null===Le||(Me(),ke())}var Fe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Fe[e.type]:"textarea"===t}function Be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function He(e){if(!W)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function Ge(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function qe(e){e._valueTracker||(e._valueTracker=function(e){var t=Ge(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ze(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Ge(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var We=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;We.hasOwnProperty("ReactCurrentDispatcher")||(We.ReactCurrentDispatcher={current:null}),We.hasOwnProperty("ReactCurrentBatchConfig")||(We.ReactCurrentBatchConfig={suspense:null});var Ke=/^(.*)[\\\/]/,Ye="function"==typeof Symbol&&Symbol.for,Qe=Ye?Symbol.for("react.element"):60103,Ze=Ye?Symbol.for("react.portal"):60106,Xe=Ye?Symbol.for("react.fragment"):60107,Je=Ye?Symbol.for("react.strict_mode"):60108,$e=Ye?Symbol.for("react.profiler"):60114,et=Ye?Symbol.for("react.provider"):60109,tt=Ye?Symbol.for("react.context"):60110,nt=Ye?Symbol.for("react.concurrent_mode"):60111,rt=Ye?Symbol.for("react.forward_ref"):60112,ot=Ye?Symbol.for("react.suspense"):60113,at=Ye?Symbol.for("react.suspense_list"):60120,it=Ye?Symbol.for("react.memo"):60115,st=Ye?Symbol.for("react.lazy"):60116;Ye&&Symbol.for("react.fundamental"),Ye&&Symbol.for("react.responder");var ut="function"==typeof Symbol&&Symbol.iterator;function lt(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ut&&e[ut]||e["@@iterator"])?e:null}function ct(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Xe:return"Fragment";case Ze:return"Portal";case $e:return"Profiler";case Je:return"StrictMode";case ot:return"Suspense";case at:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case tt:return"Context.Consumer";case et:return"Context.Provider";case rt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case it:return ct(e.type);case st:if(e=1===e._status?e._result:null)return ct(e)}return null}function ft(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,o=e._debugSource,a=ct(e.type);n=null,r&&(n=ct(r.type)),r=a,a="",o?a=" (at "+o.fileName.replace(Ke,"")+":"+o.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}var dt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pt=Object.prototype.hasOwnProperty,ht={},mt={};function vt(e,t,n,r,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new vt(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new vt(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new vt(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yt[e]=new vt(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new vt(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new vt(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){yt[e]=new vt(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){yt[e]=new vt(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){yt[e]=new vt(e,5,!1,e.toLowerCase(),null,!1)});var gt=/[\-:]([a-z])/g;function bt(e){return e[1].toUpperCase()}function Et(e,t,n,r){var o=yt.hasOwnProperty(t)?yt[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!pt.call(mt,e)||!pt.call(ht,e)&&(dt.test(e)?mt[e]=!0:(ht[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function St(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Tt(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ot(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=St(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ct(e,t){null!=(t=t.checked)&&Et(e,"checked",t,!1)}function wt(e,t){Ct(e,t);var n=St(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Pt(e,t.type,n):t.hasOwnProperty("defaultValue")&&Pt(e,t.type,St(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function _t(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Pt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gt,bt);yt[t]=new vt(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gt,bt);yt[t]=new vt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gt,bt);yt[t]=new vt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){yt[e]=new vt(e,1,!1,e.toLowerCase(),null,!1)}),yt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){yt[e]=new vt(e,1,!1,e.toLowerCase(),null,!0)});var It={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Lt(e,t,n){return(e=le.getPooled(It.change,e,t,n)).type="change",Ae(n),z(e),e}var Rt=null,At=null;function kt(e){R(e)}function Nt(e){if(ze(j(e)))return e}function Dt(e,t){if("change"===e)return t}var Mt=!1;function Ut(){Rt&&(Rt.detachEvent("onpropertychange",xt),At=Rt=null)}function xt(e){if("value"===e.propertyName&&Nt(At))if(e=Lt(At,e,Be(e)),xe)R(e);else{xe=!0;try{Ne(kt,e)}finally{xe=!1,je()}}}function jt(e,t,n){"focus"===e?(Ut(),At=n,(Rt=t).attachEvent("onpropertychange",xt)):"blur"===e&&Ut()}function Ft(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Nt(At)}function Vt(e,t){if("click"===e)return Nt(t)}function Bt(e,t){if("input"===e||"change"===e)return Nt(t)}W&&(Mt=He("input")&&(!document.documentMode||9<document.documentMode));var Ht={eventTypes:It,_isInputEventSupported:Mt,extractEvents:function(e,t,n,r){var o=t?j(t):window,a=void 0,i=void 0,s=o.nodeName&&o.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===o.type?a=Dt:Ve(o)?Mt?a=Bt:(a=Ft,i=jt):(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(a=Vt),a&&(a=a(e,t)))return Lt(a,n,r);i&&i(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&Pt(o,"number",o.value)}},Gt=le.extend({view:null,detail:null}),qt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=qt[e])&&!!t[e]}function Wt(){return zt}var Kt=0,Yt=0,Qt=!1,Zt=!1,Xt=Gt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Wt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Kt;return Kt=e.screenX,Qt?"mousemove"===e.type?e.screenX-t:0:(Qt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Yt;return Yt=e.screenY,Zt?"mousemove"===e.type?e.screenY-t:0:(Zt=!0,0)}}),Jt=Xt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),$t={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},en={eventTypes:$t,extractEvents:function(e,t,n,r){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a?(a=t,t=(t=n.relatedTarget||n.toElement)?U(t):null):a=null,a===t)return null;var i=void 0,s=void 0,u=void 0,l=void 0;"mouseout"===e||"mouseover"===e?(i=Xt,s=$t.mouseLeave,u=$t.mouseEnter,l="mouse"):"pointerout"!==e&&"pointerover"!==e||(i=Jt,s=$t.pointerLeave,u=$t.pointerEnter,l="pointer");var c=null==a?o:j(a);if(o=null==t?o:j(t),(e=i.getPooled(s,a,n,r)).type=l+"leave",e.target=c,e.relatedTarget=o,(n=i.getPooled(u,t,n,r)).type=l+"enter",n.target=o,n.relatedTarget=c,r=t,a&&r)e:{for(o=r,l=0,i=t=a;i;i=V(i))l++;for(i=0,u=o;u;u=V(u))i++;for(;0<l-i;)t=V(t),l--;for(;0<i-l;)o=V(o),i--;for(;l--;){if(t===o||t===o.alternate)break e;t=V(t),o=V(o)}t=null}else t=null;for(o=t,t=[];a&&a!==o&&(null===(l=a.alternate)||l!==o);)t.push(a),a=V(a);for(a=[];r&&r!==o&&(null===(l=r.alternate)||l!==o);)a.push(r),r=V(r);for(r=0;r<t.length;r++)G(t[r],"bubbled",e);for(r=a.length;0<r--;)G(a[r],"captured",n);return[e,n]}};function tn(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var nn=Object.prototype.hasOwnProperty;function rn(e,t){if(tn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!nn.call(t,n[r])||!tn(e[n[r]],t[n[r]]))return!1;return!0}function on(e,t){return{responder:e,props:t}}function an(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function sn(e){if(2!==an(e))throw i(Error(188))}function un(e){if(!(e=function(e){var t=e.alternate;if(!t){if(3===(t=an(e)))throw i(Error(188));return 1===t?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return sn(o),e;if(a===r)return sn(o),t;a=a.sibling}throw i(Error(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}if(!s)throw i(Error(189))}}if(n.alternate!==r)throw i(Error(190))}if(3!==n.tag)throw i(Error(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}new Map,new Map,new Set,new Map;var ln=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),cn=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fn=Gt.extend({relatedTarget:null});function dn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}for(var pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn=Gt.extend({key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=dn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Wt,charCode:function(e){return"keypress"===e.type?dn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?dn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),vn=Xt.extend({dataTransfer:null}),yn=Gt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Wt}),gn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),bn=Xt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),En=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[J,"animationEnd",2],[$,"animationIteration",2],[ee,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[te,"transitionEnd",2],["waiting","waiting",2]],Sn={},Tn={},On=0;On<En.length;On++){var Cn=En[On],wn=Cn[0],_n=Cn[1],Pn=Cn[2],In="on"+(_n[0].toUpperCase()+_n.slice(1)),Ln={phasedRegistrationNames:{bubbled:In,captured:In+"Capture"},dependencies:[wn],eventPriority:Pn};Sn[_n]=Ln,Tn[wn]=Ln}var Rn={eventTypes:Sn,getEventPriority:function(e){return void 0!==(e=Tn[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var o=Tn[e];if(!o)return null;switch(e){case"keypress":if(0===dn(n))return null;case"keydown":case"keyup":e=mn;break;case"blur":case"focus":e=fn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=yn;break;case J:case $:case ee:e=ln;break;case te:e=gn;break;case"scroll":e=Gt;break;case"wheel":e=bn;break;case"copy":case"cut":case"paste":e=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Jt;break;default:e=le}return z(t=e.getPooled(o,t,n,r)),t}},An=Rn.getEventPriority,kn=[];function Nn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=U(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=Be(e.nativeEvent);r=e.topLevelType;for(var a=e.nativeEvent,i=null,s=0;s<f.length;s++){var u=f[s];u&&(u=u.extractEvents(r,t,a,o))&&(i=_(i,u))}R(i)}}var Dn=!0;function Mn(e,t){Un(t,e,!1)}function Un(e,t,n){switch(An(t)){case 0:var r=xn.bind(null,t,1);break;case 1:r=jn.bind(null,t,1);break;default:r=Fn.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function xn(e,t,n){xe||Me();var r=Fn,o=xe;xe=!0;try{De(r,e,t,n)}finally{(xe=o)||je()}}function jn(e,t,n){Fn(e,t,n)}function Fn(e,t,n){if(Dn){if(null===(t=U(t=Be(n)))||"number"!=typeof t.tag||2===an(t)||(t=null),kn.length){var r=kn.pop();r.topLevelType=e,r.nativeEvent=n,r.targetInst=t,e=r}else e={topLevelType:e,nativeEvent:n,targetInst:t,ancestors:[]};try{if(n=e,xe)Nn(n);else{xe=!0;try{Ue(Nn,n,void 0)}finally{xe=!1,je()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>kn.length&&kn.push(e)}}}var Vn=new("function"==typeof WeakMap?WeakMap:Map);function Bn(e){var t=Vn.get(e);return void 0===t&&(t=new Set,Vn.set(e,t)),t}function Hn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Gn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qn(e,t){var n,r=Gn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gn(r)}}function zn(){for(var e=window,t=Hn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Hn((e=t.contentWindow).document)}return t}function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Kn=W&&"documentMode"in document&&11>=document.documentMode,Yn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Qn=null,Zn=null,Xn=null,Jn=!1;function $n(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Jn||null==Qn||Qn!==Hn(n)?null:("selectionStart"in(n=Qn)&&Wn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Xn&&rn(Xn,n)?null:(Xn=n,(e=le.getPooled(Yn.select,Zn,e,t)).type="select",e.target=Qn,z(e),e))}var er={eventTypes:Yn,extractEvents:function(e,t,n,r){var o,a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(o=!a)){e:{a=Bn(a),o=h.onSelect;for(var i=0;i<o.length;i++)if(!a.has(o[i])){a=!1;break e}a=!0}o=!a}if(o)return null;switch(a=t?j(t):window,e){case"focus":(Ve(a)||"true"===a.contentEditable)&&(Qn=a,Zn=t,Xn=null);break;case"blur":Xn=Zn=Qn=null;break;case"mousedown":Jn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Jn=!1,$n(n,r);case"selectionchange":if(Kn)break;case"keydown":case"keyup":return $n(n,r)}return null}};function tr(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function nr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+St(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function rr(e,t){if(null!=t.dangerouslySetInnerHTML)throw i(Error(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function or(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw i(Error(92));if(Array.isArray(t)){if(!(1>=t.length))throw i(Error(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:St(n)}}function ar(e,t){var n=St(t.value),r=St(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ir(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}A.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),T=F,O=x,C=j,A.injectEventPluginsByName({SimpleEventPlugin:Rn,EnterLeaveEventPlugin:en,ChangeEventPlugin:Ht,SelectEventPlugin:er,BeforeInputEventPlugin:_e});var sr={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ur(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ur(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var cr=void 0,fr=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==sr.svg||"innerHTML"in e)e.innerHTML=t;else{for((cr=cr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=cr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hr=["Webkit","ms","Moz","O"];function mr(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pr.hasOwnProperty(e)&&pr[e]?(""+t).trim():t+"px"}function vr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=mr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pr).forEach(function(e){hr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pr[t]=pr[e]})});var yr=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gr(e,t){if(t){if(yr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw i(Error(137),e,"");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw i(Error(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw i(Error(61))}if(null!=t.style&&"object"!=typeof t.style)throw i(Error(62),"")}}function br(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Er(e,t){var n=Bn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=h[t];for(var r=0;r<t.length;r++){var o=t[r];if(!n.has(o)){switch(o){case"scroll":Un(e,"scroll",!0);break;case"focus":case"blur":Un(e,"focus",!0),Un(e,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":He(o)&&Un(e,o,!0);break;case"invalid":case"submit":case"reset":break;default:-1===ne.indexOf(o)&&Mn(o,e)}n.add(o)}}}function Sr(){}var Tr=null,Or=null;function Cr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function wr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var _r="function"==typeof setTimeout?setTimeout:void 0,Pr="function"==typeof clearTimeout?clearTimeout:void 0;function Ir(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}new Set;var Lr=[],Rr=-1;function Ar(e){0>Rr||(e.current=Lr[Rr],Lr[Rr]=null,Rr--)}function kr(e,t){Lr[++Rr]=e.current,e.current=t}var Nr={},Dr={current:Nr},Mr={current:!1},Ur=Nr;function xr(e,t){var n=e.type.contextTypes;if(!n)return Nr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,a={};for(o in n)a[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function jr(e){return null!=(e=e.childContextTypes)}function Fr(e){Ar(Mr),Ar(Dr)}function Vr(e){Ar(Mr),Ar(Dr)}function Br(e,t,n){if(Dr.current!==Nr)throw i(Error(168));kr(Dr,t),kr(Mr,n)}function Hr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw i(Error(108),ct(t)||"Unknown",a);return o({},n,r)}function Gr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Nr,Ur=Dr.current,kr(Dr,t),kr(Mr,Mr.current),!0}function qr(e,t,n){var r=e.stateNode;if(!r)throw i(Error(169));n?(t=Hr(e,t,Ur),r.__reactInternalMemoizedMergedChildContext=t,Ar(Mr),Ar(Dr),kr(Dr,t)):Ar(Mr),kr(Mr,n)}var zr=a.unstable_runWithPriority,Wr=a.unstable_scheduleCallback,Kr=a.unstable_cancelCallback,Yr=a.unstable_shouldYield,Qr=a.unstable_requestPaint,Zr=a.unstable_now,Xr=a.unstable_getCurrentPriorityLevel,Jr=a.unstable_ImmediatePriority,$r=a.unstable_UserBlockingPriority,eo=a.unstable_NormalPriority,to=a.unstable_LowPriority,no=a.unstable_IdlePriority,ro={},oo=void 0!==Qr?Qr:function(){},ao=null,io=null,so=!1,uo=Zr(),lo=1e4>uo?Zr:function(){return Zr()-uo};function co(){switch(Xr()){case Jr:return 99;case $r:return 98;case eo:return 97;case to:return 96;case no:return 95;default:throw i(Error(332))}}function fo(e){switch(e){case 99:return Jr;case 98:return $r;case 97:return eo;case 96:return to;case 95:return no;default:throw i(Error(332))}}function po(e,t){return e=fo(e),zr(e,t)}function ho(e,t,n){return e=fo(e),Wr(e,t,n)}function mo(e){return null===ao?(ao=[e],io=Wr(Jr,yo)):ao.push(e),ro}function vo(){null!==io&&Kr(io),yo()}function yo(){if(!so&&null!==ao){so=!0;var e=0;try{var t=ao;po(99,function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}}),ao=null}catch(t){throw null!==ao&&(ao=ao.slice(e+1)),Wr(Jr,vo),t}finally{so=!1}}}function go(e,t){return 1073741823===t?99:1===t?95:0>=(e=10*(1073741821-t)-10*(1073741821-e))?99:250>=e?98:5250>=e?97:95}function bo(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Eo={current:null},So=null,To=null,Oo=null;function Co(){Oo=To=So=null}function wo(e,t){var n=e.type._context;kr(Eo,n._currentValue),n._currentValue=t}function _o(e){var t=Eo.current;Ar(Eo),e.type._context._currentValue=t}function Po(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Io(e,t){So=e,Oo=To=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(fi=!0),e.firstContext=null)}function Lo(e,t){if(Oo!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Oo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===To){if(null===So)throw i(Error(308));To=t,So.dependencies={expirationTime:0,firstContext:t,responders:null}}else To=To.next=t;return e._currentValue}var Ro=!1;function Ao(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ko(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function No(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Do(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Mo(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,o=null;null===r&&(r=e.updateQueue=Ao(e.memoizedState))}else r=e.updateQueue,o=n.updateQueue,null===r?null===o?(r=e.updateQueue=Ao(e.memoizedState),o=n.updateQueue=Ao(n.memoizedState)):r=e.updateQueue=ko(o):null===o&&(o=n.updateQueue=ko(r));null===o||r===o?Do(r,t):null===r.lastUpdate||null===o.lastUpdate?(Do(r,t),Do(o,t)):(Do(r,t),o.lastUpdate=t)}function Uo(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Ao(e.memoizedState):xo(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function xo(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=ko(t)),t}function jo(e,t,n,r,a,i){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(i,r,a):e;case 3:e.effectTag=-2049&e.effectTag|64;case 0:if(null==(a="function"==typeof(e=n.payload)?e.call(i,r,a):e))break;return o({},r,a);case 2:Ro=!0}return r}function Fo(e,t,n,r,o){Ro=!1;for(var a=(t=xo(e,t)).baseState,i=null,s=0,u=t.firstUpdate,l=a;null!==u;){var c=u.expirationTime;c<o?(null===i&&(i=u,a=l),s<c&&(s=c)):(Hs(c,u.suspenseConfig),l=jo(e,0,u,l,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(c=null,u=t.firstCapturedUpdate;null!==u;){var f=u.expirationTime;f<o?(null===c&&(c=u,null===i&&(a=l)),s<f&&(s=f)):(l=jo(e,0,u,l,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===i&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===i&&null===c&&(a=l),t.baseState=a,t.firstUpdate=i,t.firstCapturedUpdate=c,e.expirationTime=s,e.memoizedState=l}function Vo(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),Bo(t.firstEffect,n),t.firstEffect=t.lastEffect=null,Bo(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function Bo(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!=typeof n)throw i(Error(191),n);n.call(r)}e=e.nextEffect}}var Ho=We.ReactCurrentBatchConfig,Go=(new r.Component).refs;function qo(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var zo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===an(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Ls(),o=Ho.suspense;(o=No(r=Rs(r,e,o),o)).payload=t,null!=n&&(o.callback=n),Mo(e,o),ks(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Ls(),o=Ho.suspense;(o=No(r=Rs(r,e,o),o)).tag=1,o.payload=t,null!=n&&(o.callback=n),Mo(e,o),ks(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ls(),r=Ho.suspense;(r=No(n=Rs(n,e,r),r)).tag=2,null!=t&&(r.callback=t),Mo(e,r),ks(e,n)}};function Wo(e,t,n,r,o,a,i){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!rn(n,r)||!rn(o,a))}function Ko(e,t,n){var r=!1,o=Nr,a=t.contextType;return"object"==typeof a&&null!==a?a=Lo(a):(o=jr(t)?Ur:Dr.current,a=(r=null!=(r=t.contextTypes))?xr(e,o):Nr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Yo(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function Qo(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Go;var a=t.contextType;"object"==typeof a&&null!==a?o.context=Lo(a):(a=jr(t)?Ur:Dr.current,o.context=xr(e,a)),null!==(a=e.updateQueue)&&(Fo(e,a,n,o,r),o.state=e.memoizedState),"function"==typeof(a=t.getDerivedStateFromProps)&&(qo(e,t,a,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&zo.enqueueReplaceState(o,o.state,null),null!==(a=e.updateQueue)&&(Fo(e,a,n,o,r),o.state=e.memoizedState)),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var Zo=Array.isArray;function Xo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;if(n){if(1!==n.tag)throw i(Error(309));r=n.stateNode}if(!r)throw i(Error(147),e);var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===Go&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw i(Error(284));if(!n._owner)throw i(Error(290),e)}return e}function Jo(e,t){if("textarea"!==e.type)throw i(Error(31),"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function $o(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return(e=au(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=uu(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Xo(e,t,n),r.return=e,r):((r=iu(n.type,n.key,n.props,null,e.mode,r)).ref=Xo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=lu(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=su(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=uu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Qe:return(n=iu(t.type,t.key,t.props,null,e.mode,n)).ref=Xo(e,null,t),n.return=e,n;case Ze:return(t=lu(t,e.mode,n)).return=e,t}if(Zo(t)||lt(t))return(t=su(t,e.mode,n,null)).return=e,t;Jo(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Qe:return n.key===o?n.type===Xe?f(e,t,n.props.children,r,o):l(e,t,n,r):null;case Ze:return n.key===o?c(e,t,n,r):null}if(Zo(n)||lt(n))return null!==o?null:f(e,t,n,r,null);Jo(e,n)}return null}function h(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Qe:return e=e.get(null===r.key?n:r.key)||null,r.type===Xe?f(t,e,r.props.children,o,r.key):l(t,e,r,o);case Ze:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(Zo(r)||lt(r))return f(t,e=e.get(n)||null,r,o,null);Jo(t,r)}return null}function m(o,i,s,u){for(var l=null,c=null,f=i,m=i=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var y=p(o,f,s[m],u);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(o,f),i=a(y,i,m),null===c?l=y:c.sibling=y,c=y,f=v}if(m===s.length)return n(o,f),l;if(null===f){for(;m<s.length;m++)null!==(f=d(o,s[m],u))&&(i=a(f,i,m),null===c?l=f:c.sibling=f,c=f);return l}for(f=r(o,f);m<s.length;m++)null!==(v=h(f,o,m,s[m],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),i=a(v,i,m),null===c?l=v:c.sibling=v,c=v);return e&&f.forEach(function(e){return t(o,e)}),l}function v(o,s,u,l){var c=lt(u);if("function"!=typeof c)throw i(Error(150));if(null==(u=c.call(u)))throw i(Error(151));for(var f=c=null,m=s,v=s=0,y=null,g=u.next();null!==m&&!g.done;v++,g=u.next()){m.index>v?(y=m,m=null):y=m.sibling;var b=p(o,m,g.value,l);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(o,m),s=a(b,s,v),null===f?c=b:f.sibling=b,f=b,m=y}if(g.done)return n(o,m),c;if(null===m){for(;!g.done;v++,g=u.next())null!==(g=d(o,g.value,l))&&(s=a(g,s,v),null===f?c=g:f.sibling=g,f=g);return c}for(m=r(o,m);!g.done;v++,g=u.next())null!==(g=h(m,o,v,g.value,l))&&(e&&null!==g.alternate&&m.delete(null===g.key?v:g.key),s=a(g,s,v),null===f?c=g:f.sibling=g,f=g);return e&&m.forEach(function(e){return t(o,e)}),c}return function(e,r,a,u){var l="object"==typeof a&&null!==a&&a.type===Xe&&null===a.key;l&&(a=a.props.children);var c="object"==typeof a&&null!==a;if(c)switch(a.$$typeof){case Qe:e:{for(c=a.key,l=r;null!==l;){if(l.key===c){if(7===l.tag?a.type===Xe:l.elementType===a.type){n(e,l.sibling),(r=o(l,a.type===Xe?a.props.children:a.props)).ref=Xo(e,l,a),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}a.type===Xe?((r=su(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=iu(a.type,a.key,a.props,null,e.mode,u)).ref=Xo(e,r,a),u.return=e,e=u)}return s(e);case Ze:e:{for(l=a.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=o(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=lu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,a)).return=e,e=r):(n(e,r),(r=uu(a,e.mode,u)).return=e,e=r),s(e);if(Zo(a))return m(e,r,a,u);if(lt(a))return v(e,r,a,u);if(c&&Jo(e,a),void 0===a&&!l)switch(e.tag){case 1:case 0:throw e=e.type,i(Error(152),e.displayName||e.name||"Component")}return n(e,r)}}var ea=$o(!0),ta=$o(!1),na={},ra={current:na},oa={current:na},aa={current:na};function ia(e){if(e===na)throw i(Error(174));return e}function sa(e,t){kr(aa,t),kr(oa,e),kr(ra,na);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lr(null,"");break;default:t=lr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Ar(ra),kr(ra,t)}function ua(e){Ar(ra),Ar(oa),Ar(aa)}function la(e){ia(aa.current);var t=ia(ra.current),n=lr(t,e.type);t!==n&&(kr(oa,e),kr(ra,n))}function ca(e){oa.current===e&&(Ar(ra),Ar(oa))}var fa=1,da=1,pa=2,ha={current:0};function ma(e){for(var t=e;null!==t;){if(13===t.tag){if(null!==t.memoizedState)return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var va=0,ya=2,ga=4,ba=8,Ea=16,Sa=32,Ta=64,Oa=128,Ca=We.ReactCurrentDispatcher,wa=0,_a=null,Pa=null,Ia=null,La=null,Ra=null,Aa=null,ka=0,Na=null,Da=0,Ma=!1,Ua=null,xa=0;function ja(){throw i(Error(321))}function Fa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tn(e[n],t[n]))return!1;return!0}function Va(e,t,n,r,o,a){if(wa=a,_a=t,Ia=null!==e?e.memoizedState:null,Ca.current=null===Ia?$a:ei,t=n(r,o),Ma){do{Ma=!1,xa+=1,Ia=null!==e?e.memoizedState:null,Aa=La,Na=Ra=Pa=null,Ca.current=ei,t=n(r,o)}while(Ma);Ua=null,xa=0}if(Ca.current=Ja,(e=_a).memoizedState=La,e.expirationTime=ka,e.updateQueue=Na,e.effectTag|=Da,e=null!==Pa&&null!==Pa.next,wa=0,Aa=Ra=La=Ia=Pa=_a=null,ka=0,Na=null,Da=0,e)throw i(Error(300));return t}function Ba(){Ca.current=Ja,wa=0,Aa=Ra=La=Ia=Pa=_a=null,ka=0,Na=null,Da=0,Ma=!1,Ua=null,xa=0}function Ha(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Ra?La=Ra=e:Ra=Ra.next=e,Ra}function Ga(){if(null!==Aa)Aa=(Ra=Aa).next,Ia=null!==(Pa=Ia)?Pa.next:null;else{if(null===Ia)throw i(Error(310));var e={memoizedState:(Pa=Ia).memoizedState,baseState:Pa.baseState,queue:Pa.queue,baseUpdate:Pa.baseUpdate,next:null};Ra=null===Ra?La=e:Ra.next=e,Ia=Pa.next}return Ra}function qa(e,t){return"function"==typeof t?t(e):t}function za(e){var t=Ga(),n=t.queue;if(null===n)throw i(Error(311));if(n.lastRenderedReducer=e,0<xa){var r=n.dispatch;if(null!==Ua){var o=Ua.get(n);if(void 0!==o){Ua.delete(n);var a=t.memoizedState;do{a=e(a,o.action),o=o.next}while(null!==o);return tn(a,t.memoizedState)||(fi=!0),t.memoizedState=a,t.baseUpdate===n.last&&(t.baseState=a),n.lastRenderedState=a,[a,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(a=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var u=o=null,l=r,c=!1;do{var f=l.expirationTime;f<wa?(c||(c=!0,u=s,o=a),f>ka&&(ka=f)):(Hs(f,l.suspenseConfig),a=l.eagerReducer===e?l.eagerState:e(a,l.action)),s=l,l=l.next}while(null!==l&&l!==r);c||(u=s,o=a),tn(a,t.memoizedState)||(fi=!0),t.memoizedState=a,t.baseUpdate=u,t.baseState=o,n.lastRenderedState=a}return[t.memoizedState,n.dispatch]}function Wa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Na?(Na={lastEffect:null}).lastEffect=e.next=e:null===(t=Na.lastEffect)?Na.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Na.lastEffect=e),e}function Ka(e,t,n,r){var o=Ha();Da|=e,o.memoizedState=Wa(t,n,void 0,void 0===r?null:r)}function Ya(e,t,n,r){var o=Ga();r=void 0===r?null:r;var a=void 0;if(null!==Pa){var i=Pa.memoizedState;if(a=i.destroy,null!==r&&Fa(r,i.deps))return void Wa(va,n,a,r)}Da|=e,o.memoizedState=Wa(t,n,a,r)}function Qa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Za(){}function Xa(e,t,n){if(!(25>xa))throw i(Error(301));var r=e.alternate;if(e===_a||null!==r&&r===_a)if(Ma=!0,e={expirationTime:wa,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===Ua&&(Ua=new Map),void 0===(n=Ua.get(t)))Ua.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var o=Ls(),a=Ho.suspense;a={expirationTime:o=Rs(o,e,a),suspenseConfig:a,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)a.next=a;else{var u=s.next;null!==u&&(a.next=u),s.next=a}if(t.last=a,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var l=t.lastRenderedState,c=r(l,n);if(a.eagerReducer=r,a.eagerState=c,tn(c,l))return}catch(e){}ks(e,o)}}var Ja={readContext:Lo,useCallback:ja,useContext:ja,useEffect:ja,useImperativeHandle:ja,useLayoutEffect:ja,useMemo:ja,useReducer:ja,useRef:ja,useState:ja,useDebugValue:ja,useResponder:ja},$a={readContext:Lo,useCallback:function(e,t){return Ha().memoizedState=[e,void 0===t?null:t],e},useContext:Lo,useEffect:function(e,t){return Ka(516,Oa|Ta,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ka(4,ga|Sa,Qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ka(4,ga|Sa,e,t)},useMemo:function(e,t){var n=Ha();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ha();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Xa.bind(null,_a,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ha().memoizedState=e},useState:function(e){var t=Ha();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:qa,lastRenderedState:e}).dispatch=Xa.bind(null,_a,e),[t.memoizedState,e]},useDebugValue:Za,useResponder:on},ei={readContext:Lo,useCallback:function(e,t){var n=Ga();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Lo,useEffect:function(e,t){return Ya(516,Oa|Ta,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Ya(4,ga|Sa,Qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ya(4,ga|Sa,e,t)},useMemo:function(e,t){var n=Ga();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:za,useRef:function(){return Ga().memoizedState},useState:function(e){return za(qa)},useDebugValue:Za,useResponder:on},ti=null,ni=null,ri=!1;function oi(e,t){var n=ru(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ai(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function ii(e){if(ri){var t=ni;if(t){var n=t;if(!ai(e,t)){if(!(t=Ir(n.nextSibling))||!ai(e,t))return e.effectTag|=2,ri=!1,void(ti=e);oi(ti,n)}ti=e,ni=Ir(t.firstChild)}else e.effectTag|=2,ri=!1,ti=e}}function si(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;ti=e}function ui(e){if(e!==ti)return!1;if(!ri)return si(e),ri=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!wr(t,e.memoizedProps))for(t=ni;t;)oi(e,t),t=Ir(t.nextSibling);return si(e),ni=ti?Ir(e.stateNode.nextSibling):null,!0}function li(){ni=ti=null,ri=!1}var ci=We.ReactCurrentOwner,fi=!1;function di(e,t,n,r){t.child=null===e?ta(t,null,n,r):ea(t,e.child,n,r)}function pi(e,t,n,r,o){n=n.render;var a=t.ref;return Io(t,o),r=Va(e,t,n,r,a,o),null===e||fi?(t.effectTag|=1,di(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),wi(e,t,o))}function hi(e,t,n,r,o,a){if(null===e){var i=n.type;return"function"!=typeof i||ou(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=iu(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,mi(e,t,i,r,o,a))}return i=e.child,o<a&&(o=i.memoizedProps,(n=null!==(n=n.compare)?n:rn)(o,r)&&e.ref===t.ref)?wi(e,t,a):(t.effectTag|=1,(e=au(i,r)).ref=t.ref,e.return=t,t.child=e)}function mi(e,t,n,r,o,a){return null!==e&&rn(e.memoizedProps,r)&&e.ref===t.ref&&(fi=!1,o<a)?wi(e,t,a):yi(e,t,n,r,a)}function vi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function yi(e,t,n,r,o){var a=jr(n)?Ur:Dr.current;return a=xr(t,a),Io(t,o),n=Va(e,t,n,r,a,o),null===e||fi?(t.effectTag|=1,di(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),wi(e,t,o))}function gi(e,t,n,r,o){if(jr(n)){var a=!0;Gr(t)}else a=!1;if(Io(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Ko(t,n,r),Qo(t,n,r,o),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var u=i.context,l=n.contextType;"object"==typeof l&&null!==l?l=Lo(l):l=xr(t,l=jr(n)?Ur:Dr.current);var c=n.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof i.getSnapshotBeforeUpdate;f||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||u!==l)&&Yo(t,i,r,l),Ro=!1;var d=t.memoizedState;u=i.state=d;var p=t.updateQueue;null!==p&&(Fo(t,p,r,i,o),u=t.memoizedState),s!==r||d!==u||Mr.current||Ro?("function"==typeof c&&(qo(t,n,c,r),u=t.memoizedState),(s=Ro||Wo(t,n,s,r,d,u,l))?(f||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(t.effectTag|=4)):("function"==typeof i.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=l,r=s):("function"==typeof i.componentDidMount&&(t.effectTag|=4),r=!1)}else i=t.stateNode,s=t.memoizedProps,i.props=t.type===t.elementType?s:bo(t.type,s),u=i.context,"object"==typeof(l=n.contextType)&&null!==l?l=Lo(l):l=xr(t,l=jr(n)?Ur:Dr.current),(f="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof i.getSnapshotBeforeUpdate)||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||(s!==r||u!==l)&&Yo(t,i,r,l),Ro=!1,u=t.memoizedState,d=i.state=u,null!==(p=t.updateQueue)&&(Fo(t,p,r,i,o),d=t.memoizedState),s!==r||u!==d||Mr.current||Ro?("function"==typeof c&&(qo(t,n,c,r),d=t.memoizedState),(c=Ro||Wo(t,n,s,r,u,d,l))?(f||"function"!=typeof i.UNSAFE_componentWillUpdate&&"function"!=typeof i.componentWillUpdate||("function"==typeof i.componentWillUpdate&&i.componentWillUpdate(r,d,l),"function"==typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,d,l)),"function"==typeof i.componentDidUpdate&&(t.effectTag|=4),"function"==typeof i.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),i.props=r,i.state=d,i.context=l,r=c):("function"!=typeof i.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return bi(e,t,n,r,a,o)}function bi(e,t,n,r,o,a){vi(e,t);var i=0!=(64&t.effectTag);if(!r&&!i)return o&&qr(t,n,!1),wi(e,t,a);r=t.stateNode,ci.current=t;var s=i&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&i?(t.child=ea(t,e.child,null,a),t.child=ea(t,null,s,a)):di(e,t,s,a),t.memoizedState=r.state,o&&qr(t,n,!0),t.child}function Ei(e){var t=e.stateNode;t.pendingContext?Br(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Br(0,t.context,!1),sa(e,t.containerInfo)}var Si={};function Ti(e,t,n){var r,o=t.mode,a=t.pendingProps,i=ha.current,s=null,u=!1;if((r=0!=(64&t.effectTag))||(r=0!=(i&pa)&&(null===e||null!==e.memoizedState)),r?(s=Si,u=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(i|=da),kr(ha,i&=fa),null===e)if(u){if(a=a.fallback,(e=su(null,o,0,null)).return=t,0==(2&t.mode))for(u=null!==t.memoizedState?t.child.child:t.child,e.child=u;null!==u;)u.return=e,u=u.sibling;(n=su(a,o,n,null)).return=t,e.sibling=n,o=e}else o=n=ta(t,null,a.children,n);else{if(null!==e.memoizedState)if(o=(i=e.child).sibling,u){if(a=a.fallback,(n=au(i,i.pendingProps)).return=t,0==(2&t.mode)&&(u=null!==t.memoizedState?t.child.child:t.child)!==i.child)for(n.child=u;null!==u;)u.return=n,u=u.sibling;(a=au(o,a,o.expirationTime)).return=t,n.sibling=a,o=n,n.childExpirationTime=0,n=a}else o=n=ea(t,i.child,a.children,n);else if(i=e.child,u){if(u=a.fallback,(a=su(null,o,0,null)).return=t,a.child=i,null!==i&&(i.return=a),0==(2&t.mode))for(i=null!==t.memoizedState?t.child.child:t.child,a.child=i;null!==i;)i.return=a,i=i.sibling;(n=su(u,o,n,null)).return=t,a.sibling=n,n.effectTag|=2,o=a,a.childExpirationTime=0}else n=o=ea(t,i,a.children,n);t.stateNode=e.stateNode}return t.memoizedState=s,t.child=o,n}function Oi(e,t,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=o)}function Ci(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(di(e,t,r.children,n),0!=((r=ha.current)&pa))r=r&fa|pa,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag){if(null!==e.memoizedState){e.expirationTime<n&&(e.expirationTime=n);var i=e.alternate;null!==i&&i.expirationTime<n&&(i.expirationTime=n),Po(e.return,n)}}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=fa}if(kr(ha,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(r=n.alternate)&&null===ma(r)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Oi(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(r=o.alternate)&&null===ma(r)){t.child=o;break}r=o.sibling,o.sibling=n,n=o,o=r}Oi(t,!0,n,null,a);break;case"together":Oi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function wi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw i(Error(153));if(null!==t.child){for(n=au(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=au(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function _i(e){e.effectTag|=4}var Pi=void 0,Ii=void 0,Li=void 0,Ri=void 0;function Ai(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ki(e){switch(e.tag){case 1:jr(e.type)&&Fr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:if(ua(),Vr(),0!=(64&(t=e.effectTag)))throw i(Error(285));return e.effectTag=-2049&t|64,e;case 5:return ca(e),null;case 13:return Ar(ha),2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 19:return Ar(ha),null;case 4:return ua(),null;case 10:return _o(e),null;default:return null}}function Ni(e,t){return{value:e,source:t,stack:ft(t)}}Pi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(20===n.tag)e.appendChild(n.stateNode.instance);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ii=function(){},Li=function(e,t,n,r,a){var i=e.memoizedProps;if(i!==r){var s=t.stateNode;switch(ia(ra.current),e=null,n){case"input":i=Tt(s,i),r=Tt(s,r),e=[];break;case"option":i=tr(s,i),r=tr(s,r),e=[];break;case"select":i=o({},i,{value:void 0}),r=o({},r,{value:void 0}),e=[];break;case"textarea":i=rr(s,i),r=rr(s,r),e=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(s.onclick=Sr)}gr(n,r),s=n=void 0;var u=null;for(n in i)if(!r.hasOwnProperty(n)&&i.hasOwnProperty(n)&&null!=i[n])if("style"===n){var l=i[n];for(s in l)l.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(p.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var c=r[n];if(l=null!=i?i[n]:void 0,r.hasOwnProperty(n)&&c!==l&&(null!=c||null!=l))if("style"===n)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(u||(u={}),u[s]=c[s])}else u||(e||(e=[]),e.push(n,u)),u=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(e=e||[]).push(n,""+c)):"children"===n?l===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(p.hasOwnProperty(n)?(null!=c&&Er(a,n),e||l===c||(e=[])):(e=e||[]).push(n,c))}u&&(e=e||[]).push("style",u),a=e,(t.updateQueue=a)&&_i(t)}},Ri=function(e,t,n,r){n!==r&&_i(t)};var Di="function"==typeof WeakSet?WeakSet:Set;function Mi(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ft(n)),null!==n&&ct(n.type),t=t.value,null!==e&&1===e.tag&&ct(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function Ui(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Zs(e,t)}else t.current=null}function xi(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==va){var o=r.destroy;r.destroy=void 0,void 0!==o&&o()}(r.tag&t)!==va&&(o=r.create,r.destroy=o()),r=r.next}while(r!==n)}}function ji(e,t){switch("function"==typeof tu&&tu(e),e.tag){case 0:case 11:case 14:case 15:var n=e.updateQueue;if(null!==n&&null!==(n=n.lastEffect)){var r=n.next;po(97<t?97:t,function(){var t=r;do{var n=t.destroy;if(void 0!==n){var o=e;try{n()}catch(e){Zs(o,e)}}t=t.next}while(t!==r)})}break;case 1:Ui(e),"function"==typeof(t=e.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Zs(e,t)}}(e,t);break;case 5:Ui(e);break;case 4:Hi(e,t)}}function Fi(e,t){for(var n=e;;)if(ji(n,t),null!==n.child&&4!==n.tag)n.child.return=n,n=n.child;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Vi(e){return 5===e.tag||3===e.tag||4===e.tag}function Bi(e){e:{for(var t=e.return;null!==t;){if(Vi(t)){var n=t;break e}t=t.return}throw i(Error(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw i(Error(161))}16&n.effectTag&&(dr(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Vi(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){var a=5===o.tag||6===o.tag;if(a||20===o.tag){var s=a?o.stateNode:o.stateNode.instance;if(n)if(r){var u=s;s=n,8===(a=t).nodeType?a.parentNode.insertBefore(u,s):a.insertBefore(u,s)}else t.insertBefore(s,n);else r?(8===(u=t).nodeType?(a=u.parentNode).insertBefore(s,u):(a=u).appendChild(s),null!=(u=u._reactRootContainer)||null!==a.onclick||(a.onclick=Sr)):t.appendChild(s)}else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function Hi(e,t){for(var n=e,r=!1,o=void 0,a=void 0;;){if(!r){r=n.return;e:for(;;){if(null===r)throw i(Error(160));switch(o=r.stateNode,r.tag){case 5:a=!1;break e;case 3:case 4:o=o.containerInfo,a=!0;break e}r=r.return}r=!0}if(5===n.tag||6===n.tag)if(Fi(n,t),a){var s=o,u=n.stateNode;8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)}else o.removeChild(n.stateNode);else if(20===n.tag)u=n.stateNode.instance,Fi(n,t),a?8===(s=o).nodeType?s.parentNode.removeChild(u):s.removeChild(u):o.removeChild(u);else if(4===n.tag){if(null!==n.child){o=n.stateNode.containerInfo,a=!0,n.child.return=n,n=n.child;continue}}else if(ji(n,t),null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;4===(n=n.return).tag&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Gi(e,t){switch(t.tag){case 0:case 11:case 14:case 15:xi(ga,ba,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,o=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[M]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ct(n,r),br(e,o),t=br(e,r),o=0;o<a.length;o+=2){var s=a[o],u=a[o+1];"style"===s?vr(n,u):"dangerouslySetInnerHTML"===s?fr(n,u):"children"===s?dr(n,u):Et(n,s,u,t)}switch(e){case"input":wt(n,r);break;case"textarea":ar(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?nr(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?nr(n,!!r.multiple,r.defaultValue,!0):nr(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw i(Error(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,ms=lo()),null!==n)e:for(e=n;;){if(5===e.tag)a=e.stateNode,r?"function"==typeof(a=a.style).setProperty?a.setProperty("display","none","important"):a.display="none":(a=e.stateNode,o=null!=(o=e.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null,a.style.display=mr("display",o));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState){(a=e.child.sibling).return=e,e=a;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}qi(t);break;case 19:qi(t);break;case 17:case 20:break;default:throw i(Error(163))}}function qi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Di),t.forEach(function(t){var r=Js.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}var zi="function"==typeof WeakMap?WeakMap:Map;function Wi(e,t,n){(n=No(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){gs||(gs=!0,bs=r),Mi(e,t)},n}function Ki(e,t,n){(n=No(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return Mi(e,t),r(o)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Es?Es=new Set([this]):Es.add(this),Mi(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Yi=Math.ceil,Qi=We.ReactCurrentDispatcher,Zi=We.ReactCurrentOwner,Xi=0,Ji=8,$i=16,es=32,ts=0,ns=1,rs=2,os=3,as=4,is=Xi,ss=null,us=null,ls=0,cs=ts,fs=1073741823,ds=1073741823,ps=null,hs=!1,ms=0,vs=500,ys=null,gs=!1,bs=null,Es=null,Ss=!1,Ts=null,Os=90,Cs=0,ws=null,_s=0,Ps=null,Is=0;function Ls(){return(is&($i|es))!==Xi?1073741821-(lo()/10|0):0!==Is?Is:Is=1073741821-(lo()/10|0)}function Rs(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=co();if(0==(4&t))return 99===r?1073741823:1073741822;if((is&$i)!==Xi)return ls;if(null!==n)e=1073741821-25*(1+((1073741821-e+(0|n.timeoutMs||5e3)/10)/25|0));else switch(r){case 99:e=1073741823;break;case 98:e=1073741821-10*(1+((1073741821-e+15)/10|0));break;case 97:case 96:e=1073741821-25*(1+((1073741821-e+500)/25|0));break;case 95:e=1;break;default:throw i(Error(326))}return null!==ss&&e===ls&&--e,e}var As=0;function ks(e,t){if(50<_s)throw _s=0,Ps=null,i(Error(185));if(null!==(e=Ns(e,t))){e.pingTime=0;var n=co();if(1073741823===t)if((is&Ji)!==Xi&&(is&($i|es))===Xi)for(var r=Bs(e,1073741823,!0);null!==r;)r=r(!0);else Ds(e,99,1073741823),is===Xi&&vo();else Ds(e,n,t);(4&is)===Xi||98!==n&&99!==n||(null===ws?ws=new Map([[e,t]]):(void 0===(n=ws.get(e))||n>t)&&ws.set(e,t))}}function Ns(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return null!==o&&(t>o.firstPendingTime&&(o.firstPendingTime=t),0===(e=o.lastPendingTime)||t<e)&&(o.lastPendingTime=t),o}function Ds(e,t,n){if(e.callbackExpirationTime<n){var r=e.callbackNode;null!==r&&r!==ro&&Kr(r),e.callbackExpirationTime=n,1073741823===n?e.callbackNode=mo(Ms.bind(null,e,Bs.bind(null,e,n))):(r=null,1!==n&&(r={timeout:10*(1073741821-n)-lo()}),e.callbackNode=ho(t,Ms.bind(null,e,Bs.bind(null,e,n)),r))}}function Ms(e,t,n){var r=e.callbackNode,o=null;try{return null!==(o=t(n))?Ms.bind(null,e,o):null}finally{null===o&&r===e.callbackNode&&(e.callbackNode=null,e.callbackExpirationTime=0)}}function Us(){(is&(1|$i|es))===Xi&&(function(){if(null!==ws){var e=ws;ws=null,e.forEach(function(e,t){mo(Bs.bind(null,t,e))}),vo()}}(),Ks())}function xs(e,t){var n=is;is|=1;try{return e(t)}finally{(is=n)===Xi&&vo()}}function js(e,t,n,r){var o=is;is|=4;try{return po(98,e.bind(null,t,n,r))}finally{(is=o)===Xi&&vo()}}function Fs(e,t){var n=is;is&=-2,is|=Ji;try{return e(t)}finally{(is=n)===Xi&&vo()}}function Vs(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Pr(n)),null!==us)for(n=us.return;null!==n;){var r=n;switch(r.tag){case 1:var o=r.type.childContextTypes;null!=o&&Fr();break;case 3:ua(),Vr();break;case 5:ca(r);break;case 4:ua();break;case 13:case 19:Ar(ha);break;case 10:_o(r)}n=n.return}ss=e,us=au(e.current,null),ls=t,cs=ts,ds=fs=1073741823,ps=null,hs=!1}function Bs(e,t,n){if((is&($i|es))!==Xi)throw i(Error(327));if(e.firstPendingTime<t)return null;if(n&&e.finishedExpirationTime===t)return zs.bind(null,e);if(Ks(),e!==ss||t!==ls)Vs(e,t);else if(cs===os)if(hs)Vs(e,t);else{var r=e.lastPendingTime;if(r<t)return Bs.bind(null,e,r)}if(null!==us){r=is,is|=$i;var o=Qi.current;if(null===o&&(o=Ja),Qi.current=Ja,n){if(1073741823!==t){var a=Ls();if(a<t)return is=r,Co(),Qi.current=o,Bs.bind(null,e,a)}}else Is=0;for(;;)try{if(n)for(;null!==us;)us=Gs(us);else for(;null!==us&&!Yr();)us=Gs(us);break}catch(n){if(Co(),Ba(),null===(a=us)||null===a.return)throw Vs(e,t),is=r,n;e:{var s=e,u=a.return,l=a,c=n,f=ls;if(l.effectTag|=1024,l.firstEffect=l.lastEffect=null,null!==c&&"object"==typeof c&&"function"==typeof c.then){var d=c,p=0!=(ha.current&da);c=u;do{var h;if((h=13===c.tag)&&(null!==c.memoizedState?h=!1:h=void 0!==(h=c.memoizedProps).fallback&&(!0!==h.unstable_avoidThisFallback||!p)),h){if(null===(u=c.updateQueue)?((u=new Set).add(d),c.updateQueue=u):u.add(d),0==(2&c.mode)){c.effectTag|=64,l.effectTag&=-1957,1===l.tag&&(null===l.alternate?l.tag=17:((f=No(1073741823,null)).tag=2,Mo(l,f))),l.expirationTime=1073741823;break e}l=s,s=f,null===(p=l.pingCache)?(p=l.pingCache=new zi,u=new Set,p.set(d,u)):void 0===(u=p.get(d))&&(u=new Set,p.set(d,u)),u.has(s)||(u.add(s),l=Xs.bind(null,l,d,s),d.then(l,l)),c.effectTag|=2048,c.expirationTime=f;break e}c=c.return}while(null!==c);c=Error((ct(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ft(l))}cs!==as&&(cs=ns),c=Ni(c,l),l=u;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=f,Uo(l,f=Wi(l,c,f));break e;case 1:if(d=c,s=l.type,u=l.stateNode,0==(64&l.effectTag)&&("function"==typeof s.getDerivedStateFromError||null!==u&&"function"==typeof u.componentDidCatch&&(null===Es||!Es.has(u)))){l.effectTag|=2048,l.expirationTime=f,Uo(l,f=Ki(l,d,f));break e}}l=l.return}while(null!==l)}us=qs(a)}if(is=r,Co(),Qi.current=o,null!==us)return Bs.bind(null,e,t)}if(e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,function(e,t){var n=e.firstBatch;return!!(null!==n&&n._defer&&n._expirationTime>=t)&&(ho(97,function(){return n._onComplete(),null}),!0)}(e,t))return null;switch(ss=null,cs){case ts:throw i(Error(328));case ns:return(r=e.lastPendingTime)<t?Bs.bind(null,e,r):n?zs.bind(null,e):(Vs(e,t),mo(Bs.bind(null,e,t)),null);case rs:return 1073741823===fs&&!n&&10<(n=ms+vs-lo())?hs?(Vs(e,t),Bs.bind(null,e,t)):(r=e.lastPendingTime)<t?Bs.bind(null,e,r):(e.timeoutHandle=_r(zs.bind(null,e),n),null):zs.bind(null,e);case os:if(!n){if(hs)return Vs(e,t),Bs.bind(null,e,t);if((n=e.lastPendingTime)<t)return Bs.bind(null,e,n);if(1073741823!==ds?n=10*(1073741821-ds)-lo():1073741823===fs?n=0:(n=10*(1073741821-fs)-5e3,0>(n=(r=lo())-n)&&(n=0),(t=10*(1073741821-t)-r)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Yi(n/1960))-n)&&(n=t)),10<n)return e.timeoutHandle=_r(zs.bind(null,e),n),null}return zs.bind(null,e);case as:return!n&&1073741823!==fs&&null!==ps&&(r=fs,0>=(t=0|(o=ps).busyMinDurationMs)?t=0:(n=0|o.busyDelayMs,t=(r=lo()-(10*(1073741821-r)-(0|o.timeoutMs||5e3)))<=n?0:n+t-r),10<t)?(e.timeoutHandle=_r(zs.bind(null,e),t),null):zs.bind(null,e);default:throw i(Error(329))}}function Hs(e,t){e<fs&&1<e&&(fs=e),null!==t&&e<ds&&1<e&&(ds=e,ps=t)}function Gs(e){var t=$s(e.alternate,e,ls);return e.memoizedProps=e.pendingProps,null===t&&(t=qs(e)),Zi.current=null,t}function qs(e){us=e;do{var t=us.alternate;if(e=us.return,0==(1024&us.effectTag)){e:{var n=t,r=ls,a=(t=us).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:jr(t.type)&&Fr();break;case 3:ua(),Vr(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==n&&null!==n.child||(ui(t),t.effectTag&=-3),Ii(t);break;case 5:ca(t),r=ia(aa.current);var s=t.type;if(null!==n&&null!=t.stateNode)Li(n,t,s,a,r),n.ref!==t.ref&&(t.effectTag|=128);else if(a){var u=ia(ra.current);if(ui(t)){a=void 0,s=(n=t).stateNode;var l=n.type,c=n.memoizedProps;switch(s[D]=n,s[M]=c,l){case"iframe":case"object":case"embed":Mn("load",s);break;case"video":case"audio":for(var f=0;f<ne.length;f++)Mn(ne[f],s);break;case"source":Mn("error",s);break;case"img":case"image":case"link":Mn("error",s),Mn("load",s);break;case"form":Mn("reset",s),Mn("submit",s);break;case"details":Mn("toggle",s);break;case"input":Ot(s,c),Mn("invalid",s),Er(r,"onChange");break;case"select":s._wrapperState={wasMultiple:!!c.multiple},Mn("invalid",s),Er(r,"onChange");break;case"textarea":or(s,c),Mn("invalid",s),Er(r,"onChange")}for(a in gr(l,c),f=null,c)c.hasOwnProperty(a)&&(u=c[a],"children"===a?"string"==typeof u?s.textContent!==u&&(f=["children",u]):"number"==typeof u&&s.textContent!==""+u&&(f=["children",""+u]):p.hasOwnProperty(a)&&null!=u&&Er(r,a));switch(l){case"input":qe(s),_t(s,c,!0);break;case"textarea":qe(s),ir(s);break;case"select":case"option":break;default:"function"==typeof c.onClick&&(s.onclick=Sr)}r=f,n.updateQueue=r,null!==r&&_i(t)}else{c=s,n=a,l=t,f=9===r.nodeType?r:r.ownerDocument,u===sr.html&&(u=ur(c)),u===sr.html?"script"===c?((c=f.createElement("div")).innerHTML="<script><\/script>",f=c.removeChild(c.firstChild)):"string"==typeof n.is?f=f.createElement(c,{is:n.is}):(f=f.createElement(c),"select"===c&&(c=f,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):f=f.createElementNS(u,c),(c=f)[D]=l,c[M]=n,Pi(n=c,t,!1,!1),l=n;var d=r,h=br(s,a);switch(s){case"iframe":case"object":case"embed":Mn("load",l),r=a;break;case"video":case"audio":for(r=0;r<ne.length;r++)Mn(ne[r],l);r=a;break;case"source":Mn("error",l),r=a;break;case"img":case"image":case"link":Mn("error",l),Mn("load",l),r=a;break;case"form":Mn("reset",l),Mn("submit",l),r=a;break;case"details":Mn("toggle",l),r=a;break;case"input":Ot(l,a),r=Tt(l,a),Mn("invalid",l),Er(d,"onChange");break;case"option":r=tr(l,a);break;case"select":l._wrapperState={wasMultiple:!!a.multiple},r=o({},a,{value:void 0}),Mn("invalid",l),Er(d,"onChange");break;case"textarea":or(l,a),r=rr(l,a),Mn("invalid",l),Er(d,"onChange");break;default:r=a}gr(s,r),c=void 0,f=s,u=l;var m=r;for(c in m)if(m.hasOwnProperty(c)){var v=m[c];"style"===c?vr(u,v):"dangerouslySetInnerHTML"===c?null!=(v=v?v.__html:void 0)&&fr(u,v):"children"===c?"string"==typeof v?("textarea"!==f||""!==v)&&dr(u,v):"number"==typeof v&&dr(u,""+v):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(p.hasOwnProperty(c)?null!=v&&Er(d,c):null!=v&&Et(u,c,v,h))}switch(s){case"input":qe(l),_t(l,a,!1);break;case"textarea":qe(l),ir(l);break;case"option":null!=a.value&&l.setAttribute("value",""+St(a.value));break;case"select":r=l,l=a,r.multiple=!!l.multiple,null!=(c=l.value)?nr(r,!!l.multiple,c,!1):null!=l.defaultValue&&nr(r,!!l.multiple,l.defaultValue,!0);break;default:"function"==typeof r.onClick&&(l.onclick=Sr)}Cr(s,a)&&_i(t),t.stateNode=n}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw i(Error(166));break;case 6:if(n&&null!=t.stateNode)Ri(n,t,n.memoizedProps,a);else{if("string"!=typeof a&&null===t.stateNode)throw i(Error(166));n=ia(aa.current),ia(ra.current),ui(t)?(r=t.stateNode,n=t.memoizedProps,r[D]=t,r.nodeValue!==n&&_i(t)):(r=t,(n=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[D]=t,r.stateNode=n)}break;case 11:break;case 13:if(Ar(ha),a=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=r;break e}r=null!==a,a=!1,null===n?ui(t):(a=null!==(s=n.memoizedState),r||null===s||null!==(s=n.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=s,s.nextEffect=l):(t.firstEffect=t.lastEffect=s,s.nextEffect=null),s.effectTag=8)),r&&!a&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(ha.current&da)?cs===ts&&(cs=rs):cs!==ts&&cs!==rs||(cs=os)),(r||a)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:ua(),Ii(t);break;case 10:_o(t);break;case 9:case 14:break;case 17:jr(t.type)&&Fr();break;case 18:break;case 19:if(Ar(ha),null===(a=t.memoizedState))break;if(s=0!=(64&t.effectTag),null===(l=a.rendering)){if(s)Ai(a,!1);else if(cs!==ts||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(l=ma(n))){for(t.effectTag|=64,Ai(a,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),t.firstEffect=t.lastEffect=null,n=t.child;null!==n;)s=r,(a=n).effectTag&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(l=a.alternate)?(a.childExpirationTime=0,a.expirationTime=s,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null):(a.childExpirationTime=l.childExpirationTime,a.expirationTime=l.expirationTime,a.child=l.child,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,s=l.dependencies,a.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),n=n.sibling;kr(ha,ha.current&fa|pa),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=ma(l))){if(t.effectTag|=64,s=!0,Ai(a,!0),null===a.tail&&"hidden"===a.tailMode){null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),null!==(t=t.lastEffect=a.lastEffect)&&(t.nextEffect=null);break}}else lo()>a.tailExpiration&&1<r&&(t.effectTag|=64,s=!0,Ai(a,!1),t.expirationTime=t.childExpirationTime=r-1);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=a.last)?r.sibling=l:t.child=l,a.last=l)}if(null!==a.tail){0===a.tailExpiration&&(a.tailExpiration=lo()+500),r=a.tail,a.rendering=r,a.tail=r.sibling,a.lastEffect=t.lastEffect,r.sibling=null,n=ha.current,kr(ha,n=s?n&fa|pa:n&fa),t=r;break e}break;case 20:break;default:throw i(Error(156))}t=null}if(r=us,1===ls||1!==r.childExpirationTime){for(n=0,a=r.child;null!==a;)(s=a.expirationTime)>n&&(n=s),(l=a.childExpirationTime)>n&&(n=l),a=a.sibling;r.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(1024&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=us.firstEffect),null!==us.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=us.firstEffect),e.lastEffect=us.lastEffect),1<us.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=us:e.firstEffect=us,e.lastEffect=us))}else{if(null!==(t=ki(us)))return t.effectTag&=1023,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=1024)}if(null!==(t=us.sibling))return t;us=e}while(null!==us);return cs===ts&&(cs=as),null}function zs(e){var t=co();return po(99,Ws.bind(null,e,t)),null!==Ts&&ho(97,function(){return Ks(),null}),null}function Ws(e,t){if(Ks(),(is&($i|es))!==Xi)throw i(Error(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw i(Error(177));e.callbackNode=null,e.callbackExpirationTime=0;var o=n.expirationTime,a=n.childExpirationTime;if(o=a>o?a:o,e.firstPendingTime=o,o<e.lastPendingTime&&(e.lastPendingTime=o),e===ss&&(us=ss=null,ls=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){a=is,is|=es,Zi.current=null,Tr=Dn;var s=zn();if(Wn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var l=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(l&&0!==l.rangeCount){u=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{u.nodeType,f.nodeType}catch(e){u=null;break e}var d=0,p=-1,h=-1,m=0,v=0,y=s,g=null;t:for(;;){for(var b;y!==u||0!==c&&3!==y.nodeType||(p=d+c),y!==f||0!==l&&3!==y.nodeType||(h=d+l),3===y.nodeType&&(d+=y.nodeValue.length),null!==(b=y.firstChild);)g=y,y=b;for(;;){if(y===s)break t;if(g===u&&++m===c&&(p=d),g===f&&++v===l&&(h=d),null!==(b=y.nextSibling))break;g=(y=g).parentNode}y=b}u=-1===p||-1===h?null:{start:p,end:h}}else u=null}u=u||{start:0,end:0}}else u=null;Or={focusedElem:s,selectionRange:u},Dn=!1,ys=o;do{try{for(;null!==ys;){if(0!=(256&ys.effectTag)){var E=ys.alternate;switch((s=ys).tag){case 0:case 11:case 15:xi(ya,va,s);break;case 1:if(256&s.effectTag&&null!==E){var S=E.memoizedProps,T=E.memoizedState,O=s.stateNode,C=O.getSnapshotBeforeUpdate(s.elementType===s.type?S:bo(s.type,S),T);O.__reactInternalSnapshotBeforeUpdate=C}break;case 3:case 5:case 6:case 4:case 17:break;default:throw i(Error(163))}}ys=ys.nextEffect}}catch(e){if(null===ys)throw i(Error(330));Zs(ys,e),ys=ys.nextEffect}}while(null!==ys);ys=o;do{try{for(E=t;null!==ys;){var w=ys.effectTag;if(16&w&&dr(ys.stateNode,""),128&w){var _=ys.alternate;if(null!==_){var P=_.ref;null!==P&&("function"==typeof P?P(null):P.current=null)}}switch(14&w){case 2:Bi(ys),ys.effectTag&=-3;break;case 6:Bi(ys),ys.effectTag&=-3,Gi(ys.alternate,ys);break;case 4:Gi(ys.alternate,ys);break;case 8:Hi(S=ys,E),S.return=null,S.child=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null;var I=S.alternate;null!==I&&(I.return=null,I.child=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null)}ys=ys.nextEffect}}catch(e){if(null===ys)throw i(Error(330));Zs(ys,e),ys=ys.nextEffect}}while(null!==ys);if(P=Or,_=zn(),w=P.focusedElem,E=P.selectionRange,_!==w&&w&&w.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(w.ownerDocument.documentElement,w)){null!==E&&Wn(w)&&(_=E.start,void 0===(P=E.end)&&(P=_),"selectionStart"in w?(w.selectionStart=_,w.selectionEnd=Math.min(P,w.value.length)):(P=(_=w.ownerDocument||document)&&_.defaultView||window).getSelection&&(P=P.getSelection(),S=w.textContent.length,I=Math.min(E.start,S),E=void 0===E.end?I:Math.min(E.end,S),!P.extend&&I>E&&(S=E,E=I,I=S),S=qn(w,I),T=qn(w,E),S&&T&&(1!==P.rangeCount||P.anchorNode!==S.node||P.anchorOffset!==S.offset||P.focusNode!==T.node||P.focusOffset!==T.offset)&&((_=_.createRange()).setStart(S.node,S.offset),P.removeAllRanges(),I>E?(P.addRange(_),P.extend(T.node,T.offset)):(_.setEnd(T.node,T.offset),P.addRange(_))))),_=[];for(P=w;P=P.parentNode;)1===P.nodeType&&_.push({element:P,left:P.scrollLeft,top:P.scrollTop});for("function"==typeof w.focus&&w.focus(),w=0;w<_.length;w++)(P=_[w]).element.scrollLeft=P.left,P.element.scrollTop=P.top}Or=null,Dn=!!Tr,Tr=null,e.current=n,ys=o;do{try{for(w=r;null!==ys;){var L=ys.effectTag;if(36&L){var R=ys.alternate;switch(P=w,(_=ys).tag){case 0:case 11:case 15:xi(Ea,Sa,_);break;case 1:var A=_.stateNode;if(4&_.effectTag)if(null===R)A.componentDidMount();else{var k=_.elementType===_.type?R.memoizedProps:bo(_.type,R.memoizedProps);A.componentDidUpdate(k,R.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var N=_.updateQueue;null!==N&&Vo(0,N,A);break;case 3:var D=_.updateQueue;if(null!==D){if(I=null,null!==_.child)switch(_.child.tag){case 5:I=_.child.stateNode;break;case 1:I=_.child.stateNode}Vo(0,D,I)}break;case 5:var M=_.stateNode;null===R&&4&_.effectTag&&(P=M,Cr(_.type,_.memoizedProps)&&P.focus());break;case 6:case 4:case 12:break;case 13:case 19:case 17:case 20:break;default:throw i(Error(163))}}if(128&L){var U=ys.ref;if(null!==U){var x=ys.stateNode;switch(ys.tag){case 5:var j=x;break;default:j=x}"function"==typeof U?U(j):U.current=j}}512&L&&(Ss=!0),ys=ys.nextEffect}}catch(e){if(null===ys)throw i(Error(330));Zs(ys,e),ys=ys.nextEffect}}while(null!==ys);ys=null,oo(),is=a}else e.current=n;if(Ss)Ss=!1,Ts=e,Cs=r,Os=t;else for(ys=o;null!==ys;)t=ys.nextEffect,ys.nextEffect=null,ys=t;if(0!==(t=e.firstPendingTime)?Ds(e,L=go(L=Ls(),t),t):Es=null,"function"==typeof eu&&eu(n.stateNode,r),1073741823===t?e===Ps?_s++:(_s=0,Ps=e):_s=0,gs)throw gs=!1,e=bs,bs=null,e;return(is&Ji)!==Xi?null:(vo(),null)}function Ks(){if(null===Ts)return!1;var e=Ts,t=Cs,n=Os;return Ts=null,Cs=0,Os=90,po(97<n?97:n,Ys.bind(null,e,t))}function Ys(e){if((is&($i|es))!==Xi)throw i(Error(331));var t=is;for(is|=es,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:xi(Oa,va,n),xi(va,Ta,n)}}catch(t){if(null===e)throw i(Error(330));Zs(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return is=t,vo(),!0}function Qs(e,t,n){Mo(e,t=Wi(e,t=Ni(n,t),1073741823)),null!==(e=Ns(e,1073741823))&&Ds(e,99,1073741823)}function Zs(e,t){if(3===e.tag)Qs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Qs(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Es||!Es.has(r))){Mo(n,e=Ki(n,e=Ni(t,e),1073741823)),null!==(n=Ns(n,1073741823))&&Ds(n,99,1073741823);break}}n=n.return}}function Xs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ss===e&&ls===n?cs===os||cs===rs&&1073741823===fs&&lo()-ms<vs?Vs(e,ls):hs=!0:e.lastPendingTime<n||(0!==(t=e.pingTime)&&t<n||(e.pingTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),Ds(e,t=go(t=Ls(),n),n)))}function Js(e,t){var n=e.stateNode;null!==n&&n.delete(t),n=go(n=Ls(),t=Rs(n,e,null)),null!==(e=Ns(e,t))&&Ds(e,n,t)}var $s=void 0;$s=function(e,t,n){var r=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||Mr.current)fi=!0;else if(r<n){switch(fi=!1,t.tag){case 3:Ei(t),li();break;case 5:if(la(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:jr(t.type)&&Gr(t);break;case 4:sa(t,t.stateNode.containerInfo);break;case 10:wo(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ti(e,t,n):(kr(ha,ha.current&fa),null!==(t=wi(e,t,n))?t.sibling:null);kr(ha,ha.current&fa);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return Ci(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),kr(ha,ha.current),!r)return null}return wi(e,t,n)}}else fi=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=xr(t,Dr.current),Io(t,n),o=Va(null,t,r,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,Ba(),jr(r)){var a=!0;Gr(t)}else a=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&qo(t,r,s,e),o.updater=zo,t.stateNode=o,o._reactInternalFiber=t,Qo(t,r,e,n),t=bi(null,t,r,!0,a,n)}else t.tag=0,di(null,t,o,n),t=t.child;return t;case 16:switch(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(o),t.type=o,a=t.tag=function(e){if("function"==typeof e)return ou(e)?1:0;if(null!=e){if((e=e.$$typeof)===rt)return 11;if(e===it)return 14}return 2}(o),e=bo(o,e),a){case 0:t=yi(null,t,o,e,n);break;case 1:t=gi(null,t,o,e,n);break;case 11:t=pi(null,t,o,e,n);break;case 14:t=hi(null,t,o,bo(o.type,e),r,n);break;default:throw i(Error(306),o,"")}return t;case 0:return r=t.type,o=t.pendingProps,yi(e,t,r,o=t.elementType===r?o:bo(r,o),n);case 1:return r=t.type,o=t.pendingProps,gi(e,t,r,o=t.elementType===r?o:bo(r,o),n);case 3:if(Ei(t),null===(r=t.updateQueue))throw i(Error(282));return o=null!==(o=t.memoizedState)?o.element:null,Fo(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===o?(li(),t=wi(e,t,n)):(o=t.stateNode,(o=(null===e||null===e.child)&&o.hydrate)&&(ni=Ir(t.stateNode.containerInfo.firstChild),ti=t,o=ri=!0),o?(t.effectTag|=2,t.child=ta(t,null,r,n)):(di(e,t,r,n),li()),t=t.child),t;case 5:return la(t),null===e&&ii(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,s=o.children,wr(r,o)?s=null:null!==a&&wr(r,a)&&(t.effectTag|=16),vi(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(di(e,t,s,n),t=t.child),t;case 6:return null===e&&ii(t),null;case 13:return Ti(e,t,n);case 4:return sa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ea(t,null,r,n):di(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,pi(e,t,r,o=t.elementType===r?o:bo(r,o),n);case 7:return di(e,t,t.pendingProps,n),t.child;case 8:case 12:return di(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,wo(t,a=o.value),null!==s){var u=s.value;if(0===(a=tn(u,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===o.children&&!Mr.current){t=wi(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var l=u.dependencies;if(null!==l){s=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&a)){1===u.tag&&((c=No(n,null)).tag=2,Mo(u,c)),u.expirationTime<n&&(u.expirationTime=n),null!==(c=u.alternate)&&c.expirationTime<n&&(c.expirationTime=n),Po(u.return,n),l.expirationTime<n&&(l.expirationTime=n);break}c=c.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}}di(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(a=t.pendingProps).children,Io(t,n),r=r(o=Lo(o,a.unstable_observedBits)),t.effectTag|=1,di(e,t,r,n),t.child;case 14:return a=bo(o=t.type,t.pendingProps),hi(e,t,o,a=bo(o.type,a),r,n);case 15:return mi(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:bo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,jr(r)?(e=!0,Gr(t)):e=!1,Io(t,n),Ko(t,r,o),Qo(t,r,o,n),bi(null,t,r,!0,e,n);case 19:return Ci(e,t,n)}throw i(Error(156))};var eu=null,tu=null;function nu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function ru(e,t,n,r){return new nu(e,t,n,r)}function ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function au(e,t){var n=e.alternate;return null===n?((n=ru(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function iu(e,t,n,r,o,a){var s=2;if(r=e,"function"==typeof e)ou(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Xe:return su(n.children,o,a,t);case nt:s=8,o|=7;break;case Je:s=8,o|=1;break;case $e:return(e=ru(12,n,t,8|o)).elementType=$e,e.type=$e,e.expirationTime=a,e;case ot:return(e=ru(13,n,t,o)).type=ot,e.elementType=ot,e.expirationTime=a,e;case at:return(e=ru(19,n,t,o)).elementType=at,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case et:s=10;break e;case tt:s=9;break e;case rt:s=11;break e;case it:s=14;break e;case st:s=16,r=null;break e}throw i(Error(130),null==e?e:typeof e,"")}return(t=ru(s,n,t,o)).elementType=e,t.type=r,t.expirationTime=a,t}function su(e,t,n,r){return(e=ru(7,e,r,t)).expirationTime=n,e}function uu(e,t,n){return(e=ru(6,e,null,t)).expirationTime=n,e}function lu(e,t,n){return(t=ru(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=this.firstBatch=null,this.pingTime=this.lastPendingTime=this.firstPendingTime=this.callbackExpirationTime=0}function fu(e,t,n){return e=new cu(e,t,n),t=ru(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e}function du(e,t,n,r,o,a){var s=t.current;e:if(n){t:{if(2!==an(n=n._reactInternalFiber)||1!==n.tag)throw i(Error(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(jr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw i(Error(171))}if(1===n.tag){var l=n.type;if(jr(l)){n=Hr(n,l,u);break e}}n=u}else n=Nr;return null===t.context?t.context=n:t.pendingContext=n,t=a,(o=No(r,o)).payload={element:e},null!==(t=void 0===t?null:t)&&(o.callback=t),Mo(s,o),ks(s,r),r}function pu(e,t,n,r){var o=t.current,a=Ls(),i=Ho.suspense;return du(e,t,n,o=Rs(a,o,i),i,r)}function hu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function mu(e){var t=1073741821-25*(1+((1073741821-Ls()+500)/25|0));t<=As&&--t,this._expirationTime=As=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function vu(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function yu(e,t,n){this._internalRoot=fu(e,t,n)}function gu(e,t){this._internalRoot=fu(e,2,t)}function bu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Eu(e,t,n,r,o){var a=n._reactRootContainer,i=void 0;if(a){if(i=a._internalRoot,"function"==typeof o){var s=o;o=function(){var e=hu(i);s.call(e)}}pu(t,i,e,o)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new yu(e,0,t)}(n,r),i=a._internalRoot,"function"==typeof o){var u=o;o=function(){var e=hu(i);u.call(e)}}Fs(function(){pu(t,i,e,o)})}return hu(i)}function Su(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!bu(t))throw i(Error(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ze,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Pe=function(e,t,n){switch(t){case"input":if(wt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=F(r);if(!o)throw i(Error(90));ze(r),wt(r,o)}}}break;case"textarea":ar(e,n);break;case"select":null!=(t=n.value)&&nr(e,!!n.multiple,t,!1)}},mu.prototype.render=function(e){if(!this._defer)throw i(Error(250));this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new vu;return du(e,t,null,n,null,r._onCommit),r},mu.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},mu.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(!this._defer||null===t)throw i(Error(251));if(this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,o=t;o!==this;)r=o,o=o._next;if(null===r)throw i(Error(251));r._next=o._next,this._next=t,e.firstBatch=this}if(this._defer=!1,t=n,(is&($i|es))!==Xi)throw i(Error(253));mo(Bs.bind(null,e,t)),vo(),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},mu.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},vu.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},vu.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)throw i(Error(191),n);n()}}},gu.prototype.render=yu.prototype.render=function(e,t){var n=this._internalRoot,r=new vu;return null!==(t=void 0===t?null:t)&&r.then(t),pu(e,n,null,r._onCommit),r},gu.prototype.unmount=yu.prototype.unmount=function(e){var t=this._internalRoot,n=new vu;return null!==(e=void 0===e?null:e)&&n.then(e),pu(null,t,null,n._onCommit),n},gu.prototype.createBatch=function(){var e=new mu(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Ne=xs,De=js,Me=Us,Ue=function(e,t){var n=is;is|=2;try{return e(t)}finally{(is=n)===Xi&&vo()}};var Tu,Ou,Cu={createPortal:Su,findDOMNode:function(e){if(null==e)e=null;else if(1!==e.nodeType){var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw i(Error(188));throw i(Error(268),Object.keys(e))}e=null===(e=un(t))?null:e.stateNode}return e},hydrate:function(e,t,n){if(!bu(t))throw i(Error(200));return Eu(null,e,t,!0,n)},render:function(e,t,n){if(!bu(t))throw i(Error(200));return Eu(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!bu(n))throw i(Error(200));if(null==e||void 0===e._reactInternalFiber)throw i(Error(38));return Eu(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!bu(e))throw i(Error(40));return!!e._reactRootContainer&&(Fs(function(){Eu(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Su.apply(void 0,arguments)},unstable_batchedUpdates:xs,unstable_interactiveUpdates:function(e,t,n,r){return Us(),js(e,t,n,r)},unstable_discreteUpdates:js,unstable_flushDiscreteUpdates:Us,flushSync:function(e,t){if((is&($i|es))!==Xi)throw i(Error(187));var n=is;is|=1;try{return po(99,e.bind(null,t))}finally{is=n,vo()}},unstable_createRoot:function(e,t){if(!bu(e))throw i(Error(299),"unstable_createRoot");return new gu(e,null!=t&&!0===t.hydrate)},unstable_createSyncRoot:function(e,t){if(!bu(e))throw i(Error(299),"unstable_createRoot");return new yu(e,1,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=is;is|=1;try{po(99,e)}finally{(is=t)===Xi&&vo()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[x,j,F,A.injectEventPluginsByName,d,z,function(e){P(e,q)},Ae,ke,Fn,R,Ks,{current:!1}]}};Ou=(Tu={findFiberByHostInstance:U,bundleType:0,version:"16.9.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);eu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},tu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(o({},Tu,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:We.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=un(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Ou?Ou(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}));var wu={default:Cu},_u=wu&&Cu||wu;e.exports=_u.default||_u},function(e,t,n){"use strict";e.exports=n(339)},function(e,t,n){"use strict";
/** @license React v0.15.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r=void 0,o=void 0,a=void 0,i=void 0,s=void 0;if(t.unstable_now=void 0,t.unstable_forceFrameRate=void 0,"undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,l=null,c=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(c,0),e}};t.unstable_now=function(){return Date.now()},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(c,0))},o=function(e,t){l=setTimeout(e,t)},a=function(){clearTimeout(l)},i=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,d=window.Date,p=window.setTimeout,h=window.clearTimeout,m=window.requestAnimationFrame,v=window.cancelAnimationFrame;"undefined"!=typeof console&&("function"!=typeof m&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),t.unstable_now="object"==typeof f&&"function"==typeof f.now?function(){return f.now()}:function(){return d.now()};var y=!1,g=null,b=-1,E=-1,S=33.33,T=-1,O=-1,C=0,w=!1;i=function(){return t.unstable_now()>=C},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):0<e?(S=Math.floor(1e3/e),w=!0):(S=33.33,w=!1)};var _=function(){if(null!==g){var e=t.unstable_now(),n=0<C-e;try{g(n,e)||(g=null)}catch(e){throw I.postMessage(null),e}}},P=new MessageChannel,I=P.port2;P.port1.onmessage=_;var L=function(e){if(null===g)O=T=-1,y=!1;else{y=!0,m(function(e){h(b),L(e)});var n=function(){C=t.unstable_now()+S/2,_(),b=p(n,3*S)};if(b=p(n,3*S),-1!==T&&.1<e-T){var r=e-T;!w&&-1!==O&&r<S&&O<S&&(8.33>(S=r<O?O:r)&&(S=8.33)),O=r}T=e,C=e+S,I.postMessage(null)}};r=function(e){g=e,y||(y=!0,m(function(e){L(e)}))},o=function(e,n){E=p(function(){e(t.unstable_now())},n)},a=function(){h(E),E=-1}}var R=null,A=null,k=null,N=3,D=!1,M=!1,U=!1;function x(e,t){var n=e.next;if(n===e)R=null;else{e===R&&(R=n);var r=e.previous;r.next=n,n.previous=r}e.next=e.previous=null,n=e.callback,r=N;var o=k;N=e.priorityLevel,k=e;try{var a=e.expirationTime<=t;switch(N){case 1:var i=n(a);break;case 2:case 3:case 4:i=n(a);break;case 5:i=n(a)}}catch(e){throw e}finally{N=r,k=o}if("function"==typeof i)if(t=e.expirationTime,e.callback=i,null===R)R=e.next=e.previous=e;else{i=null,a=R;do{if(t<=a.expirationTime){i=a;break}a=a.next}while(a!==R);null===i?i=R:i===R&&(R=e),(t=i.previous).next=i.previous=e,e.next=i,e.previous=t}}function j(e){if(null!==A&&A.startTime<=e)do{var t=A,n=t.next;if(t===n)A=null;else{A=n;var r=t.previous;r.next=n,n.previous=r}t.next=t.previous=null,H(t,t.expirationTime)}while(null!==A&&A.startTime<=e)}function F(e){U=!1,j(e),M||(null!==R?(M=!0,r(V)):null!==A&&o(F,A.startTime-e))}function V(e,n){M=!1,U&&(U=!1,a()),j(n),D=!0;try{if(e){if(null!==R)do{x(R,n),j(n=t.unstable_now())}while(null!==R&&!i())}else for(;null!==R&&R.expirationTime<=n;)x(R,n),j(n=t.unstable_now());return null!==R||(null!==A&&o(F,A.startTime-n),!1)}finally{D=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}function H(e,t){if(null===R)R=e.next=e.previous=e;else{var n=null,r=R;do{if(t<r.expirationTime){n=r;break}r=r.next}while(r!==R);null===n?n=R:n===R&&(R=e),(t=n.previous).next=n.previous=e,e.next=n,e.previous=t}}var G=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,i){var s=t.unstable_now();if("object"==typeof i&&null!==i){var u=i.delay;u="number"==typeof u&&0<u?s+u:s,i="number"==typeof i.timeout?i.timeout:B(e)}else i=B(e),u=s;if(e={callback:n,priorityLevel:e,startTime:u,expirationTime:i=u+i,next:null,previous:null},u>s){if(i=u,null===A)A=e.next=e.previous=e;else{n=null;var l=A;do{if(i<l.startTime){n=l;break}l=l.next}while(l!==A);null===n?n=A:n===A&&(A=e),(i=n.previous).next=n.previous=e,e.next=n,e.previous=i}null===R&&A===e&&(U?a():U=!0,o(F,u-s))}else H(e,i),M||D||(M=!0,r(V));return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(e===t)e===R?R=null:e===A&&(A=null);else{e===R?R=t:e===A&&(A=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_shouldYield=function(){var e=t.unstable_now();return j(e),null!==k&&null!==R&&R.startTime<=e&&R.expirationTime<k.expirationTime||i()},t.unstable_requestPaint=G,t.unstable_continueExecution=function(){M||D||(M=!0,r(V))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return R}},function(e,t,n){"use strict";var r=n(341);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";
/** @license React v16.9.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case d:case i:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case l:return e;default:return t}}case y:case v:case a:return t}}}function S(e){return E(e)===d}t.typeOf=E,t.AsyncMode=f,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=o,t.ForwardRef=p,t.Fragment=i,t.Lazy=y,t.Memo=v,t.Portal=a,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===u||e===s||e===h||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===g||e.$$typeof===b)},t.isAsyncMode=function(e){return S(e)||E(e)===f},t.isConcurrentMode=S,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return E(e)===p},t.isFragment=function(e){return E(e)===i},t.isLazy=function(e){return E(e)===y},t.isMemo=function(e){return E(e)===v},t.isPortal=function(e){return E(e)===a},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===h}},function(e,t,n){"use strict";var r=window.URL||window.webkitURL;e.exports=function(e,t){try{try{var n;try{(n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(e),n=n.getBlob()}catch(t){n=new Blob([e])}return new Worker(r.createObjectURL(n))}catch(t){return new Worker("data:application/javascript,"+encodeURIComponent(e))}}catch(e){if(!t)throw Error("Inline worker is not supported");return new Worker(t)}}},function(e,t,n){"use strict";n.r(t);var r=n(185),o=n.n(r),a=n(15),i=n.n(a),s=n(7),u=n(10),l=n(6),c={BUILD_NUMBER:"2.12.1"},f=n(11);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=Object(s.a)("lib/centralLogger"),h=o.a.create({subdomain:"eventtracking-log",tag:"eventtracking.web.player",type:"web",callback:function(e,t){e?p.debug("error:",e):t.forEach(function(e){p.debug("sent:",e)})}});function m(){return i.a.storage}var v={isLoggingEnabled:m,send:function(e){var t;if(m()){"string"==typeof e&&(e={message:e}),e.message=e.message||"";var n=i.a.swf?i.a.swf.join("."):"none",r=l.a.getMediaType(),o=l.a.app()===l.a.TYPE_CHANNEL?"channel_id":"recorded_id";e.data=Object.assign((d(t={cluster:l.a.cluster()},o,l.a.id()),d(t,"branch_name",u.a.branchName),d(t,"player_version","v5"),d(t,"flash_version",n),d(t,"buildNumber",c.BUILD_NUMBER),d(t,"broadcaster_user_id",f.a.ownerId),d(t,"contentType",r),t),e.data||{}),h.send(e)}}},y=n(14),g=n(4),b={};function E(){b={}}var S={cleanup:E,setInitStart:function(){b.initStart=Date.now();var e=Object(y.b)(g.a.getState()),t=e.width,n=e.height;v.send({message:"Initial loading started",data:{category:"Loading",item:"initial loading",action:"started",width:t,height:n}})},reportUmsConnectionStart:function(e){b.ums=b.ums||{},b.ums[e]={startTime:Date.now()},v.send({message:"UMS connection started",data:{category:"Loading",item:"UMS connection",action:"connected",autoplay:u.a.autoplay,time_spent_from_init:b.ums[e].startTime-b.initStart}})},reportUmsConnectionFinished:function(e){b.ums&&b.ums[e]&&(b.ums[e].endTime=Date.now(),v.send({message:"UMS connection completed",data:{category:"Loading",item:"UMS connection",action:"connected",autoplay:u.a.autoplay,time_spent:b.ums[e].endTime-b.ums[e].startTime,time_spent_from_init:b.ums[e].endTime-b.initStart}}))},reportStreamModuleReceived:function(){b.ums&&(b.streamModule=Date.now(),v.send({message:"Stream module received",data:{category:"Loading",item:"stream module",action:"received",time_spent_from_init:b.streamModule-b.initStart,time_spent:b.streamModule-Object.keys(b.ums).reduce(function(e,t){var n=b.ums[t].endTime;return n>e?n:e},0),autoplay:u.a.autoplay}}))},reportFirstTimeUpdate:function(){var e=Date.now();v.send({message:"First time update",data:{category:"Playback",item:"playback",action:"started",time_spent:e-b.streamModule,time_spent_from_init:e-b.initStart,autoplay:u.a.autoplay}}),E()},reportFirstPlayCall:function(){b.firstPlayCall=Date.now(),v.send({message:"First Play call",data:{category:"Interaction",item:"playback",action:"requested",time_spent:b.firstPlayCall-b.streamModule,time_spent_from_init:b.firstPlayCall-b.initStart,autoplay:u.a.autoplay}})}},T=n(2),O=n(23);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var w=Object(s.a)("data/datamanager"),_={},P=["advert","broadcaster","caption","slides","meta","poll","livecta","qos","share","stream","tcdn"];function I(e){var t={};if("boolean"==typeof e)return e;for(var n=0;n<e.length;n++)t[e[n].name]=e[n];return t}function L(e){var t=e.name,n=e.payload;switch(t){case"stream":return g.a.dispatch(function(e){return{type:O.a.setStreamModule,payload:e}}(n));case"meta":return g.a.dispatch(function(e){return{type:O.a.setMetaModule,payload:e}}(n));case"allTimeTotal":return g.a.dispatch(function(e){return{type:O.a.setAllTimeTotalModule,payload:e}}(n));case"allViewers":return g.a.dispatch(function(e){return{type:O.a.setAllViewersModule,payload:e}}(n));case"viewers":return g.a.dispatch(function(e){return{type:O.a.setViewersModule,payload:e}}(n));case"logo":return g.a.dispatch(function(e){return{type:O.a.setLogoModule,payload:e}}(n));case"share":return g.a.dispatch(function(e){return{type:O.a.setShareModule,payload:e}}(n));case"broadcaster":return g.a.dispatch(function(e){return{type:O.a.setBroadcasterModule,payload:e}}(n));case"livecta":return g.a.dispatch(function(e){return{type:O.a.setLiveCTAModule,payload:e}}(n));case"thumbnail":return g.a.dispatch(function(e){return{type:O.a.setThumbnailModule,payload:e}}(n));case"poll":if(function(e){return null===e||(Array.isArray(e)?0===e.length:"object"===C(e)&&0===Object.keys(e).length)}(n))return;return g.a.dispatch(function(e){return{type:O.a.setPollModule,payload:e}}(n));default:return w.debug("".concat(t," module received but haven't added to the store")),null}}var R={init:function(){_={}},create:function(e){w.debug("createMedia: "+e),_[e]={}},update:function(e,t){if(e&&_[e]&&void 0!==t&&t instanceof Object){for(var n in t)-1===P.indexOf(n)&&("object"!==C(t[n])||null===t[n]||Array.isArray(t[n])||(t[n].mid=e),_[e][n]=t[n],L({name:n,payload:t[n]}),T.a.send(T.a.types.DATA,n+"Update",t[n]),T.a.send(T.a.types.REPORT,T.a.events.MODULE_INFO,{mid:e,send:n}));for(var r=0;r<P.length;++r)void 0!==t[P[r]]&&("object"!==C(t[n])||null===t[n]||Array.isArray(t[n])||(t[P[r]].mid=e),"share"===P[r]&&(t[P[r]]=I(t[P[r]])),_[e][P[r]]=t[P[r]],L({name:P[r],payload:t[P[r]]}),T.a.send(T.a.types.DATA,P[r]+"Update",t[P[r]]),T.a.send(T.a.types.REPORT,T.a.events.MODULE_INFO,{mid:e,send:P[r]}))}},get:function(e,t){return e&&_[e]&&_[e][t]?_[e][t]:null},destroy:function(e){w.debug("destroyMedia:",e),delete _[e]}},A=!(l.a.isCid()&&i.a.android&&2===i.a.android[0])&&!i.a.swf&&!i.a.ie&&!!document.createElement("video").canPlayType&&i.a.android||i.a.blackberry||i.a.ios||i.a.playstation||!!u.a.ios||!!u.a.refTest||!!u.a.html5,k=n(3),N={AD_EVENT:"ustreamAdEvent",AD_ERROR:"ustreamProviderError",AD_STARTED:"ustreamAdStarted",AD_FINISHED:"ustreamAdFinished",AD_CHANGED:"ustreamAdChanged",DELAY_STARTED:"ustreamDelayStarted",DELAY_FINISHED:"ustreamDelayFinished",DELAY_ERROR:"ustreamDelayError",types:{PLAY_POSTROLL:"adEvent.type.playPostroll",VIDEO_FINISHED:"adEvent.type.videoFinished",POSTROLL_FINISHED:"adEvent.type.postrollFinished",VIDEO_STARTED:"adEvent.type.videoStarted",PREROLL_DONE:"adEvent.type.prerollDone",COMPANION:"adEvent.type.companion",AD_RESIZE:"adEvent.type.adResize",RULESET_HAS_ADS:"adEvent.type.rulesetHasAds"}},D=n(24),M=n(109);var U={addExternalVtt:function(e){return g.a.dispatch({type:M.a.addExternalVtt,payload:{vtt:e}})}},x=n(5),j=n.n(x),F=n(22);function V(e){return{type:F.a.setBufferEmpty,payload:{isBufferEmpty:e}}}function B(e){return{type:F.a.selectAudio,payload:{index:e}}}function H(e){return{type:F.a.setAudioTracks,payload:{tracks:e}}}function G(e){return{type:F.a.setClosedCaptionTracks,payload:{tracks:e}}}function q(e){return{type:F.a.selectClosedCaption,payload:{index:e,closedCaptionActiveFromLocalStorage:!1}}}function z(e){return{type:F.a.setPlaybackStats,payload:{stats:e}}}function W(e){return{type:F.a.togglePlaying,payload:e}}function K(e){return{type:F.a.setProgress,payload:e}}var Y=n(68);function Q(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:Y.a.toggleDebug,payload:e}}var Z=n(20),X=n(40),J=Object(s.a)("htmlApiProxy"),$="recorded",ee=Math.pow(10,3),te=!1,ne=0,re=0,oe=0,ae=0;function ie(e){te=e}function se(e){ne=e}function ue(e){re=e}function le(e){var t=function(e){var t=l.a.getDurationInMillisec()/1e3;return 0===e||0===t?0:l.a.isHLS()?l.a.getTrimmedDurationInMillisec()/1e3*e:e*t-t*l.a.getCutStart()}(e);oe=Math.round(t*ee)/ee}function ce(e){ae=e}function fe(e,t){var n={property:{}};n.property[e]=t,D.a.send(n)}function de(e){switch(J.debug("api command received",e),e.cmd){case"play":u.a.autoplay=!0,k.a.send(k.a.types.COMMAND,"play");break;case"pause":k.a.send(k.a.types.COMMAND,"pause");break;case"stop":k.a.send(k.a.types.COMMAND,"pause"),k.a.send(k.a.types.COMMAND,"seek",[l.a.getAbsoluteSeekPositionInMs(0)/1e3]);break;case"load":k.a.send(k.a.types.COMMAND,"load",e.args),te&&T.a.send(T.a.types.COMMAND,T.a.events.PLAY);break;case"seek":var t=1e3*e.args[0],n=l.a.getDurationInMillisec();if(!j.a.initialized||!n)return void l.a.setLastApiSeekPositionInMs(t);var r=l.a.getAbsoluteSeekPositionInMs(t);k.a.send(k.a.types.COMMAND,"seek",[r/1e3]);break;case"volume":if(null!==e.args[0])return void g.a.dispatch(Object(Z.e)(e.args[0]));var o=j.a.initialized?100*j.a.getVolume():null;fe(e.cmd,o);break;case"content":fe(e.cmd,[l.a.app()].concat(l.a.ids()));break;case"playingContent":!function(e){l.a.isCid()&&!l.a.live()?fe(e.cmd,ae?[$,ae]:[]):fe(e.cmd,[l.a.app()].concat(l.a.ids()))}(e);break;case"duration":fe(e.cmd,l.a.getDurationInMillisec()/1e3);break;case"progress":fe(e.cmd,oe);break;case"viewers":fe(e.cmd,re);break;case"allTimeTotalViewers":fe(e.cmd,ne);break;case"quality":!function(e){k.a.send(k.a.types.COMMAND,"quality",e.args)}(e);break;case"setSession":k.a.send(k.a.types.COMMAND,"setSession",e.args);break;case"setTitleVisibility":var a=!!e.args[0];g.a.dispatch(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return{type:Y.a.toggleTitleVisibility,payload:e}}(a));break;case"pollAnswer":k.a.send(k.a.types.UI,"pollAnswer",e.args[0]);break;case"pollTracking":k.a.send(k.a.types.UI,"pollTracking",e.args[0]);break;case"cc":g.a.dispatch(q(parseInt(e.args[0],10)));break;case"setExternalVtt":U.addExternalVtt(e.args[0][0].forVTTCue);break;case"audio":g.a.dispatch(B(parseInt(e.args[0],10)));break;case"theater":g.a.dispatch(Object(Z.k)({visible:e.args[0]}));break;case"stats":var i=Object(X.a)(g.a.getState(),["playback","provider","qos.stats"]),s=(f=(c=i).playback,d=c.provider,p=c.qos,h=Object(y.b)(g.a.getState()),m=h.width,v=h.height,{videoTag:{width:m,height:v},streams:{video:f.video,audio:f.audio,bitrate:p.stats.bitrate},providers:{selected:d.currentProvider,available:d.finalResult},throughput:p.stats.throughput});fe(e.cmd,s)}var c,f,d,p,h,m,v}var pe={init:function(){T.a.on(T.a.types.DATA,T.a.events.ALLTIMETOTAL_UPDATE,se),T.a.on(T.a.types.DATA,T.a.events.VIEWERS_UPDATE,ue),T.a.on(T.a.types.EVENT,T.a.events.PLAYING,ie),T.a.on(T.a.types.EVENT,T.a.events.PROGRESS,le),T.a.on(T.a.types.EVENT,T.a.events.CREATE_OFFAIR_VIDEO,ce),D.a.on(D.a.event.COMMAND,de),u.a.viewingexperience&&window.$&&(window.$.capture("HIDETHEATERBUTTON",function(){return g.a.dispatch(Object(Z.k)({visible:!1}))}),window.$.capture("SHOWTHEATERBUTTON",function(){return g.a.dispatch(Object(Z.k)({visible:!0}))}))}},he=n(39),me=Object(s.a)("data/domainMapping"),ve="ustream.tv",ye={},ge=f.a.domainConfig,be=window.location;ye[ve]={site:"www.ustream.tv",siteShort:"ustream.tv",siteLocal:"ustream.tv.lh",siteDev:"dev.ustream.tv",tcdn:"tcdn.ustream.tv",ums:"ums.ustream.tv",rgw:"rgw.ustream.tv",cdngwPlain:"cdngw.ustream.tv",cdngwSecure:"cdngw-a.akamaihd.net",cdn1:"cdn1.ustream.tv",staticPlain:"static-cdn1.ustream.tv",staticSecure:"ustreamssl-a.akamaihd.net"},ye["video.ibm.com"]={site:"www.ustream.tv",siteShort:"ustream.tv",siteLocal:"ustream.tv.lh",siteDev:"dev.ustream.tv",tcdn:"tcdn.ustream.tv",ums:"ums.ustream.tv",rgw:"rgw.services.video.ibm.com",cdngwPlain:"cdngw.ustream.tv",cdngwSecure:"cdngw-a.akamaihd.net",cdn1:"cdn1.ustream.tv",staticPlain:"static-cdn1.ustream.tv",staticSecure:"ustreamssl-a.akamaihd.net"};var Ee,Se,Te,Oe,Ce={config:ge||(Ee=be.host,Se=Object.keys(ye),Te=ye[ve],(Oe=Se.find(function(e){return-1!==e.indexOf(Ee)}))&&(Te=ye[Oe]),me.info("selected configuration by host",Te),Te)},we=Object(s.a)("lib/cdngw"),_e=0,Pe=0,Ie=!1,Le=2;function Re(e,t,n,r,o){var a;Ie=!1,_e>6?r.call(null):(o?a=o:(a=Math.pow(Le,_e),a*=1e3),Pe=setTimeout(function(){!function(e,t,n,r,o){o?(we.debug("gateway timeout."),r.call(null)):(_e+=1,we.debug("gateway timeout. Trying again ..."),Re(e,t,n,r))}(e,t,n,r,o)},a),e(t,n,r,o))}var Ae,ke={abort:function(){Ie=!0,clearTimeout(Pe)},getAdverts:function(e,t,n,r){var o;Re(function(e,t,n,r){var o="http://"+Ce.config.cdngwPlain,a="https://"+Ce.config.cdngwSecure,s=e[0],u=e[1],l=e[2],c=e[3],f=e[4],d=e[5],p=e[6],h=i.a.ssl?a:o,m={brandId:1,mediaId:s,mediaType:u,countryCode:l,locale:f,pageUrl:encodeURIComponent(d)};c&&(m.highlightId=c,m.mediaType="recorded"),p&&(m.device=p);var v=[h,"/rgwjson/Viewer.getAdverts/",encodeURIComponent(JSON.stringify(m))].join(""),y=document.createElement("script");window.jsonpCallback=function(e){t(e),document.body.removeChild(y),delete window.jsonpCallback},y.setAttribute("src","".concat(v,"?jsoncallback=jsonpCallback")),document.body.appendChild(y)},e,(o=t,function(e){!function(e,t){clearTimeout(Pe),_e=1,Ie||e.call(null,t)}(o,e)}),n,r)}},Ne=Object(s.a)("logic/ads/provider/delay");function De(){Ae&&T.a.send(T.a.types.EVENT,N.DELAY_FINISHED)}function Me(){Ne.debug("reset timer"),Ae&&clearTimeout(Ae),Ae=void 0}var Ue={type:"delay",start:function(e){if(Ne.debug("start delay"),Me(),e&&e.duration){var t=1e3*parseInt(e.duration,10);t>0?(Ne.debug("start ".concat(t,"ms timeout")),Ae=setTimeout(De,t),T.a.send(T.a.types.EVENT,N.DELAY_STARTED)):T.a.send(T.a.types.EVENT,N.DELAY_ERROR)}else T.a.send(T.a.types.EVENT,N.DELAY_ERROR)},reset:Me};function xe(e){return function(t){return new Promise(function(n,r){var o=document.createElement(e),a="body",i="src";o.onload=function(){n(t)},o.onerror=function(){r(t)},"script"===e?o.async=!0:"link"===e&&(o.type="text/css",o.rel="stylesheet",i="href",a="head"),o[i]=t,document[a].appendChild(o)})}}var je,Fe,Ve,Be,He,Ge,qe,ze,We,Ke,Ye,Qe,Ze,Xe={css:xe("link"),js:xe("script"),img:xe("img")},Je={status:{DEFAULT:"default",INITIALIZED:"initialized",STARTED:"started",STOPPED:"stopped",PAUSED:"paused",FAILED:"failed",IN_PROGRESS:"adInProgress"},positions:{PRE:"pre",MID:"mid",POST:"post",PARTNER:"partner",LINEAR:"lfeed"},MAXIMUM_AD_OFFSET:40,AD_REQUEST_TIMEOUT:3e4,AD_START_TIMEOUT:3e4,DEFAULT_PARTNER_DELAY:9e5},$e={},et=Object(s.a)("logic/ads/providers/googleIMA"),tt="https://imasdk.googleapis.com/js/sdkloader/ima3.js",nt="http://imasdk.googleapis.com/js/sdkloader/ima3.js",rt=i.a.ssl?tt:nt,ot=!1,at=!1,it=!1,st=!1,ut=0,lt=i.a.ios;function ct(e){void 0!==e&&clearTimeout(e)}function ft(e){ot&&T.a.send(T.a.types.EVENT,N.AD_ERROR,{code:e})}function dt(){ct(He),ot&&ft("400")}function pt(){ct(qe),ot&&ft("400")}function ht(){et.debug("googleIMA.onAllAdsCompleted"),ot&&T.a.send(T.a.types.EVENT,N.AD_FINISHED)}function mt(){et.debug("googleIMA.onTimeout"),ot&&(ct(Be),ht())}function vt(e){var t=e.getInnerError(),n={errorCode:e.getErrorCode(),message:e.getMessage()};t&&(n.innerErrorMessage=t.message),et.debug("googleIMA.onAdError",n)}function yt(e){e.getError()&&vt(e.getError()),ct(He),ct(Ge),ot&&ft("200")}function gt(){et.debug("googleIMA.onAdLoaded"),ct(Ge),ot&&(qe=setTimeout(pt,Je.AD_START_TIMEOUT))}function bt(){et.debug("googleIMA.adBreakReadyHandler"),ot&&(qe=setTimeout(pt,Je.AD_START_TIMEOUT))}function Et(){et.debug("googleIMA.onContentPauseRequested"),Fe.removeEventListener("ended",Nt),lt&&(Ze=Fe.src,ut=Fe.currentTime),T.a.send(T.a.types.COMMAND,T.a.events.PAUSE)}function St(){Fe.seekable.length?Fe.seekable.end(0)>ut&&(Fe.currentTime=ut,Fe.removeEventListener("loadedmetadata",St),T.a.send(T.a.types.COMMAND,T.a.events.PLAY)):setTimeout(St,100)}function Tt(){et.debug("googleIMA.onContentResumeRequested"),$e.isAdBlockPlaying||(Fe.addEventListener("ended",Nt),lt?(Fe.src=Ze,Fe.addEventListener("loadedmetadata",St),Fe.load()):T.a.send(T.a.types.COMMAND,T.a.events.PLAY))}function Ot(){et.debug("googleIMA.onAdStarted"),ct(qe),ot&&(T.a.send(T.a.types.EVENT,N.AD_STARTED),(Ve.forceTimer||"video"!==Ve.type)&&Ve.duration&&1e3*parseInt(Ve.duration,10)>0&&(et.debug("set forceTimer: ".concat(Ve.duration,"s")),Be=setTimeout(mt,1e3*parseInt(Ve.duration,10))))}function Ct(){et.debug("googleIMA.onAdClicked"),Ke&&(Qe?Ke.resume():Ke.pause())}function wt(){et.debug("googleIMA.onAdPaused"),Qe=!0}function _t(){et.debug("googleIMA.onAdResumed"),Qe=!1}function Pt(){et.debug("googleIMA.onAdComplete")}function It(){ct(Ge),ot&&ft("400")}function Lt(e){et.debug("googleIMA.onAdsManagerLoaded"),ct(He);var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!lt,(Ke=e.getAdsManager(Fe,t)).addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,yt),Ke.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,Et),Ke.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,Tt),Ke.addEventListener(google.ima.AdEvent.Type.LOADED,gt),Ke.addEventListener(google.ima.AdEvent.Type.STARTED,Ot),Ke.addEventListener(google.ima.AdEvent.Type.COMPLETE,Pt),Ke.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,ht),Ke.addEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,bt),Ke.addEventListener(google.ima.AdEvent.Type.CLICK,Ct),Ke.addEventListener(google.ima.AdEvent.Type.PAUSED,wt),Ke.addEventListener(google.ima.AdEvent.Type.RESUMED,_t);try{Ge=setTimeout(It,Je.AD_REQUEST_TIMEOUT),Ke.init(At().width,At().height,google.ima.ViewMode.NORMAL),Ke.start()}catch(e){et.error("error during googleIMA ad init and start process"),vt(e),ft("300")}}function Rt(){ct(Be),ct(He),ct(Ge),ct(qe)}function At(){return{width:je.clientWidth,height:je.clientHeight}}function kt(){et.debug("setupIMA"),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),(ze=new google.ima.AdDisplayContainer(je,Fe)).initialize(),(Ye=new google.ima.AdsLoader(ze)).getSettings().setDisableCustomPlaybackForIOS10Plus(!0),Ye.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,Lt,!1),Ye.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,yt,!1),Fe.onended=Nt}function Nt(){et.debug("content ended detected"),st||(Ye.contentComplete(),T.a.send(T.a.types.EVENT,N.PLAY_POSTROLL),st=!0)}function Dt(){ot=!0,ze?Ye&&Ye.contentComplete():(et.debug("AdDisplayContainer not initialized yet"),kt()),(We=new google.ima.AdsRequest).adTagUrl=function(e){var t=e.adTag;if(t=Mt(t,"REFERRER",he.a),t=Mt(t,"CHANNEL_PAGE_URL",he.a),t=Mt(t,"CHANNEL",$e.channelId),t=Mt(t,"CACHE_BREAKER",Math.round(1e7*Math.random())),$e.title){var n=encodeURI($e.title.substr(0,100));t=Mt(t,"TITLE",n)}$e.videoId&&(t=Mt(t,"VIDEOID",$e.videoId));if(e.metaData){Object.keys(e.metaData).forEach(function(n){var r="CUSTOM_META-ID".concat(n),o=e.metaData[n],a="".concat(o.displayName,"=").concat(o.value);t=Mt(t,r,a)})}return t}(Ve),We.linearAdSlotWidth=At().width,We.linearAdSlotHeight=At().height,Ye.requestAds(We),He=setTimeout(dt,Je.AD_REQUEST_TIMEOUT)}function Mt(e,t,n){return n?e.replace(new RegExp("__".concat(t,"__"),"g"),n):e}function Ut(){throw et.debug("googleIMA.onSdkLoadError"),it=!0,new Error("SDK load failed")}function xt(){et.debug("googleIMA.onVpaidSdkLoadSuccess"),it=!0,void 0!==google.ima&&(at=!0)}var jt,Ft,Vt,Bt,Ht={type:"googleIMA",initialize:function(e,t){return e?t?(je=e,Fe=t,function(){if(et.debug("googleIMA.loadSdks"),at)return Promise.resolve();if(!it)return Xe.js(rt).then(xt,Ut);return ft(100),Promise.reject()}().then(kt)):Promise.reject(new Error("Empty content element")):Promise.reject(new Error("Empty Ad slot element"))},request:function(e){et.debug("request ad",e),e&&(Ve=e),et.debug("googleIMA.request. hasSdk: ".concat(at," isSdkTriedToLoad: ").concat(it)),at?Dt():ft(100)},resize:function(){Ke&&Ke.resize(At().width,At().height,"normal")},destroy:function(){et.debug("googleIMA.destroy"),Rt(),Ke&&(Ke.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,yt),Ke.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,Et),Ke.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,Tt),Ke.removeEventListener(google.ima.AdEvent.Type.LOADED,gt),Ke.removeEventListener(google.ima.AdEvent.Type.STARTED,Ot),Ke.removeEventListener(google.ima.AdEvent.Type.COMPLETE,Pt),Ke.removeEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,ht),Ke.removeEventListener(google.ima.AdEvent.Type.AD_BREAK_READY,bt),Ke.removeEventListener(google.ima.AdEvent.Type.CLICK,Ct),Ke.removeEventListener(google.ima.AdEvent.Type.PAUSED,wt),Ke.removeEventListener(google.ima.AdEvent.Type.RESUMED,_t),Ke.destroy(),Ke=null),Ye&&(Ye.removeEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,Lt),Ye.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,yt),Ye.destroy(),Ye=null),ze&&(ze.destroy(),ze=null),ot=!1,st=!1},reset:function(){et.debug("googleIMA.reset"),ot=!1,st=!1,Rt()}},Gt=Object(s.a)("logic/ads/ruleset/handler"),qt="delay,googleads",zt=[Je.positions.PRE,Je.positions.MID,Je.positions.POST,Je.positions.PARTNER,Je.positions.LINEAR],Wt=-1;function Kt(){return Vt}function Yt(){return!!Vt&&zt.reduce(function(e,t){var n=Vt[t]||[];return e.concat(n)},[]).length>0}function Qt(e){void 0!==e.block?e.block!==Wt&&(-1!==Wt&&(e.blockEnd=!0),Wt=e.block,e.blockStart=!0):-1!==Wt&&(e.blockEnd=!0,Wt=-1)}function Zt(e){var t=-1!==qt.indexOf(e.provider);return t||Gt.error("rule provider is not supported"),t}function Xt(e){Gt.debug("createPartnerDelayForVOD");var t={duration:Je.DEFAULT_PARTNER_DELAY,provider:"delay",rule:1};Vt[e].push(t)}function Jt(e,t){for(var n,r=[],o=0;o<e.length;o+=1){var a=e[o];a&&Zt(a)&&(t===Je.positions.MID&&(Qt(a),o===e.length-1&&(a.blockEnd=!0,Wt=-1)),l.a.isVid()&&t===Je.positions.PARTNER&&Xt(t),Ft&&(a.metaData=Ft),r.push(a))}return t!==Je.positions.PRE&&t!==Je.positions.POST&&t!==Je.positions.PARTNER||(n=r).length>1&&(n[0].blockStart=!0,n[n.length-1].blockEnd=!0),r}var $t={setData:function(e,t){Gt.debug("setData: ",e),e&&t?(Bt=t,function(e){Object.prototype.hasOwnProperty.call(e,"info")&&!jt&&(jt=e.info,Gt.debug("parseData >> data.info exists",jt)),Object.prototype.hasOwnProperty.call(e,"metadata")&&Object.keys(e.metadata).length>0&&(Ft=e.metadata,Gt.debug("parseData >> data.metadata exists",Ft)),Vt={};for(var t=0;t<zt.length;t+=1){var n=zt[t];Gt.debug("current position: ",n),Object.prototype.hasOwnProperty.call(e,n)&&e[n].length&&(Vt[n]=Jt(e[n],n))}Gt.debug("parse has ended with ruleSet",Vt)}(e),Yt()&&T.a.send(T.a.types.EVENT,N.AD_EVENT,{type:N.types.RULESET_HAS_ADS})):Gt.error("there is no data")},destroy:function(){Gt.debug("destroy"),jt=void 0,Ft=void 0,Vt=void 0},removeRule:function(e,t){Gt.debug("removeRule - pos: ".concat(e," - index: ").concat(t)),e&&void 0!==t&&Vt[e][t]&&Vt[e].splice(t,1)},getData:Kt,getInfo:function(){return jt},hasAds:Yt,id:function(){return Bt},addRevShareRules:function(e){!function(e,t){Gt.debug("updateRulesInPosition",{rules:e,pos:t}),e&&0!==e.length?Vt[t]=Jt(e,t):Gt.error("updateRulesInPosition called without rules")}(e.map(function(e){return e.block=2375423,e}),Je.positions.MID)},isRuleSetReadyForMedia:function(e){return Yt()&&Kt()&&e===Bt},clearPosition:function(e){Vt[e]&&(Vt[e]=[])},hasPostroll:function(){var e=Vt[Je.positions.POST];return e&&e.length>0}},en=["AT","BE","BG","CH","HR","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GR","HU","IE","IS","IT","LT","LU","LV","MT","NO","NL","PO","PT","RO","SE","SI","SK"];var tn={isEEACountry:function(e){return-1!==en.indexOf(e)}},nn=n(110);var rn,on={updatePrivacyCookie:function(e){return g.a.dispatch({type:nn.a.updatePrivacyCookie,payload:{privacyCookie:e}})}},an=5e3;function sn(){on.updatePrivacyCookie()}function un(){rn&&clearInterval(rn),rn=null}var ln={startCheck:function(){un(),sn(),rn=setInterval(sn,an)},stopCheck:un},cn=n(114);function fn(e){return{type:cn.a.setAdsPlaying,payload:{adsPlaying:e}}}var dn,pn,hn,mn=Object(s.a)("logic/ads/ads"),vn=!1,yn=Je.status.DEFAULT,gn=!1,bn=!1,En=!1,Sn=!1,Tn=!1,On=!1,Cn=0,wn=0,_n=Je.positions.PRE,Pn=-1;function In(){mn.debug("processCurrentRule"),"googleads"===hn.provider?(mn.debug("renderCurrentAd",{currentRule:hn,currentPos:_n,currentIndex:Pn}),g.a.dispatch(fn(!0)),$e.width=Cn,$e.height=wn,Ht.request(hn)):"delay"===hn.provider?Ue.start(hn):(mn.error("No provider defined to current rule."),jn())}function Ln(){Sn||(Sn=!0,mn.debug("dispatchPrerollDone - isPrerollDone: ",Sn),T.a.send(T.a.types.EVENT,N.AD_EVENT,{type:N.types.PREROLL_DONE}))}function Rn(){mn.debug("dispatchCompanion - isCompanionDone: ".concat(Tn," - started: ").concat(bn)),!Tn&&bn&&(Tn=!0,T.a.send(T.a.types.EVENT,N.types.COMPANION))}function An(){mn.debug("getNextRule - status: ",yn);var e=$t.getData();if(hn=void 0,Ht.reset(),Ue.reset(),!gn&&bn&&yn!==Je.status.PAUSED){if(yn=Je.status.STARTED,Pn+=1,mn.debug("getNextRule - pos: ".concat(_n," - index: ").concat(Pn)),!Object.prototype.hasOwnProperty.call(e,_n)||Pn===e[_n].length){if(mn.debug("there is no rules in current pos: ",!Object.prototype.hasOwnProperty.call(e,_n)),Pn>0&&Object.prototype.hasOwnProperty.call(e,_n)&&mn.debug("end of loop: ",Pn===e[_n].length),Pn=0,_n===Je.positions.POST)return void $t.clearPosition(Je.positions.POST);if(_n===Je.positions.PRE)_n=Je.positions.MID,$e.currentPos=_n,Ln();else if(_n===Je.positions.MID&&On)return mn.debug("revshare block has finished"),On=!1,void $t.clearPosition(Je.positions.MID);mn.debug("current pos: ".concat(_n," currentIndex:").concat(Pn))}Object.prototype.hasOwnProperty.call(e,_n)&&e[_n].length>0?(hn=e[_n][Pn],In(),hn&&hn.remove&&($t.removeRule(_n,Pn),Pn-=1)):mn.debug("there are no more ads")}}function kn(){mn.debug("sendPostrollFinishedEvent"),T.a.send(T.a.types.EVENT,N.AD_EVENT,{type:N.types.POSTROLL_FINISHED})}function Nn(e){mn.debug("sendVideoFinishedEvent"),T.a.send(T.a.types.EVENT,N.AD_EVENT,{type:N.types.VIDEO_FINISHED,contentPlaying:e.contentPlaying,controls:e.controls})}function Dn(){(!$e.isAdBlockPlaying||$e.isAdBlockPlaying&&hn.blockEnd)&&(g.a.dispatch(fn(!1)),$e.isAdBlockPlaying=!1)}function Mn(){mn.debug("onDelayStarted"),yn!==Je.status.PAUSED&&(yn=Je.status.IN_PROGRESS)}function Un(){mn.debug("onDelayFinished"),An()}function xn(){mn.debug("onDelayFinished"),An()}function jn(){mn.debug("onAdFinished - isAdBlockPlaying: ".concat($e.isAdBlockPlaying," - blockEnd: ").concat(hn.blockEnd)),Ht.reset(),Dn(),"video"!==hn.type||$e.isAdBlockPlaying||(gn||v.send({message:"".concat(_n,"roll finished"),data:{category:"Ad",item:"".concat(_n,"roll"),action:"finished"}}),mn.debug("onAdFinished - currentRule.type: ".concat(hn.type," - isAdBlockPlaying: ").concat($e.isAdBlockPlaying)),_n===Je.positions.POST?kn():Nn({contentPlaying:!0,controls:!0})),An()}function Fn(){mn.debug("disposeLogics"),Rn(),$e.isAdBlockPlaying=!1,_n=Je.positions.PRE,Pn=-1,Ht.destroy(),hn&&(Dn(),Nn({contentPlaying:void 0,controls:void 0}),hn=void 0),Ue.reset(),$t.destroy(),mn.debug("dispose done")}function Vn(e){var t=e!==gn;if(mn.debug("setAdFree",{currentAdFreeStatus:gn,newAdFreeStatus:e}),t){if(gn=e)return Ln(),void Fn();bn?(Pn=0,_n=Je.positions.MID,An()):Kn()}}function Bn(){mn.debug("onAdStarted - isAdBlockPlaying: ".concat($e.isAdBlockPlaying," - blockStart: ").concat(hn.blockStart)),g.a.dispatch(fn(!0)),yn!==Je.status.PAUSED&&(yn=Je.status.IN_PROGRESS),"video"===hn.type?($e.isAdBlockPlaying||(gn||v.send({message:"".concat(_n,"roll started"),data:{category:"Ad",item:"".concat(_n,"roll"),action:"started"}}),T.a.send(T.a.types.EVENT,N.AD_EVENT,{type:N.types.VIDEO_STARTED,contentPlaying:!1,controls:!1})),(hn.blockStart||void 0===hn.blockStart&&!$e.isAdBlockPlaying)&&hn.blockStart&&(mn.debug("set isAdBlockPlaying"),$e.isAdBlockPlaying=!0)):"overlay"===hn.type&&v.send({message:"Overlay ad displayed",data:{category:"Ad",item:"overlay ad",action:"displayed"}})}function Hn(){mn.debug("handleAdError"),Ht.reset(),Dn(),Nn({contentPlaying:!0,controls:!0}),An()}function Gn(e){mn.debug("onAdvertUpdate",e),e.revShare&&function(e){mn.debug("revShare modul received");var t=e.ads&&e.ads.mid?e.ads.mid:void 0,n=On&&(yn===Je.status.IN_PROGRESS||yn===Je.status.PAUSED),r=bn&&!gn&&t;n?mn.error("revShare ad is still running"):r&&(On=!0,Pn=-1,$t.addRevShareRules(t),An())}(e.revShare),e.disableAds&&Vn(!0),e.init&&Vn(!1)}function qn(e){Object.keys(e).forEach(function(t){Object.prototype.hasOwnProperty.call($e,t)&&$e[t]===e[t]||($e[t]=e[t],mn.debug("update - key: ".concat(t," - value: ").concat($e[t])))})}function zn(){var e=g.a.getState().cookie,t=e.ibmCookie,n=e.overlayCookie,r=t&&-1===t.indexOf("required")&&-1===t.indexOf("functional")||n||!t&&dn&&!tn.isEEACountry(dn);return r&&ln.stopCheck(),r}function Wn(){if(pn)return pn.hasBenefit&&pn.hasSettings}function Kn(){var e=vn||$e.proBroadcaster||u.a.adFree||$e.premiumMember||!zn(),t=document.referrer.indexOf("/dashboard")>-1&&u.a.loggedIn&&(u.a.isOnUstream||u.a.isIbmBranded);if(mn.debug("startPlayingAds",{integrationSettings:pn,isCurrentPageDashboard:t,isPremiumMemberFromSession:vn,isAdFreeFromParams:e,proBroadcaster:$e.proBroadcaster,paramsAdFree:u.a.adFree,premiumMember:$e.premiumMember,enabledFromCookie:zn(),adfree:gn}),!bn)if((e||gn)&&!Wn()||t)gn?(Ln(),Fn()):Vn(!0);else if($t.hasAds()&&$t.getData())!function(){mn.debug("initializeProviderAndStartAds");var e=document.querySelector("#ViewerContainer video"),t=document.getElementById("AdHolder");Ht.initialize(t,e).then(function(){bn=!0,An()},function(e){"SDK load failed"===e.message?Vn(!0):(mn.error("Following error happened while initializing google IMA provider",e),Hn())})}();else{var n,r,o=new Promise(function(e,t){var n=[l.a.id(),l.a.app(),dn,l.a.isHid()?l.a.ids()[1]:null,f.a.locale,he.a,"web"];mn.debug("getRuleset - getAdverts called with params: ",u.a),ke.getAdverts(n,e,t,5e3)}).then(Yn,Qn);Promise.all([o,(n=document.querySelector("#ViewerContainer video"),r=document.getElementById("AdHolder"),Ht.initialize(r,n).then(function(){bn=!0},function(e){"SDK load failed"===e.message?Vn(!0):(mn.error("Following error happened while initializing google IMA provider",e),Hn())}))]).then(function(){An()})}}function Yn(e){mn.debug("handleSuccessfulRulesetLoad",e);var t="".concat(l.a.app(),"_").concat(l.a.id());return e&&e.success&&e.ads?(mn.debug("ruleset for media loaded successfully"),$t.setData(e.ads,t),Promise.resolve()):(mn.debug("ruleset response was not valid",e),Qn(),Promise.reject())}function Qn(){return mn.debug("handleFailedRulesetLoad"),Vn(!0),Promise.reject()}function Zn(e){mn.debug("privacy cookie changed to",e),Vn(!zn())}function Xn(e){qn({contentVolume:e})}function Jn(){!gn&&bn&&$t.hasPostroll()?(mn.debug("playPostroll",{adfree:gn,started:bn,hasPostRoll:$t.hasPostroll()}),_n=Je.positions.POST,Pn=-1,An()):kn()}var $n,er,tr,nr,rr={initialize:function(e){mn.debug("initialize"),En||(ln.startCheck(),T.a.on(T.a.types.DATA,T.a.events.ADVERT_UPDATE,Gn),T.a.on(T.a.types.EVENT,N.AD_ERROR,Hn),T.a.on(T.a.types.EVENT,N.AD_FINISHED,jn),T.a.on(T.a.types.EVENT,N.AD_STARTED,Bn),T.a.on(T.a.types.EVENT,N.DELAY_STARTED,Mn),T.a.on(T.a.types.EVENT,N.DELAY_FINISHED,Un),T.a.on(T.a.types.EVENT,N.DELAY_ERROR,xn),T.a.on(T.a.types.EVENT,N.PLAY_POSTROLL,Jn),Cn=e.width,wn=e.height,$e.currentPos=Je.positions.PRE,$e.channelId=l.a.getOwnerChannelId(),l.a.isVid()&&($e.videoId=l.a.id()),g.a.subscribe("cookie.ibmCookie",Zn),g.a.subscribe("cookie.overlayCookie",Zn),g.a.subscribe("player.volume",Xn),En=!0),e.countryCode&&(dn=e.countryCode,mn.debug("countryCode updated",dn)),e.adIntegration&&(pn=e.adIntegration,mn.debug("adIntegration updated",pn))},startPlayingAds:Kn,destroy:function(){mn.debug("destroy"),Sn=!1,Tn=!1,bn=!1,yn=Je.status.DEFAULT,Fn()},update:qn,resize:function(e,t){gn||Cn===e&&wn===t||(Cn=e,wn=t,yn===Je.status.IN_PROGRESS?Cn<300||wn<180?(yn=Je.status.PAUSED,jn(),Ln(),Rn()):Ht.resize():yn===Je.status.PAUSED&&An())},isPrerollDone:function(){return Sn},isAdfree:function(){return gn},isStarted:function(){return bn},isAdInProgress:function(){return yn===Je.status.IN_PROGRESS},isInitialized:function(){return En},getType:function(){return hn?hn.type:void 0},setPremiumMember:function(){mn.debug("setPremiumMember",{settings:Wn()});var e=Wn();vn=!0,e||void 0===e||Vn(!0)},playPostroll:Jn};function or(){if(!$n)throw new Error("uiInstance not inited");return $n}var ar,ir,sr=6e4,ur=Object(s.a)("logic/logsender");function lr(){er.onload=null,er.onerror=null,er=null}function cr(e){ur.debug("Error happened while sending log to service",e),lr()}function fr(){var e="https://"+Ce.config.rgw+"/json.php/Log.collector",t={messageId:ar,reason:"viewer-tracelog",messageIndex:nr,messageCount:tr.length,rawData:tr[nr-1]};er.open("POST",e,!0),er.setRequestHeader("Content-Type","application/json"),er.send(JSON.stringify(t))}function dr(e){var t=JSON.parse(e.target.responseText);if(t){if(!t.messageId)return void cr("format");nr<tr.length?(nr+=1,fr()):(tr=[],or().setLogSendingCompleted(t.messageId),lr())}}function pr(){cr("connection")}function hr(e,t,n){var r,o="",a="";for((t||void 0===t)&&(o+="0123456789"),n&&(o+="abcdefghijklmnopqrstuvwxyz"),r=0;r<e;r+=1)a+=o.substr(Math.floor(o.length*Math.random()),1);return a}function mr(){var e,t,n,r;er||(ir=hr(17,!0,!1),ar=hr(32,!1,!0),tr=[],nr=1,ur.debug("Sending playback issue",{messageId:ar}),or().setLogSendingStarted(),(er=new XMLHttpRequest).onload=dr,er.onerror=pr,e=s.b.getLogs(),t=[],n=0,r=0,e.forEach(function(e){e.id=ir,n=JSON.stringify(e).length,r+n<=sr?t.push(e):(tr.push(t),t=[e],r=0),r+=n}),tr.push(t),fr())}var vr={init:function(){window.sendPlayerLog=function(){or().triggerLogSending().then(function(e){return console.log(e)})},k.a.on(k.a.types.EVENT,"sendLog",mr)},send:mr},yr=n(54),gr=n.n(yr);function br(e){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Er,Sr,Tr={},Or={},Cr=Object(s.a)("logic/stats/aggregator");function wr(e){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}function _r(){var e,t=Array.prototype.shift.call(arguments);return arguments.length<2?t.sort():(e=Array.prototype.slice.call(arguments),t.sort(function(t,n){for(var r=e.slice(),o=r.shift();t[o]===n[o]&&r.length;)o=r.shift();return t[o]===n[o]?0:t[o]>n[o]?1:-1}))}function Pr(){var e;if(wr(Tr)){for(e in Tr)Tr[e].common&&Tr[e].common.bufempty.length&&(Tr[e].common.bufempty=Tr[e].common.bufempty.pop().value),T.a.send(T.a.types.REPORT,T.a.events.SEND_REPORT,{mid:e,send:{cmd:"stats",data:[Tr[e]]}});Tr={}}}function Ir(){var e,t,n;if(wr(Or)){for(e in Or){if(Or[e].benchmark&&Or[e].benchmark.bwrpt&&Or[e].benchmark.bwrpt.length)for(t=_r(t=Or[e].benchmark.bwrpt,"url"),n=0;n<t.length-1;++n)t[n].url===t[n+1].url&&(t[n].size+=t[n+1].size,t[n].time+=t[n+1].time,t.splice(n+1,1),n--);T.a.send(T.a.types.REPORT,T.a.events.SEND_REPORT,{mid:e.split("_").join("."),send:{cmd:"stats",data:[Or[e]]}})}Or={}}}function Lr(){Tr={},Or={},clearInterval(Er),clearInterval(Sr),Er=window.setInterval(Pr,1e3),Sr=window.setInterval(Ir,5e3)}var Rr={init:function(){Cr.debug("init"),Lr()},feed:function(e,t){Cr.debug("aggregator feed",{mid:e,data:t}),t.common&&void 0!==t.common.bufempty&&(Tr[e]=Tr[e]?Tr[e]:{common:{bufempty:[]}},t.common.strurl&&(Tr[e].common.strurl=t.common.strurl,delete t.common.strurl),Tr[e].common.bufempty.push({value:t.common.bufempty,time:(new Date).getTime()}),delete t.common.bufempty,wr(t.common)||delete t.common),wr(t)&&(Or[e]?function e(t,n){if(Array.isArray(t)){Array.isArray(n)||(n=[]);for(var r=0;r<t.length;r++)n.push(t[r])}else if("object"===br(t))for(var o in n||(n={}),t)Array.isArray(t[o])||"object"===br(t[o])?(n[o]||(n[o]=Array.isArray(t[o])?[]:{}),e(t[o],n[o])):n[o]=t[o];else n=t}(t,Or[e]):Or[e]=t)},feedImmediate:function(e,t){T.a.send(T.a.types.REPORT,T.a.events.SEND_REPORT,{mid:e,send:{cmd:"stats",data:[t]}})},reset:Lr},Ar=n(21),kr=n(55),Nr=n.n(kr),Dr={}.toString,Mr={ARRAY:"array",BOOLEAN:"boolean",NUMBER:"number",OBJECT:"object",STRING:"string",NULLOBJ:"null"};function Ur(e){var t,n;return n=(t=(t=Dr.call(e)).substring(1,t.length-1)).split(" "),(t=n.length?n[1]:"none").toLowerCase()}function xr(e,t){return Ur(e)===t}function jr(e){return xr(e,Mr.BOOLEAN)}function Fr(e){return xr(e,Mr.NUMBER)}function Vr(e){return xr(e,Mr.STRING)}var Br={of:Ur,is:xr,isArray:function(e){return xr(e,Mr.ARRAY)},isBoolean:jr,isNumber:Fr,isObject:function(e){return xr(e,Mr.OBJECT)},isString:Vr,isPrimitive:function(e){return Vr(e)||Fr(e)||jr(e)||null==e},types:Mr};var Hr=function(e){return Br.isPrimitive(e)?e:JSON.parse(JSON.stringify(e))};function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var qr,zr,Wr,Kr,Yr,Qr,Zr,Xr,Jr,$r,eo=function(e){return void 0===e||"object"===Gr(e)&&(null===e||0===Object.keys(e).length)},to=3e5,no=1e3,ro="ecdnPreferredLocation",oo=0,ao={pingPath:"/ping",pingThreads:6,pingRounds:1,pingTimeout:400,addRndParam:!0,locationPriority:[]},io={},so={},uo={},lo=0,co=Ar.b.get(ro)||[],fo=!0,po=Object(s.a)("logic/sdcdnHandler"),ho=Object(s.a)("logic/sdcdnHandler"),mo=g.a.getState().provider.forcedUrl,vo=Br.isString(mo)?mo:null;function yo(e){var t=e&&e.result&&e.result.time>-1;po.debug("Ping result",e),t&&((!Jr||Jr.time>e.result.time)&&(Jr=e.result),!zr&&io[Zr]&&(zr=!0,po.debug("Send first result"),To([e.result],Zr))),$r.onStat({type:"overlay",data:{pingResult:e}})}function go(e){var t;lo=(new Date).getTime(),uo[Zr]=e,po.debug("Pings finished",{duration:lo-Yr,data:uo[Zr]}),To(uo[Zr],Zr),Kr=Zr,Zr=!1,!function(e){if(!so[e])return!1;if(!uo[e]&&so[e])return!0;if(uo[e].some(function(e){return Oo(e.url)}))return!1;return so[e].data.some(function(e){return e.useBestSite})}(Kr)?oo=0:(t=oo?no:0,t=Math.min(to,t*Math.pow(2,oo-1))+Math.floor(5e3*Math.random()),po.debug("Retry ecdn pings in "+Math.round(t/1e3)+"sec"),clearTimeout(qr),qr=setTimeout(function(){oo+=1,Po()},t)),$r.onStat({type:"report",data:lo-Yr})}function bo(e){ho.debug(e.line,e.data)}function Eo(e){ho.error("SDCDN lib error:",e)}function So(e){var t=wo(e);if(!t)return!0;var n=function(e){var t=[];return e.forEach(function(e){e.data.forEach(function(n){Object.prototype.hasOwnProperty.call(n,"cdnFallbackEnabled")&&t.push({location:n.location,cdnFallbackEnabled:n.cdnFallbackEnabled,group:e.name})})}),t}(t);if(!n.length)return!0;if(Br.isArray(co)&&co.length){var r=n.filter(function(e){return co.indexOf(e.group+"/"+e.location)>-1});if(r.length)return r[0].cdnFallbackEnabled}return n.some(function(e){return e.cdnFallbackEnabled})}function To(e,t){if(io[t]&&e)if(vo)!function(e,t){po.debug("Send forced providers",{mid:t,results:vo});var n=e.find(function(e){return e.url===vo});if(!n)return;var r=[{url:n.url,location:n.location}];io[t].providers=r,$r.onComplete(t,{stream:io[t]}),$r.onStat({type:"overlay",data:{finalResult:uo[t],fallback:"not available",location:"not available",preferredLocation:co,forcedProvider:vo,cdnConfig:so[Kr]}})}(e,t);else{var n=e,r=So(t),o=Jr&&Jr.location;po.debug("use cdn fallback: "+r),o&&function(e){if(co&&Br.isArray(co)){var t=co.indexOf(e);t>-1&&co.splice(t,1),co.unshift(e),co=co.slice(0,5)}else co=[e];Ar.b.set(ro,co)}(o),r||(n=e.filter(function(e){return e.location===o})),io[t].providers=Hr(n),po.debug("Send results",{mid:t,results:io[t].providers}),$r.onComplete(t,{stream:io[t]}),$r.onStat({type:"overlay",data:{finalResult:n,fallback:r,location:o,preferredLocation:co,forcedProvider:vo,cdnConfig:so[Kr]}}),clearTimeout(Qr),Qr=setTimeout(_o,to)}}function Oo(e){var t,n=decodeURIComponent(e).toLowerCase();for(t in so)if(Object.prototype.hasOwnProperty.call(so,t))return Co(so[t].data).some(function(e){var t=e.host.toLowerCase();return n.indexOf(t)>-1||t.indexOf(n)>-1});return!1}function Co(e){return e.filter(function(e){return e.useBestSite}).reduce(function(e,t){var n=t.data.reduce(function(e,t){return e.concat(t.sites)},[]);return e.concat(n)},[])}function wo(e){var t;return so[e]&&(t=so[e].data.filter(function(e){return e.useBestSite}).map(function(e){return Hr(e)})),t&&t.length?t:null}function _o(e){var t=e||Kr;(new Date).getTime()-lo>=to&&io[t]&&so[t]&&!Zr&&(Qr=clearTimeout(Qr),co&&(ao.locationPriority=co),(-1===t.indexOf("recorded")||t.indexOf("recorded")>-1&&!uo[t])&&(Yr=(new Date).getTime(),Zr=t,Nr.a.test(so[t],ao)))}function Po(){Zr||(lo=0,po.debug("Force tests"),_o())}function Io(e){po.debug("force provider ",e||"off"),vo=vo===e?null:e,To(uo[Kr],Kr)}$r={update:function(e,t){e!==Kr&&(lo=0);var n,r=Hr(t);r.stream&&r.stream.version&&(po.debug("Stream module received"),g.a.dispatch({type:F.a.setStreamModuleReceivedDate,payload:{ts:Date.now()}}),fo&&(S.reportStreamModuleReceived(),fo=!1),r.stream.contentAvailable?(io[e]=Hr(r.stream),io[e].mid=e,delete r.stream):function(){Qr=clearTimeout(Qr),Zr&&Nr.a.test();Xr=null,Zr=!1,lo=0,uo={},io={},zr=!1,vo=null,fo=!0}(),To(uo[e],e)),r.cdnConfig&&(Wr||(Nr.a.on(Nr.a.events.PING_RESULT,yo),Nr.a.on(Nr.a.events.FINISHED,go),Nr.a.on(Nr.a.events.ERROR,Eo),Nr.a.on(Nr.a.events.LOG,bo),Wr=!0),Kr=Kr||e,lo=0,so[e]=Hr(r.cdnConfig),so[e].mid=e,po.debug("CDN config received"),delete r.cdnConfig),eo(r)||$r.onComplete(e,r),(n=io[e])&&n.streamFormats&&(n.streamFormats.mp4||n.streamFormats.flv)&&!(n.streamFormats.hasOwnProperty("flv/segmented")||n.streamFormats.hasOwnProperty("mp4/segmented")||n.streamFormats.hasOwnProperty("hls/improved"))?(po.debug("Mp4 or Flv movie, cdn tests skipped!"),$r.onComplete(e,{stream:io[e]})):_o(e)},onStat:function(){},onComplete:function(){},onProviderChange:function(e){po.debug("Provider changed");var t=e&&Object.prototype.hasOwnProperty.call(e,"to")&&!Oo(e.to),n=Xr&&Oo(Xr)||!Xr&&wo(Kr);t&&n&&Po(),Xr=e.to},onProviderFailure:function(e){po.debug("Provider failure",e),(e&&Object.prototype.hasOwnProperty.call(e,"url")&&Oo(e.url)||wo(Kr))&&Po()},isEcdnProvider:Oo,getEcdnConfig:wo,forceProvider:Io},g.a.subscribe("provider.forcedUrl",Io);var Lo=$r,Ro=n(69);function Ao(e){return{type:Ro.a.setForcedProviderUrl,payload:{url:e}}}var ko,No,Do=Object(s.a)("providers"),Mo=-1;function Uo(e){var t=ko.length;ko&&t&&(e>=0&&e<t)?No=ko[Mo=e]:(Mo=-1,No=null)}function xo(e){var t=function(e){for(var t=ko.length,n=-1,r=0;r<t;r+=1)if(e===ko[r].name){n=r;break}return n}(e);Uo(t=Math.max(0,t))}function jo(){-1===Mo?Uo(0):xo(No.name)}var Fo,Vo,Bo,Ho={store:function(e){e.name||(e.name=e.url),ko.push(e)},selectNext:function(){return Uo((Mo+1)%ko.length),No},select:function(e){var t;return e?xo(e):jo(),g.a.dispatch((t=No,{type:Ro.a.setCurrentProvider,payload:{provider:t}})),Do.info("selected provider: ",No),No},clear:function(){ko=[]},getCurrentProvider:function(){return No}},Go=n(8),qo=Object(s.a)("logic/stats/collector"),zo={LOGIC_INITIATED:"lid",UMS_CONNECTED:"ucd",FIRST_MODULE_INFO:"fmi",KEYFRAME_AFTER_PLAY:"kfap",SEEK_COMPLETE:"kfas",JUMP_COMPLETE:"kfaj",BANDWIDTH_REPORT:"bwrpt",DROPPED_FRAMES:"dpfs",UMS_COMMAND_PLAYING:"playing",UMS_COMMAND_SEEK:"seek"},Wo={},Ko=-1,Yo=!1,Qo=!1;function Zo(e){var t=e.send.duration,n=[Math.round(e.send.from*t),Math.round(e.send.to*t)];-1!==Ko&&clearTimeout(Ko),Ko=setTimeout(function(){!function(e,t){Ko=-1,T.a.send(T.a.types.REPORT,T.a.events.SEND_REPORT,{mid:e,send:{cmd:zo.UMS_COMMAND_SEEK,data:t}})}(e.mid,n)},1e3)}function Xo(){void 0!==Vo&&(Bo=Vo,Vo=void 0,Jo({playing:!0}))}function Jo(e){var t,n,r=e.playing,o=e.reason,a=void 0===o?"":o,i=(n=Bo,g.a.getState().playback.audioTracks.find(function(e){return e.id===n})),s=Object(Go.a)(i,"language");s&&(t={language:s,country:Object(Go.a)(i,"country","00")});T.a.send(T.a.types.REPORT,T.a.events.SEND_REPORT,{mid:Fo,send:{cmd:zo.UMS_COMMAND_PLAYING,data:[Fo.split(".")[1],r,{reason:a,multiaudio:t}]}})}function $o(e){(Fo=e.mid,Yo)?Jo({mid:e.mid,reason:e.reason,playing:e.playing}):Qo=!0}function ea(e){Wo[e]={},Wo[e].start=Date.now(),Wo[e].success=-1,Wo[e].firstModule=-1}function ta(e){Fo=e,-1===Wo[e].success&&(Wo[e].success=Date.now(),Rr.feed(e,{benchmark:{ucd:Wo[e].success-Wo[e].start}})),function(e){Rr.feed(e,{branchName:u.a.branchName})}(e)}function na(e){-1===Wo[e.mid].success&&(Wo[e.mid].start=-1,Wo[e.mid].firstModule=-1)}function ra(e){-1!==Wo[e.mid].success&&-1===Wo[e.mid].firstModule&&(Wo[e.mid].firstModule=Date.now(),Rr.feed(e.mid,{benchmark:{fmi:Wo[e.mid].firstModule-Wo[e.mid].success}}))}function oa(e){var t=Lo.isEcdnProvider(e.url);Rr.feed(Fo,{benchmark:{bwrpt:[{time:e.time,size:e.size,url:e.url,ecdn:t}]}})}function aa(e){Rr.feed(Fo,{common:{bufempty:e}})}function ia(){aa(!0)}function sa(){aa(!1)}function ua(e){var t={type:e.error,details:e.details?e.details:{}},n=Fo.split(".");"channel"===n[0]?t.details.cid=n[1]:t.details.vid=n[1],Rr.feed(Fo,{error:[t]})}function la(e){qo.debug("adResponse",e),Rr.feed(Fo,{benchmark:{adr:e}})}function ca(e){Rr.feed(Fo,{benchmark:{ecdnt:e}})}function fa(){var e=Ho.select();if(e&&e.location&&e.url){var t,n=function(e){var t=e.match(/(.+?)\/.+/);if(t)return t[1]}(e.location),r=e.providerHost||(t=e.url,new URL(t).host);Rr.feed(Fo,{common:{cdnProviderType:n,cdnProviderHostname:r}})}}function da(){Wo={},Fo=null,Rr.reset(),Vo=void 0,Bo=void 0,Yo=!1,Qo=!1}function pa(){l.a.isHLS()&&(Yo=!0,Qo&&(Qo=!1,Jo({playing:!0})))}function ha(){l.a.isHLS()||(Yo=!0,Qo&&(Qo=!1,Jo({playing:!0})))}g.a.subscribe("playback.selectedAudio",function(e){void 0===Bo?Bo=e:Vo=e});var ma={init:function(){qo.debug("init"),Rr.init(),da(),T.a.on(T.a.types.REPORT,T.a.events.PLAYING,$o),T.a.on(T.a.types.REPORT,T.a.events.SEEK,Zo),T.a.on(T.a.types.REPORT,T.a.events.UMS_CONNECT_START,ea),T.a.on(T.a.types.REPORT,T.a.events.UMS_CONNECTED,ta),T.a.on(T.a.types.REPORT,T.a.events.UMS_REJECT,na),T.a.on(T.a.types.REPORT,T.a.events.MODULE_INFO,ra),T.a.on(T.a.types.REPORT,T.a.events.REPORT_BANDWIDTH,oa),T.a.on(T.a.types.REPORT,T.a.events.REPORT_BUFFER_EMPTY,ia),T.a.on(T.a.types.REPORT,T.a.events.REPORT_BUFFER_FULL,sa),T.a.on(T.a.types.REPORT,T.a.events.REPORT_ERROR,ua),T.a.on(T.a.types.REPORT,T.a.events.REPORT_AD_RESPONDED,la),T.a.on(T.a.types.EVENT,T.a.events.PROVIDER_CHANGE,fa),T.a.on(T.a.types.EVENT,T.a.events.AUDIO_TRACKS,pa),T.a.on(T.a.types.EVENT,T.a.events.PLAY_OPTIONS,ha),T.a.on(T.a.types.REPORT,T.a.events.REPORT_AUDIO_CHANGED,Xo),T.a.on(T.a.types.REPORT,T.a.events.REPORT_ECDN_TESTS,ca)},reset:da,types:zo},va={},ya={},ga=Object(s.a)("logic/stats/reporter");function ba(e){var t;ya[e.mid]?(t=gr()(e.mid))?(ga.debug("report to ums",{cmd:e.send.cmd,data:e.send.data}),t.send(e.send.cmd,e.send.data)):ga.warn("umsInstance not available!",{report:e}):(ga.debug("cache data",{mid:e.mid,data:e.send}),va[e.mid]=va[e.mid]?va[e.mid]:[],va[e.mid].push(e))}function Ea(e){if(ya[e]=!0,va[e]){for(;va[e].length;)ba(va[e].shift());delete va[e]}}var Sa,Ta={init:function(){ga.debug("init"),ma.init(),T.a.on(T.a.types.REPORT,T.a.events.SEND_REPORT,ba),T.a.on(T.a.types.REPORT,T.a.events.UMS_CONNECTED,Ea)}},Oa=n(37),Ca=n(18),wa=!1,_a=!1,Pa=-1,Ia=Object(s.a)("logic/offiarContentHandler"),La={},Ra={},Aa=!0,ka=!1,Na=!1;function Da(){return La&&La.videos&&La.videos.length}function Ma(){return La&&La.pictures&&La.pictures.length}function Ua(){Ia.debug("Stop offair content"),_a&&(_a=!1,T.a.send(T.a.types.EVENT,T.a.events.DESTROY_SLIDESHOW),Pa>-1&&Da()&&T.a.send(T.a.types.EVENT,T.a.events.DESTROY_OFFAIR_VIDEO,La.videos[Pa])),Pa=-1}function xa(){Da()&&_a&&(0!==(Pa+=1)&&T.a.send(T.a.types.EVENT,T.a.events.DESTROY_OFFAIR_VIDEO,La.videos[Pa-1]),Ia.debug("Next offair video",{next:La.videos[Pa]}),T.a.send(T.a.types.EVENT,T.a.events.CREATE_OFFAIR_VIDEO,La.videos[Pa]))}function ja(){Ia.debug("Start offair content"),_a||(Aa=!1),_a=!0,Ma()?T.a.send(T.a.types.EVENT,T.a.events.CREATE_SLIDESHOW,La.pictures):Da()?-1===Pa&&(Ia.debug("Init offair vids",{videos:La.videos}),xa()):(Ua(),Ga())}function Fa(){_a&&Ua(),ja()}function Va(){return Ma()||Da()}function Ba(){if(void 0===La)return!1;var e,t,n=(e=La,t=Ra,!(JSON.stringify(e)===JSON.stringify(t)));return(!_a||n)&&Va()}function Ha(){or().setContentAvailable(!0),g.a.dispatch(Oa.a.setLockInfo({type:""}))}function Ga(){or().setContentAvailable(!1),g.a.dispatch(Object(Ca.d)(Ca.a.offairScreen)),g.a.dispatch(Oa.a.setLockInfo({type:"offair"}))}function qa(){if(ka&&Na){var e=Da()&&!Aa&&!_a;Sa||Va()&&!e?Sa?(_a&&Ua(),Ha()):Ba()&&(Ha(),Fa()):Ga()}}function za(e){ka=!0,(Sa=e)&&(Aa=!1),qa()}function Wa(e){var t;Na=!0,void 0!==e.offairContent&&(t=e.offairContent,Ra=Aa?t:La,La=t),qa()}var Ka,Ya,Qa={init:function(){wa||(wa=!0,T.a.on(T.a.types.EVENT,T.a.events.LIVE,za),T.a.on(T.a.types.EVENT,T.a.events.NEXT_OFFAIR_VIDEO,xa),T.a.on(T.a.types.DATA,T.a.events.META_UPDATE,Wa))},start:ja,stop:Ua,restart:Fa,destroy:function(){Ua(),Sa=void 0,ka=!1,Na=!1,Aa=!0,La={},Ra={},Ha()},isStarted:function(){return _a},isStoppable:function(){return!_a||_a&&Da()&&Pa===La.videos.length-1},hasNextVideo:function(){var e=Pa+1;return e>-1&&La.videos&&e<La.videos.length}},Za=[];function Xa(e){e&&((Ka=e.addTextTrack("subtitles","English","en")).mode="showing",Ja(Za),Za=[])}function Ja(e){e.forEach(function(e){var t=new VTTCue(e[0],e[1],e[2]);t.line=-4,Ka.addCue(t)})}function $a(e){if(e&&e.vtt){if(!Ka)return t=e.vtt,void(Za=Za.concat(t));var t;!function(){for(var e=Ka.cues.length;e;)e-=1,Ka.removeCue(Ka.cues[e])}(),Ja(e.vtt)}}var ei={init:function(){Ya||(Ya=!0,g.a.subscribe("externalVtt",$a),g.a.subscribe("videoTag",Xa))}},ti=n(19),ni=Object(s.a)("contentAvailabilityChecker"),ri=!1,oi=!1,ai=!1,ii=!1;function si(){return oi&&ai&&ii}function ui(){ni.debug("runCheck",{isPrerollDone:ri,isAllInformationAvailableForContent:si()}),si()&&(D.a.send("contentAvailable",!0),T.a.send(T.a.types.EVENT,T.a.events.CONTENT_AVAILABLE))}function li(){ri=!1,oi=!1,ai=!1,ii=!1,!1}var ci={init:function(){ni.debug("init"),li()},reset:function(){ni.debug("reset"),li()},setHasLiveStatus:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ni.debug("setHasLiveStatus",e);var t=ai;ai=e,!t&&ai&&ui()},setHasMeta:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ni.debug("setHasMeta",e);var t=ii;ii=e,!t&&ii&&ui()},setHasPlayBackData:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ni.debug("setHasPlayBackData",e);var t=oi;oi=e,!t&&oi&&ui()},setPreRollDone:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ni.debug("setPreRollDone",e);var t=ri;ri=e,!t&&ri&&ui()}},fi=n(84);var di={addVideoTag:function(e){return g.a.dispatch({type:fi.a.addVideoTag,payload:{videoTag:e}})},removeVideoTag:function(){return g.a.dispatch({type:fi.a.removeVideoTag})}},pi=n(50),hi=Object(s.a)("lockManager"),mi=["reject","ipLock","geoLock","hashLock","passwordLock","referrerLock","sessionAuthLock","viewerHourLimitLock","nonexistent"];function vi(e,t){var n=!1;t.forEach(function(t){t.embedLimitExceeded&&n||(D.a.send("mediaReject",!0),n=!0);var r=function(e){return Object.keys(e).find(function(e){return mi.includes(e)})||"default"}(t),o=r.toLowerCase(),a=t[r];if("hashLock"===r){Oa.a.removeHash();var i=pi.a.getFallbackHash();if(i)return void Oa.a.addHash(i)}var s=g.a.getState().ums;"passwordLock"===r&&s.password&&g.a.dispatch(Oa.a.addPassword(null)),g.a.dispatch(Oa.a.setLockInfo({type:o,data:a})),T.a.send(T.a.types.REPORT,T.a.events.UMS_REJECT,{mid:e,send:a}),T.a.send(T.a.types.COMMAND,T.a.events.PAUSE)})}function yi(e){var t,n=g.a.getState().ums.hash;if(!e||!n||!e.watchedUrl)return null;try{t=JSON.parse(n)}catch(e){return hi.error("Parsing hash data failed",n),null}var r=Object(Go.a)(t.find(function(e){return e.hash}),"hash",null),o=function(e,t){return decodeURIComponent(e).replace("@@channelId@@",l.a.id()).replace("@@contentType@@",l.a.isCid()?"channel":"recorded").replace("@@contentId@@",l.a.id()).replace("@@hash@@",t)}(e.watchedUrl,r);return fetch(o).then(function(e){return e.json()}).then(function(e){return hi.info("WatchedUrl successfully called",e)}).catch(function(e){return hi.warn(e.message)})}function gi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var bi=function(e){var t=u.a.defaultLang||u.a.defaultlang;if(t){var n=t.toLowerCase().match(/(\w+)(?:-(\w+))?/);if(n){var r=gi(n,3),o=r[1],a=r[2],i=void 0===a?"00":a;return e.find(function(e){var t=e.language,n=e.country;return n?o===t.toLowerCase()&&i===n.toLowerCase():o===t.toLowerCase()})}}},Ei=25;var Si={validate:function(e){return[function(e){return Br.isObject(e)},function(e){var t=e.size;return Br.isNumber(t)&&t>0},function(e){var t=e.time;return Br.isNumber(t)&&t>Ei},function(e){var t=e.url;return Br.isString(t)},function(e){var t=e.url;return!/\.m4[va]h$/.test(t)},function(e){var t=e.url;return!/\.vtt$/.test(t)}].every(function(t){return t(e)})},hasPerformanceTiming:function(e){return Object(Go.a)(e,"performance.responseStart")&&Object(Go.a)(e,"performance.responseEnd")&&Object(Go.a)(e,"performance.startTime")}};function Ti(e){if(Si.hasPerformanceTiming(e)){var t=e.performance;return{waitingTime:t.responseStart-t.startTime,loadingTime:t.responseEnd-t.responseStart}}return{waitingTime:0,loadingTime:e.time}}var Oi,Ci,wi,_i,Pi,Ii,Li,Ri=3,Ai=1e3,ki=16e3,Ni=i.a.ios&&"10"===i.a.ios[0],Di=200,Mi=Object(s.a)("playbackhandler"),Ui=Math.random()<=.05,xi=["m4vh","m4ah","flv"],ji=!1,Fi=!1,Vi={},Bi=0,Hi={playing:!1,pauseTime:0,data:null,seekPosition:null},Gi="",qi=!1,zi=!1,Wi=!0,Ki=!0,Yi="default",Qi=!0,Zi=-2;function Xi(){Vs("".concat(Ri," segment not found error")),T.a.send(T.a.types.REPORT,T.a.events.PLAYING,{mid:l.a.getMid(),playing:!1}),Bs()}function Ji(){Ci=clearTimeout(Ci)}function $i(){Mi.debug("handle multiple atlas download error by getting updated stream module");var e,t=Bi?Ai:0;t=Math.min(ki,t*Math.pow(2,Bi-1)),e=t,Ji(),Ci=setTimeout(Xi,e),Bi+=1}function es(e){Mi.info("handleMultipleAtlasDownloadError"),Oi?($i(),Oi=!1):(Mi.debug("handle multiple atlas download error by changing provider"),T.a.send(T.a.types.COMMAND,T.a.events.CHANGE_PROVIDER),Oi=!0),T.a.send(T.a.types.EVENT,T.a.events.ATLAS_DOWNLOAD_ERROR,e)}function ts(e){var t,n,r;if(Mi.debug("handleAtlasDownloadError"),e.status>=500||0===e.status)return t=e.url,n=Ho.getCurrentProvider(),r=Object(Go.a)(n,"url"),Mi.info("serverError",{currentProvider:r,url:t}),void(r&&!t.includes(r)||T.a.send(T.a.types.COMMAND,T.a.events.CHANGE_PROVIDER));if(qi&&!1===l.a.isOffairVid())Pi||(Mi.debug("start end of stream interval"),Pi=setInterval(Ps,1e3));else if(!Ci){var o=us(e.url);Object.prototype.hasOwnProperty.call(Vi,o)||(Vi[o]=0),Vi[o]+=1,Vi[o]>=Ri&&es(e)}}function ns(){Hs(),or().showPlayScreen(),j.a.removeListener(j.a.events.ATLAS_FULLY_INITIALIZED,ns)}function rs(){Mi.debug("initializeAtlas"),j.a.initialized||(j.a.initialize("ViewerContainer"),j.a.addListener(j.a.events.BANDWIDTH,Ls),j.a.addListener(j.a.events.BUFFER_EMPTY,Rs),j.a.addListener(j.a.events.BUFFER_FULL,As),j.a.addListener(j.a.events.ERROR,ks),j.a.addListener(j.a.events.POSITION,Ds),j.a.addListener(j.a.events.LOG,Ns),j.a.addListener(j.a.events.FINISHED,Es),j.a.addListener(j.a.events.METADATA,bs),j.a.addListener(j.a.events.THROTTLE,cs),j.a.addListener(j.a.events.AUDIO_TRACKS,ds),j.a.addListener(j.a.events.TEXT_TRACKS,ps),j.a.addListener(j.a.events.X08_DETECTED,hs),j.a.addListener(j.a.events.WEBKIT_SUPPORTS_FULLSCREEN,ms),j.a.addListener(j.a.events.WEBKIT_ENTER_FULLSCREEN,ys),j.a.addListener(j.a.events.WEBKIT_END_FULLSCREEN,gs),j.a.addListener(j.a.events.STORED,Us),j.a.addListener(j.a.events.BUFFERED,xs),j.a.addListener(j.a.events.ATLAS_FULLY_INITIALIZED,is),j.a.addListener(j.a.events.QUALITY_CHANGE_STARTED,Ss),j.a.addListener(j.a.events.QUALITY_CHANGE_COMPLETED,Ts),j.a.addListener(j.a.events.QUALITY_CHANGE_CANCELLED,Os),j.a.addListener(j.a.events.LANGUAGE_CHANGE_STARTED,Cs),j.a.addListener(j.a.events.LANGUAGE_CHANGE_COMPLETED,ws),j.a.addListener(j.a.events.LANGUAGE_CHANGE_CANCELLED,_s),j.a.addListener(j.a.events.SEEK_STARTED,os),j.a.addListener(j.a.events.SEEK_COMPLETED,as),function(){var e={};A&&!1!==u.a.playsinline&&!Ni&&(e["webkit-playsinline"]=!0,e.playsinline=!0);"native"===u.a.controls&&(e.controls="true");0===u.a.volume&&(e.defaultMuted=!0);j.a.setOption(j.a.optionNames.VIDEO_TAG_ATTRIBUTES,e)}(),j.a.setOption(j.a.optionNames.FLASH_PROXY_URL_PLAIN,"http://".concat(Ce.config.cdn1)),j.a.setOption(j.a.optionNames.FLASH_PROXY_URL_SECURE,"https://".concat(Ce.config.staticSecure)),Mi.debug("Atlas is initialized"))}function os(){v.send({message:"Seek started",data:{category:"Playback",item:"playback",action:"started"}})}function as(){D.a.send("seekCompleted",!0),v.send({message:"Seek completed",data:{category:"Playback",item:"playback",action:"completed"}})}function is(){Fi=!0,T.a.send(T.a.types.EVENT,"onAtlasSeekable")}function ss(){Fs("nextoffair")}function us(e){return e.split(".").pop()}function ls(e){Hi.data=Object.assign({},e,{isLive:!l.a.isVid()&&!l.a.isOffairVid(),lastStreamModuleReceived:g.a.getState().playback.lastStreamModuleReceived}),Hi.data.debug=u.a.showHiddenContextMenuItems,(wi&&Object.prototype.hasOwnProperty.call(Hi.data,"format")&&wi!==Hi.data.format||e.format===ti.a.HLS&&Gi&&function(e){if(e===Gi)return!1;if(!e)return!0;var t=new URL(Gi),n=new URL(e);return t.searchParams.get("sourceChannel")!==n.searchParams.get("sourceChannel")}(e.url)||Li&&Hi.data.sourceMedia!==Li)&&Fs("Format changed"),wi=Hi.data.format,Li=Hi.data.sourceMedia,Gi=e.url,j.a.initialized||rs();var t=g.a.getState().player.volume;j.a.setVolume(t/100),Hi.playing&&js(Hi.data),ci.setHasPlayBackData()}function cs(e){var t="throttle"===e.state;T.a.send(T.a.types.EVENT,T.a.events.ATLAS_THROTTLE,t)}function fs(e){return e.map(function(e,t){var n=parseInt(e.id,10);return Object.assign({},e,{id:n||0===n?n:t})})}function ds(e){var t=fs(e.data);if(l.a.isHLS()){if(g.a.dispatch(H(t)),Qi){var n=g.a.getState().playback.selectedAudio,r=bi(t);if(-1!==n)j.a.selectAudio(n);else if(r)g.a.dispatch(B(r.id));else{var o=t.find(function(e){return e.enabled});o&&g.a.dispatch(B(o.id))}Qi=!1}else{var a=t.find(function(e){return e.enabled});a&&g.a.dispatch(B(a.id))}T.a.send(T.a.types.EVENT,T.a.events.AUDIO_TRACKS,t)}}function ps(e){if(l.a.isHLS()&&!u.a.externalvtt){var t=fs(e.data);g.a.dispatch(G(t))}}function hs(){if(!u.a.externalvtt){g.a.dispatch(G([{id:1,label:"ui.closedCaption",shouldTranslate:!0}]))}}function ms(e){var t;g.a.dispatch((t=e.data,{type:F.a.setWebkitSupportsFullscreen,payload:{supports:t}}))}function vs(){var e=j.a.getVideoTag();if(e){var t=!e.paused;Hi.playing!==t&&(Hi.playing=t,T.a.send(T.a.types.EVENT,T.a.events.PLAYING,t))}}function ys(){vs()}function gs(){vs()}function bs(e){T.a.send(T.a.types.EVENT,T.a.events.ATLAS_METADATA,e)}function Es(){qi&&l.a.isCid()&&!1===l.a.isOffairVid()?Is():(T.a.send(T.a.types.EVENT,T.a.events.VIDEO_FINISHED),D.a.send("finished",!0))}function Ss(){zi||(zi=!0,T.a.send(T.a.types.EVENT,T.a.events.ATLAS_QUALITY_CHANGE_STARTED))}function Ts(){zi&&(zi=!1,T.a.send(T.a.types.EVENT,T.a.events.ATLAS_QUALITY_CHANGE_COMPLETED))}function Os(){zi&&(zi=!1,T.a.send(T.a.types.EVENT,T.a.events.ATLAS_QUALITY_CHANGE_CANCELLED))}function Cs(e){e.activeStreamId.includes("text")||or().setAudioLoading(!0)}function ws(e){e.activeStreamId.includes("text")||(T.a.send(T.a.types.REPORT,T.a.events.REPORT_AUDIO_CHANGED),or().setAudioLoading(!1))}function _s(e){e.activeStreamId.includes("text")||or().setAudioLoading(!1)}function Ps(){qi&&Ii===Hi.position&&(Mi.debug("check end of stream"),Is()),Ii=Hi.position}function Is(){Mi.debug("end of stream"),Pi=clearInterval(Pi),Fs("End of stream"),Vi={},T.a.send(T.a.types.EVENT,T.a.events.LIVE,!1)}function Ls(e){var t=us(e.url);Object.prototype.hasOwnProperty.call(Vi,t)&&(Vi[t]=0),Bi=0,Ji(),function(e){if(!Ui&&!u.a.chunkReporting)return;var t=us(e.url);if(xi.includes(t))return;var n=Ti(e),r=n.waitingTime,o=n.loadingTime;v.send({message:"Chunk download",data:{category:"Chunk",item:"download",action:"success",start_loading:Date.now()-e.time,chunk_size:e.size,chunk_type:t,waiting_time:r,loading_time:o}})}(e),T.a.send(T.a.types.REPORT,T.a.events.REPORT_BANDWIDTH,e)}function Rs(){g.a.dispatch(V(!0)),!0!==qi&&!1===(l.a.isVid()&&Hi.position>Hi.data.contentLength-Di)&&T.a.send(T.a.types.REPORT,T.a.events.REPORT_BUFFER_EMPTY)}function As(){g.a.dispatch(V(!1)),T.a.send(T.a.types.REPORT,T.a.events.REPORT_BUFFER_FULL)}function ks(e){if(T.a.send(T.a.types.EVENT,T.a.events.ATLAS_ERROR,e),!e.recoverable)return Mi.debug("handleAtlasUnrecoverableError"),T.a.send(T.a.types.EVENT,T.a.events.ATLAS_CLEANUP,"Unrecoverable atlas error"),Fi=!1,Vi={},Ji(),Qi=!0,void(_i=setTimeout(Ws,750));switch(e.error){case j.a.errors.SEGMENT_NOT_FOUND:case j.a.errors.SEGMENT_LOAD_FAILED:T.a.send(T.a.types.REPORT,T.a.events.REPORT_ERROR,e),ts(e.details);break;case j.a.errors.PLAY_ERROR:"NotAllowedError"===e.details.error.name&&(Fi?ns():j.a.addListener(j.a.events.ATLAS_FULLY_INITIALIZED,ns),Ms());break;default:T.a.send(T.a.types.REPORT,T.a.events.REPORT_ERROR,e)}}function Ns(e){s.b.log(Object.assign({},e,{source:"atlas/".concat(e.source)})),T.a.send(T.a.types.EVENT,T.a.events.ATLAS_LOG,e)}function Ds(e){var t=l.a.isHLS()?l.a.getTrimmedDurationInMillisec():l.a.getDurationInMillisec();if(t=t||0,e.position>0){var n=function(){if(l.a.hasLastApiSeekPositionInMs()){var e=l.a.getLastApiSeekPositionInMs();return l.a.getAbsoluteSeekPositionInMs(e)}return Hi.seekPosition}();j.a.initialized&&Fi&&null!==n?(j.a.seek(n),Hi.seekPosition=null,l.a.setLastApiSeekPositionInMs(null)):or().showViewerContainer()}if(e.position>=0){var r=t?e.position/t:0;Hi.position=e.position,T.a.send(T.a.types.EVENT,T.a.events.PROGRESS,r)}Ki&&Ms(),T.a.send(T.a.types.EVENT,T.a.events.ATLAS_PROGRESS,e.position)}function Ms(){S.reportFirstTimeUpdate(),f.a.isDashboard||f.a.align||yi(f.a.hashLockData),Ki=!1}function Us(e){T.a.send(T.a.types.EVENT,T.a.events.ATLAS_STORED_UPDATE,e)}function xs(e){T.a.send(T.a.types.EVENT,T.a.events.ATLAS_BUFFERED_UPDATE,e)}function js(e){Wi&&(S.reportFirstPlayCall(),Wi=!1),Hi.data&&Object.prototype.hasOwnProperty.call(Hi.data,"format")&&Hi.data.format===ti.a.FLV_SEGMENTED&&or().showViewerContainer(),j.a.play(e)}function Fs(e){Mi.debug("atlasReset"),j.a.initialized&&(j.a.removeListener(j.a.events.BANDWIDTH,Ls),j.a.removeListener(j.a.events.BUFFER_EMPTY,Rs),j.a.removeListener(j.a.events.BUFFER_FULL,As),j.a.removeListener(j.a.events.ERROR,ks),j.a.removeListener(j.a.events.POSITION,Ds),j.a.removeListener(j.a.events.FINISHED,Es),j.a.removeListener(j.a.events.METADATA,bs),j.a.removeListener(j.a.events.STORED,Us),j.a.removeListener(j.a.events.BUFFERED,xs),j.a.removeListener(j.a.events.THROTTLE,cs),j.a.removeListener(j.a.events.AUDIO_TRACKS,ds),j.a.removeListener(j.a.events.TEXT_TRACKS,ps),j.a.removeListener(j.a.events.X08_DETECTED,hs),j.a.removeListener(j.a.events.WEBKIT_SUPPORTS_FULLSCREEN,ms),j.a.removeListener(j.a.events.WEBKIT_ENTER_FULLSCREEN,ys),j.a.removeListener(j.a.events.WEBKIT_END_FULLSCREEN,gs),j.a.removeListener(j.a.events.QUALITY_CHANGE_STARTED,Ss),j.a.removeListener(j.a.events.QUALITY_CHANGE_COMPLETED,Ts),j.a.removeListener(j.a.events.QUALITY_CHANGE_CANCELLED,Os),j.a.removeListener(j.a.events.ATLAS_FULLY_INITIALIZED,is),j.a.removeListener(j.a.events.LANGUAGE_CHANGE_STARTED,Cs),j.a.removeListener(j.a.events.LANGUAGE_CHANGE_COMPLETED,ws),j.a.removeListener(j.a.events.LANGUAGE_CHANGE_CANCELLED,_s),j.a.removeListener(j.a.events.SEEK_STARTED,os),j.a.removeListener(j.a.events.SEEK_COMPLETED,as),j.a.removeListener(j.a.events.ATLAS_FULLY_INITIALIZED,ns),j.a.cleanup(),Fi=!1,T.a.send(T.a.types.EVENT,T.a.events.ATLAS_CLEANUP,e||"unknown reason"),S.cleanup(),S.setInitStart()),Vi={},Bi=0,Zi=-2,Qi=!0,Ji()}function Vs(e){Mi.debug("reset"),Fs(e),Hi={playing:!1,pauseTime:0,position:0,seekPosition:null},l.a.setLastApiSeekPositionInMs(null),Bi=0,Ki=!0,Wi=!0,S.setInitStart(),_i=clearTimeout(_i),Li=void 0}function Bs(){Mi.debug("playbackhandler.onPlay()");var e=!1;if(j.a.initialized||rs(),Hi.playing){var t=Date.now();j.a.resume(),Mi.debug("resume"),Hi.pauseTime>0&&t-Hi.pauseTime>100&&!l.a.isVid()&&!l.a.isOffairVid()?(Mi.debug("resume.time: ".concat(t," - diff: ").concat(t-Hi.pauseTime)),j.a.seek(Hi.position+(t-Hi.pauseTime)),Hi.pauseTime=0):e=!0}Hi.playing&&!e||!Hi.data||(Hi.playing=!0,js(Hi.data),Ki||j.a.resume(),j.a.getVideoTag()&&di.addVideoTag(j.a.getVideoTag()));Hi.playing||(Hi.playing=!0),T.a.send(T.a.types.EVENT,T.a.events.PLAYING,!0)}function Hs(){Mi.debug("playbackhandler.onPause()"),j.a.initialized&&(Hi.pauseTime=Date.now(),Mi.debug("pause.time",Hi.pauseTime),Ci&&(Vi={},Bi=0,Ji()),j.a.pause(),Hi.playing=!1,T.a.send(T.a.types.EVENT,T.a.events.PLAYING,!1))}function Gs(e){j.a.initialized&&Fi?j.a.seek(1e3*e):Hi.seekPosition=1e3*e}function qs(){if(j.a.initialized){var e=g.a.getState().playback,t=e.selectedClosedCaption,n=e.closedCaptionVisible;j.a.toggleCaptions({trackId:t>-1?t:Zi,isVisible:n}),j.a.setCaptionPosition(Yi),Zi=t}}function zs(e){Yi=e,j.a.initialized&&j.a.setCaptionPosition(e)}function Ws(){Hi.playing&&Hi.data&&ls(Hi.data)}Mi.debug("atlas",j.a),g.a.subscribe("playback.selectedAudio",function(e){j.a.initialized&&j.a.selectAudio(e)}),g.a.subscribe("playback.selectedClosedCaption",qs),g.a.subscribe("playback.closedCaptionVisible",qs),g.a.subscribe("playback.hashes",function(e){j.a.initialized&&j.a.setHash(e)}),g.a.subscribe("player.volume",function(e){var t=e/100;j.a.initialized&&j.a.setVolume(t)}),g.a.subscribe("player.speed",function(e){j.a.initialized&&j.a.setPlaybackSpeed(e)});var Ks={init:function(){Oi=!0,ji?(Mi.debug("reinit"),Vs("Atlas init")):(Mi.debug("init"),ji=!0,T.a.on(T.a.types.EVENT,T.a.events.PLAY_OPTIONS,ls),T.a.on(T.a.types.EVENT,T.a.events.CONTENT_CUT_UPDATE,function(){l.a.getCutStart()&&!A&&or().hideViewerContainer()}),T.a.on(T.a.types.EVENT,T.a.events.NEXT_OFFAIR_VIDEO,ss),T.a.on(T.a.types.EVENT,T.a.events.LIVE,function(e){Hi.pauseTime=0,Hi.data=null,qi=!e,!0===e&&(Pi=clearInterval(Pi),Fs("Status changed"))}),T.a.on(T.a.types.EVENT,T.a.events.OFFLINE_MODULE_RECEIVED,function(){qi=!0}),T.a.on(T.a.types.COMMAND,T.a.events.PLAY,Bs),T.a.on(T.a.types.COMMAND,T.a.events.PAUSE,Hs),T.a.on(T.a.types.COMMAND,T.a.events.SEEK,Gs),T.a.on(T.a.types.COMMAND,T.a.events.TOGGLE_CC,qs),T.a.on(T.a.types.COMMAND,T.a.events.SET_CAPTION_POSITION,zs))},reset:Vs},Ys=n(41),Qs=Object(s.a)("logic/getstream"),Zs={},Xs={SUCCESS:"mte_getstream_success",ERROR:"mte_getstream_error"},Js=2,$s=5e3,eu=1e3,tu=1e4,nu=2e3,ru=null,ou=0,au=0,iu=0,su=0,uu=!1;function lu(e){switch(Qs.debug("UHLS polling - status ",e.status),e.status){case 202:Qs.debug("UHLS polling - retry in 2 seconds"),e.abort(),pu(),iu=setTimeout(function(){return du(e.streamUrl)},nu),uu=!1;break;case 204:uu?(Qs.debug("UHLS polling - going offline"),Object(Ys.a)(Zs,Xs.ERROR,204),uu=!1):(Qs.debug("UHLS polling - retry in 10 seconds"),e.abort(),pu(),su=setTimeout(function(){return du(e.streamUrl)},tu),uu=!0);break;case 404:Object(Ys.a)(Zs,Xs.ERROR,404),pu(),ou=0,clearTimeout(au),clearTimeout(iu),clearTimeout(su),au=0,iu=0,su=0,uu=!1}}function cu(e){var t=e.target;switch(t.readyState){case XMLHttpRequest.HEADERS_RECEIVED:lu(t);break;case XMLHttpRequest.DONE:!function(e){switch(e.status){case 200:Qs.info("Master playlist downloaded",{url:e.responseURL,content:e.responseText}),ou=1,Object(Ys.a)(Zs,Xs.SUCCESS,e.streamUrl),pu(),uu=!1}}(t)}}function fu(e){var t=e.target;if(ou>6)Object(Ys.a)(Zs,Xs.ERROR,408);else{ou+=1;var n=Math.pow(Js,ou);Qs.debug("UHLS timeout. Retrying in ".concat(n," secs")),pu(),au=setTimeout(function(){return du(t.streamUrl)},n*eu)}}function du(e){Qs.debug("load",e),e?ru&&void 0!==ru.readyState?Qs.debug("current request already sent, abort first"):((ru=new XMLHttpRequest).streamUrl=e,ru.timeout=$s,ru.onreadystatechange=cu,ru.ontimeout=fu,ru.onerror=fu,e&&i.a.playstation&&(e=e.replace("/iphone/","/sony/")),ru.open("GET",e,!0),ru.setRequestHeader("Content-type","application/x-www-form-urlencoded"),ru.send()):Qs.debug("no url")}function pu(){ru=null}var hu,mu,vu={event:Xs,load:du,abort:function(){Qs.debug("abort"),clearTimeout(au),clearTimeout(iu),clearTimeout(su),ru&&ru.abort&&ru.abort(),pu()},on:function(e,t){Zs[e]||(Zs[e]=[]),Zs[e].push(t)},setPollingInterval:function(e){nu=e},setRetryTimeout:function(e){eu=e},setOfflineTimeout:function(e){tu=e},setRetryCount:function(e){ou=e}},yu=[],gu=Object(s.a)("lib/hlsChecker");function bu(e){vu.load(e)}vu.on(vu.event.SUCCESS,function(){hu(mu)}),vu.on(vu.event.ERROR,function(e){gu.debug("hls check error:",e),mu.streams.length>0&&(yu.push(mu.streams.shift()),bu(mu.streams[0].initUrl))});var Eu=function(e,t){hu=t,mu=e,l.a.isCid()&&function(e){return e&&"hls"===e.streamType&&e.streams&&e.streams.length}(mu)?(gu.debug("check hls",mu),yu=[],vu.abort(),bu(mu.streams[0].initUrl)):hu(mu)};var Su={copyProperties:function(e,t,n){var r,o;t=t||{},n.forEach(function(n){n.hasOwnProperty("name")&&(r=n.name,o=n.hasOwnProperty("updatedName")?n.updatedName:n.name,t[o]=e.hasOwnProperty(o)?e[o]:e[r])})}},Tu={PROVIDER:[{name:"name"},{name:"url"},{name:"varnishUrl"},{name:"seek"}],STREAM:[{name:"width"},{name:"height"},{name:"videoCodec",updatedName:"codec"},{name:"bitrate"},{name:"description"},{name:"contentType"},{name:"initUrl"},{name:"chunkId"},{name:"streamNameService"},{name:"url",updatedName:"initUrl"},{name:"streamName",updatedName:"segmentUrl"},{name:"chunkTime",updatedName:"segmentLength"}]},Ou=Object(s.a)("shim/legacy");var Cu={shim:function(e){return Ou.debug("shim"),function(e){return!!(e&&Br.isArray(e)&&e[0]&&e[0].streams&&Br.isArray(e[0].streams)&&e[0].streams[0])}(e)?(e.providers=function(e){return e.map(function(e){var t={};return Su.copyProperties(e,t,Tu.PROVIDER),t})}(e),e.hashes=function(e){var t,n=e[0].streams[0];return n.hasOwnProperty("chunkRange")&&(t=n.chunkRange),t}(e),e.streams=function(e){return e[0].streams.map(function(e){var t={};return Su.copyProperties(e,t,Tu.STREAM),Br.isArray(t.segmentUrl)&&(t.segmentUrl=t.segmentUrl[0]),t})}(e),e.chunkTime=function(e){var t,n;for(n=0;n<e[0].streams.length;n++)if(e[0].streams[n].hasOwnProperty("chunkTime")){t=e[0].streams[n].chunkTime;break}return t}(e),e.streamType=e.hashes?ti.a.FLV_SEGMENTED:ti.a.FLV_MOVIE,e):(Ou.warn("cannot validate module structure"),null)}},wu=Object(s.a)("shim/mp4segmented");var _u={shim:function(e){return wu.debug("shim"),function(e){return!!(e.hasOwnProperty("providers")&&e.hasOwnProperty("streams")&&e.hasOwnProperty("hashes")&&e.hashes)}(e)?(e.streams=function(e){return e.streams.map(function(t){var n={};return Su.copyProperties(t,n,Tu.STREAM),e.hasOwnProperty("chunkTime")&&(n.segmentLength=e.chunkTime),e.hasOwnProperty("chunkId")&&(n.chunkId=e.chunkId),n})}(e),e):(wu.warn("cannot validate module structure"),null)}},Pu=Object(s.a)("shim/flvsegmented");var Iu={shim:function(e){return Pu.debug("shim"),function(e){return!!(e.hasOwnProperty("providers")&&e.hasOwnProperty("streams")&&e.hasOwnProperty("hashes")&&e.hashes)}(e)?(e.hashes=function(e){var t={};return e&&e.hashes&&(Br.isArray(e.hashes)?t=e.hashes[0]:Br.isObject(e.hashes)&&(t=e.hashes)),t}(e),e.streams=function(e){var t;return t=e.streams.map(function(e){var t={};return Su.copyProperties(e,t,Tu.STREAM),Br.isArray(t.segmentUrl)&&(t.segmentUrl=t.segmentUrl[0]),t}),e.hasOwnProperty("keyframe")&&Br.isArray(e.keyframe)?e.keyframe.forEach(function(e,n){t[n]&&(t[n].chunkId=+e.chunkId||0)}):t.forEach(function(e){e.chunkId=e.chunkId||0}),t}(e),e.hasOwnProperty("keyframe")&&delete e.keyframe,e):(Pu.warn("cannot validate module structure"),null)}},Lu=Object(s.a)("shim/hls");var Ru={shim:function(e){return Lu.debug("shim"),function(e){return!!(e&&Br.isArray(e)&&e[0]&&e[0].name&&e[0].url)}(e)?(e.streamType=ti.a.HLS,e.streams=function(e){return e.map(function(e){var t={};return Su.copyProperties(e,t,Tu.STREAM),t})}(e),e):(Lu.warn("cannot validate module structure"),null)}},Au=Object(s.a)("shim/mp4movie");var ku={shim:function(e){return Au.debug("shim"),function(e){return!!(e&&Br.isArray(e)&&e[0]&&e[0].streams&&e[0].streams[0].mimetype)}(e)?(e.streamType=ti.a.MP4_MOVIE,e.streams=function(e){return e[0].streams.map(function(e){var t={};return Su.copyProperties(e,t,Tu.STREAM),t})}(e),e):(Au.warn("cannot validate module structure"),null)}},Nu=Object(s.a)("shim/simple");var Du={shim:function(e){return Nu.debug("shim"),function(e){return!(!e.hasOwnProperty("providers")||!e.hasOwnProperty("streams"))}(e)?(e.streamType=ti.a.FLV_MOVIE,e.streams=function(e){return e.streams.map(function(e){var t={};return Su.copyProperties(e,t,Tu.STREAM),t})}(e),e):(Nu.warn("cannot validate module structure"),null)}},Mu=Object(s.a)("shim/combined/mp4segmented");var Uu={shim:function(e){return Mu.debug("shim"),function(e){var t=Object(Go.a)(e,"streamFormats.mp4/segmented"),n=Object(Go.a)(t,"contentAccess.accessList"),r=e.providers.map(function(e){var t=new URL(e.url),r=Object(Go.a)(n,"0.data.protocol");t.protocol=r;var o=Object(Go.a)(n,"0.data.path"),a="".concat(t.pathname,"/").concat(o,"/").replace(/\/{2,}/g,"/");return t.pathname=a,Object.assign(e,{url:t.toString()})}),o=t.streams.map(function(e){return Object.assign({},e,{segmentLength:t.chunkTime,chunkId:t.chunkId})});return Object.assign({},t,{streams:o,providers:r,streamType:ti.a.MP4_SEGMENTED,sourceMedia:e.sourceMedia})}(e)},validate:function(e){var t=Object(Go.a)(e,"streamFormats.mp4/segmented.contentAccess.accessList");return j.a.capabilities.includes(j.a.formats.MP4_SEGMENTED)&&e&&1===e.version&&t&&t.length}};function xu(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ju(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Fu=Object(s.a)("shim/combined/flvsegmented");function Vu(e){var t=Object(X.a)(e,["language","country","label","default","audioCodec","segmentUrl","segmentLength","chunkId"]);return Object.assign(t,{contentType:"audio",bitrate:Object(Go.a)(t,"audioCodec.audioBitrate")})}function Bu(e){var t=Object(X.a)(e,["offsetInMs","offset","preset","transcoded","videoCodec","segmentUrl","segmentLength","chunkId"]);return Object.assign(t,{contentType:"video",bitrate:Object(Go.a)(t,"videoCodec.videoBitrate"),width:Object(Go.a)(t,"videoCodec.width"),height:Object(Go.a)(t,"videoCodec.height")})}function Hu(e){return{audio:Vu(e),video:Bu(e)}}function Gu(e){var t=e.map(Hu).reduce(function(e,t){var n,r,o,a=t.audio,i=t.video,s=(n=i,r=Object(Go.a)(n,"videoCodec.height",0),o=Object(Go.a)(n,"videoCodec.videoBitrate",0),"".concat(r,":").concat(o));return e.hasOwnProperty(s)||(e[s]=Object.assign(i,{audioVersions:[],segmentUrl:void 0})),e[s].audioVersions.push(a),e},{});return Object.values(t)}function qu(e){var t=Object(Go.a)(e,"streamFormats.flv/segmented"),n=t.streams,r=t.chunkTime,o=t.chunkId;if(0===n.length)return[];var a=n.map(function(e){return Object.assign(e,{segmentLength:r,chunkId:o})});if(function(e){var t=ju(e,1)[0];return-1===Object(Go.a)(t,"videoCodec.videoBitrate",-1)&&-1===Object(Go.a)(t,"videoCodec.height",-1)}(n))return a.map(Vu);if(function(e){var t=ju(e,1)[0];return-1===Object(Go.a)(t,"audioCodec.audioBitrate",-1)}(n))return a.map(Bu);var i=Gu(a),s=i[0].audioVersions.map(function(e){return Object.assign({},e,{segmentUrl:void 0})});return[].concat(xu(i),xu(s))}function zu(e){var t=function(e){var t=Object(Go.a)(e,"providers",[]),n=Object(Go.a)(e,"streamFormats.flv/segmented.contentAccess"),r=Object(Go.a)(n,"accessList.0.data");if(!r)return t;switch(n.accessMode){case"INSERT":return t.map(function(e){var t=new URL(e.url);return r.protocol&&(t.protocol=r.protocol),r.path&&(t.pathname=r.path),Object.assign({},e,{url:t.toString()})});default:return t}}(e),n=qu(e),r=Object(Go.a)(e,"streamFormats.flv/segmented");return Object.assign({},r,{streams:n,providers:t,streamType:ti.a.FLV_SEGMENTED,sourceMedia:e.sourceMedia})}var Wu={shim:function(e){return Fu.debug("shim"),zu(e)},validate:function(e){var t=Object(Go.a)(e,"streamFormats.flv/segmented.contentAccess.accessList");return-1!==j.a.capabilities.indexOf(j.a.formats.FLV_SEGMENTED)&&e&&1===e.version&&t&&t.length}},Ku=Object(s.a)("shim/combined/hlsimproved");function Yu(e){var t=function(e){var t=Object(Go.a)(e,"providers",[]),n=Object(Go.a)(e,"streamFormats.hls/improved.contentAccess"),r=Object(Go.a)(n,"accessList.0.data");if(!r)return t;switch(n.accessMode){case"APPEND":return t.map(function(e){var t=new URL(e.url).host,n=new URL(r.url);return n.searchParams.set(r.parameter,encodeURIComponent(t)),Object.assign({},e,{url:n.toString(),providerHost:t})});default:return t}}(e),n=function(e,t){var n=Object(Go.a)(e,"streamFormats.hls/improved.contentAccess.accessList.0.data.parameter");return t.map(function(e){return{parameter:n,initUrl:e.url}})}(e,t);return{providers:t,streams:n,streamType:ti.a.HLS}}var Qu={shim:function(e){return Ku.debug("shim"),Yu(e)},validate:function(e){var t=Object(Go.a)(e,"streamFormats.hls/improved.contentAccess.accessList");return t&&t.length&&e&&1===e.version}},Zu=Object(s.a)("shim/combined/mp4movie");var Xu={shim:function(e){return Zu.debug("shim"),e.streamType=ti.a.MP4_MOVIE,e.streams=[],e=function(e){var t=Object(Go.a)(e,"streamFormats.mp4.contentAccess.accessList");return e.streams=t.map(function(e){return{mimetype:"video/mp4",segmentUrl:e.data.url}}),e}(e)},validate:function(e){var t=Object(Go.a)(e,"streamFormats.mp4.contentAccess.accessList");return e&&1===e.version&&t&&t.length}},Ju=Object(s.a)("shim/combined/flvmovie");var $u={shim:function(e){return Ju.debug("shim"),e.streamType=ti.a.FLV_MOVIE,e.streams=[],e=function(e){var t,n=Object(Go.a)(e,"streamFormats.flv.contentAccess.accessList");return e.providers=[],t=n.map(function(t){return e.providers.push({name:t.data.provider,seek:{mode:"byte",param:"fs"}}),t.data.url}),e.streams=[{segmentUrl:t}],e}(e)},validate:function(e){var t=Object(Go.a)(e,"streamFormats.flv.contentAccess.accessList");return e&&1===e.version&&t&&t.length}},el=Object(s.a)("streamshim");var tl={convertModule:function(e){if(!e)return null;if(e.hasOwnProperty("version")&&1===e.version)Uu.validate(e)?e=Uu.shim(e):Wu.validate(e)?e=Wu.shim(e):Qu.validate(e)?e=Qu.shim(e):Xu.validate(e)?e=Xu.shim(e):$u.validate(e)&&(e=$u.shim(e));else if(e.hasOwnProperty("streamType"))switch(el.debug("shim "+e.streamType+" type"),e.streamType){case ti.a.MP4_SEGMENTED:e=_u.shim(e);break;case ti.a.FLV_SEGMENTED:e=Iu.shim(e)}else e=Br.isArray(e)?function(e){if(e&&Br.isArray(e)&&e[0]&&e[0].name&&e[0].url&&!e[0].providers)return!0;return!1}(e)?Ru.shim(e):function(e){if(e&&Br.isArray(e)&&e[0]&&e[0].streams&&e[0].streams[0].mimetype&&"video/mp4"===e[0].streams[0].mimetype)return!0;return!1}(e)?ku.shim(e):Cu.shim(e):Du.shim(e);return e}};function nl(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var rl=Object(s.a)("streams"),ol={text:[],audio:[],video:[]};function al(){var e=ol.audio.reduce(function(e,t){var n=t.label||"Default",r=e[n]||[];return e[n]=[].concat(nl(r),[t]),e},{});return Object.keys(e).map(function(t){return e[t]}).map(function(e){return e.reduce(function(e,t){return e.transcoded?e:t})})}var il,sl,ul,ll,cl,fl={store:function(e){var t,n=(t=e.contentType)?t.split("/")[0]:"video";if(ol.hasOwnProperty(n)){var r=Object.assign({id:ol[n].length},e);ol[n].push(r)}else rl.warn("Unknown stream type: ".concat(n))},clear:function(){Object.assign(ol,{text:[],audio:[],video:[]})},getAvailableQualities:function(){return ol.video.filter(function(e){return e.height||e.bitrate})},getVideoVersions:function(){return ol.video},getAudioVersions:al,getDefaultAudioVersion:function(){var e=al(),t=bi(e);return t||(e.find(function(e){return!!e.default})||e[0])},getTextVersions:function(){return ol.text},findOneVideoVersionById:function(e){return ol.video.find(function(t){return t.id===e})},findOneTextVersionBySourceStream:function(e){return ol.text.find(function(t){return t.sourceStreamVersion===e})},findOneAudioVersionById:function(e){return al().find(function(t){return t.id===e})}},dl=null,pl=null,hl=!1,ml=Object(s.a)("streamparser");function vl(e){return(Cl(e)||"offline"===e||Cl(e)&&e.hasOwnProperty("version"))&&((ll=!("offline"===e||Cl(e)&&!1===e.contentAvailable))!==cl&&(!cl||ll||l.a.isHLS()?T.a.send(T.a.types.EVENT,T.a.events.LIVE,ll):T.a.send(T.a.types.EVENT,T.a.events.OFFLINE_MODULE_RECEIVED,ll),ll&&l.a.setDurationInMillisec(0),cl=ll,ml.debug("Live status has changed to:"+ll)),"offline"===e||!1===e.contentAvailable)?(l.a.setStreamType(void 0),!1):(function(e){var t=e.mid;return t&&t.indexOf("recorded")>-1}(e)&&T.a.send(T.a.types.EVENT,T.a.events.RECORDED_READY),!0)}function yl(){T.a.send(T.a.types.EVENT,T.a.events.STREAM_VERSION_UPDATE)}function gl(e){return Object.prototype.hasOwnProperty.call(e,"videoLength")?e.videoLength:l.a.getDurationInMillisec()}function bl(e){ul=e.streamType,il=e.hashes;var t=gl(e);t&&t!==l.a.getDurationInMillisec()&&l.a.setDurationInMillisec(t),e.streams=e.streams||[],fl.clear(),e.streams.forEach(function(e){!function(e){Object.prototype.hasOwnProperty.call(e,"chunkId")&&(sl=e.chunkId)}(e),fl.store(e)}),Ho.clear(),e.providers&&e.providers.forEach(function(e){Ho.store(e)})}function El(e){bl(e),yl()}function Sl(e){if(!l.a.isSegmentedMP4()&&!l.a.isFLV()){var t=gl(e),n=e.cut&&hl;pl=e,t&&t!==l.a.getDurationInMillisec()&&(l.a.setDurationInMillisec(1e3*t),n=!0),n&&yl()}}function Tl(){pl&&pl.cut&&yl(),hl=!0}function Ol(e){var t,n;vl(e)&&function(e){return e&&e.streamFormats&&Object.keys(e.streamFormats).length}(e)&&((e=tl.convertModule(e))&&(e.streamType?(l.a.setStreamType(e.streamType),dl||function(e){var t={category:"Playback",item:"initial loading",action:"selected"};[ti.a.MP4_SEGMENTED,ti.a.FLV_SEGMENTED].includes(e.streamType)&&(t.available_qualities=e.streams),v.send({message:"Streamtype selected",data:t})}(e),t=e,n=dl,JSON.stringify(t)!==JSON.stringify(n)&&(dl=Hr(e),Eu(e,El))):T.a.send(T.a.types.EVENT,T.a.events.UNSUPPORTED)))}function Cl(e){var t=e.mid;return t&&t.indexOf("channel")>-1}var wl={init:function(){ml.debug("init"),T.a.on(T.a.types.EVENT,T.a.events.CONTENT_CUT_UPDATE,Tl),T.a.on(T.a.types.DATA,T.a.events.STREAM_UPDATE,Ol),T.a.on(T.a.types.DATA,T.a.events.META_UPDATE,Sl)},getHashes:function(){return il},getStreamType:function(){return ul},getSourceMedia:function(){return dl&&dl.sourceMedia},getChunkId:function(){return sl},reset:function(){sl=void 0,il=null,ul=void 0,ll=void 0,cl=void 0,hl=!1,pl=null,dl=null,fl.clear(),Ho.clear()}};function _l(e){return(_l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pl(e,t){var n,r=e.length;for(n=0;n<r&&e[n]!=t;n++);return e.splice(n,1),e}var Il={emit:function(e,t,n,r){if(r=r||"def",e&&e[t]){var o=[];if("def"===r)for(var a in e[t])o=o.concat(e[t][a]);else o=e[t][r];var i,s=o.length;for(a=0;a<s;a++)i=o[a],"undefined"!==_l(n)?i.call(null,n):i.call(null)}},on:function(e,t,n,r){r=r||"def",e[t]||(e[t]={},e[t].def=[]),e[t][r]||(e[t][r]=[]),e[t][r].push(n)},off:function(e,t,n,r){if(t&&n&&r)e[t][r]=Pl(e[t][r],n);else if(t&&n&&!r)for(var o in e[t])e[t][o]=Pl(e[t][o],n);else if(!t||n||r){if(t&&!n&&r)e[t][r]=[];else if(!t&&!n&&r)for(var a in e)e[a][r]=[]}else e[t]={def:[]}}};function Ll(e){if(!e.length)return 0;var t=e.reduce(function(e,t){return 0!==t?e+1/t:e},0);return 0===t?0:e.length/t}function Rl(e){return e.length?e.reduce(function(e,t){return e+t},0)/e.length:0}var Al,kl,Nl,Dl,Ml,Ul={harmonicFromList:Ll,harmonicFromKey:function(e,t){return e.length?Ll(e.map(function(e){return e[t]})):0},fromList:Rl,fromKey:function(e,t){return e.length?Rl(e.map(function(e){return e[t]})):0}},xl=50,jl=.008;var Fl,Vl={create:function(e){function t(e){var t=kl.slice(kl.length-e);return t=t.map(function(e){return e.sizeInKiloBit/e.loadingTimeInSec})}function n(e){return e<=kl.length}return kl=[],{getName:function(){return e},addThroughputSample:function(e){if(Si.validate(e)){var t=Ti(e),n=t.waitingTime,r=t.loadingTime;kl.push({sizeInKiloBit:e.size*jl,waitingTimeInSec:n/1e3,loadingTimeInSec:r/1e3}),kl=kl.slice(-xl),Dl=null,Nl=null,Ml=null,Al=Date.now()}},getHarmonicMeanWaitingTime:function(e){if(n(e)){if(null===Dl||e!==Dl.calcLength){var t=kl.slice(kl.length-e);Dl={calcLength:e,value:Ul.harmonicFromKey(t,"waitingTimeInSec")}}return Dl.value}},getHarmonicMeanThroughput:function(e){if(n(e)){if(null===Nl||e!==Nl.calcLength){var r=t(e);Nl={calcLength:e,value:Ul.harmonicFromList(r)}}return Nl.value}},getMeanThroughput:function(e){if(n(e)){if(null===Ml||e!==Ml.calcLength){var r=t(e);Ml={calcLength:e,value:Ul.fromList(r)}}return Ml.value}},getLastUpdatedTimeStamp:function(){return Al}}}},Bl=[],Hl={UPDATE:"update",PROVIDER:"stats"},Gl={},ql=Object(s.a)("playback/qos/network");var zl,Wl,Kl={getCurrentProviderName:function(){return Fl?Fl.getName():void 0},setCurrentProviderName:function(e){ql.debug("setCurrentProviderName"),void 0===(Fl=function(e){return Bl.find(function(t){return t.name===e})}(e))&&(ql.warn("new provider - create new Provider module with name: "+e),Fl=Vl.create(e),Bl.push(Fl)),Il.emit(Gl,Hl.PROVIDER,e)},getHarmonicMeanWaitingTime:function(e){return Fl?Fl.getHarmonicMeanWaitingTime(e):void 0},getHarmonicMeanThroughput:function(e){return Fl?Fl.getHarmonicMeanThroughput(e):void 0},getMeanThroughput:function(e){return Fl?Fl.getMeanThroughput(e):void 0},addThroughputSample:function(e){Fl?(Fl.addThroughputSample(e),Il.emit(Gl,Hl.UPDATE)):ql.warn("sample data without provider set")},event:Hl,on:Il.on.bind(null,Gl)},Yl=3,Ql=5,Zl={},Xl={BANDWIDTH_UPDATE:"bandwidthUpdate",QUALITY_SELECTED:"qualitySelected",EMPTY_SELECTION:"emptySelection",STATS:"stats"},Jl=Object(s.a)("qos"),$l=[],ec=[],tc={waitingTimeInSec:0,playerWidth:0,playerHeight:0,shortMean:void 0,longMean:void 0,chunkLengthInSec:0,forcedId:void 0,currentVersion:null};function nc(e){var t={};return e.forEach(function(e){Object.prototype.hasOwnProperty.call(tc,e)?t[e]=tc[e]:Jl.debug("Warning: dependency does not exist")}),t}function rc(e,t){var n=[];return t.forEach(function(t){Object.prototype.hasOwnProperty.call(e,t)&&void 0!==e[t]||n.push(t)}),n}function oc(e,t){var n=Hr(e),r=nc(t.getDependencies()),o=t.getLeastWorstFilter();return Il.emit(Zl,Xl.EMPTY_SELECTION,t.NAME),n=o.call(null,n,r)}function ac(e,t){var n=Hr(e),r=t.getDependencies(),o=nc(r),a=t.getFilter(),i=rc(o,r);return 0===i.length?n=a.call(null,n,o):Jl.warn("Filter "+t.NAME+"function has the following missing dependencies: ",i),n}function ic(){var e;0!==$l.length&&(e=function(e){var t,n,r=Hr(e);for(n=0;n<ec.length;n+=1)if(0===(r=ac(r,t=ec[n])).length){r=oc(e,t);break}return r}($l),zl=Wl?function(e){var t=e[0],n=Wl.getDependencies(),r=nc(n),o=Wl.getRunner(),a=rc(r,n);return 0===a.length?t=o.call(null,e,r):Jl.warn("Select module has the following missing dependencies: ",a),t}(e):e[0],Il.emit(Zl,Xl.QUALITY_SELECTED,zl))}function sc(){tc.shortMean=Kl.getHarmonicMeanThroughput(Yl),tc.longMean=Kl.getHarmonicMeanThroughput(Ql),tc.waitingTimeInSec=Kl.getHarmonicMeanWaitingTime(Ql),Il.emit(Zl,Xl.STATS,{throughput:{shortMean:tc.shortMean,longMean:tc.longMean,waitingTimeInSec:tc.waitingTimeInSec}}),Il.emit(Zl,Xl.BANDWIDTH_UPDATE)}function uc(e){Il.emit(Zl,Xl.STATS,{provider:{name:e}})}var lc={init:function(){Kl.on(Kl.event.UPDATE,sc),Kl.on(Kl.event.PROVIDER,uc)},reset:function(){},setStreams:function(e){$l=Hr(e),ic()},setFilters:function(e){var t=(ec=e).map(function(e){return e.NAME});Il.emit(Zl,Xl.STATS,{filters:{names:t}})},setSelectModule:function(e){Wl=e},setParameters:function(e){tc=Object.assign(tc,e),ic()},setForcedId:function(e){tc.forcedId=e>=0?e:void 0},setQualityPlaying:function(e){tc.currentVersion=e},setCurrentProviderName:function(e){Kl.setCurrentProviderName(e)},getAverageBandwidth:function(e){return Kl.getMeanThroughput(e)},addThroughputSample:function(e){Kl.addThroughputSample(e),ic()},getSelectedQuality:function(){return zl?zl.id:void 0},getSelectedStreamVerison:function(){return zl},event:Xl,on:Il.on.bind(null,Zl),off:Il.off.bind(null,Zl)};var cc={create:function(){return{NAME:"network",getDependencies:function(){return["longMean","shortMean","waitingTimeInSec","chunkLengthInSec"]},getFilter:function(){return function(e,t){var n=function(e){var t=e.shortMean,n=e.longMean;if(t&&n)return Math.min(n,t)}(t);if(!n||void 0===t.chunkLengthInSec)return e;var r=t.chunkLengthInSec;return e.filter(function(e){return e.bitrate*r/n+t.waitingTimeInSec<.8*r})}},getLeastWorstFilter:function(){return function(e,t){return 0===e.length?[]:[e.reduce(function(e,t){return t.bitrate<e.bitrate?t:e})]}}}}};var fc={create:function(){var e=.6;function t(e){return e.video.width*e.video.height}return{NAME:"initialScreen",getDependencies:function(){return["playerWidth","playerHeight"]},getFilter:function(){return function(n,r){var o=r.playerWidth,a=r.playerHeight;return n.filter(function(n){return!Object.hasOwnProperty.call(n,"video")||t(n)/(o*a)<e})}},getLeastWorstFilter:function(){return function(e){return e.length&&Object.hasOwnProperty.call(e[0],"video")?[e.reduce(function(e,n){return t(n)<t(e)?n:e})]:e}}}}};var dc={create:function(){return{NAME:"screen",getDependencies:function(){return["playerWidth","playerHeight"]},getFilter:function(){return function(e,t){var n=t.playerWidth,r=t.playerHeight;return e.filter(function(e){return!Object.hasOwnProperty.call(e,"video")||(n>=e.video.width||r>=e.video.height)})}},getLeastWorstFilter:function(){return function(e){return e}}}}};var pc={create:function(){return{NAME:"streamVersionId",getDependencies:function(){return["forcedId"]},getFilter:function(){return function(e,t){var n=t.forcedId;return e.filter(function(e){return n===e.id})}},getLeastWorstFilter:function(){return function(e){return e}}}}};function hc(e,t){return t.bitrate-e.bitrate}var mc={create:function(){return{NAME:"select",getDependencies:function(){return[]},getRunner:function(){return function(e){return e.slice().sort(hc)[0]}}}}};function vc(e){if(e){var t=["segmentId","hashId"];return e.replace(/%/g,function(){return"#".concat(t.shift(),"#")})}}var yc={create:function(e,t){switch(t){case"mp4/segmented":return function(e){return{contentType:e.contentType,codecs:e.codec,initUrl:vc(e.initUrl),segmentUrl:vc(e.segmentUrl),segmentLength:e.segmentLength,label:e.label,language:e.language,country:e.country}}(e);case"flv/segmented":return function(e){return{contentType:"video/flv",codecs:"",segmentUrl:vc(e.segmentUrl),segmentLength:e.segmentLength,label:e.label,language:e.language,country:e.country}}(e);case"hls":case"mp4":case"flv/movie":return function(e){var t={segmentUrl:e.segmentUrl};e.streamNameService&&(t.streamNameService=e.streamNameService);return t}(e);default:return null}},createText:function(e){return{contentType:e.contentType,segmentUrl:vc(e.segmentUrl),country:e.country,default:e.default,language:e.language,label:e.label,sourceStreamVersion:e.sourceStreamVersion,segmentLength:e.segmentLength}}};function gc(e,t){return"".concat(e,"://").concat(Ce.config.tcdn,"/").concat(t,"/?protocol=http&version=1")}function bc(e){switch(e.format){case"hls":return function(e){return{url:e.provider.url||e.videoVersion.initUrl}}(e);case"mp4":return function(e){return{url:e.videoVersion.segmentUrl}}(e);case"flv":return function(e){return{url:e.videoVersion.segmentUrl[0],seekParameter:"fs"}}(e);case"flv/segmented":return function(e){var t={contentStart:0,segmentId:e.chunkId,hashes:e.hashes,baseUrl:e.provider.url};if("uhs_tcdn"===e.provider.name){var n=e.ssl?"https":"http";t.streamNameService=gc(n,e.mediaId)}var r,o=e.videoVersion,a=e.audioVersion;if(o)if(a){var i=o.audioVersions.find(function(e){return e.label===a.label}).segmentUrl,s=Object(X.a)(o,["segmentLength"]),u=Object(X.a)(a,["label","language","country"]),l=Object.assign({segmentUrl:i},s,u);r=yc.create(l,e.format)}else r=yc.create(o,e.format);else r=yc.create(a,e.format);return t.representations=[r],t}(e);default:return function(e){var t={contentStart:0,segmentId:e.chunkId,hashes:e.hashes,baseUrl:e.provider.url,sourceMedia:e.sourceMedia};if("uhs_tcdn"===e.provider.name){var n=e.ssl?"https":"http";t.streamNameService=gc(n,e.mediaId)}t.representations=[];var r=e.videoVersion;if(r){var o=yc.create(r,e.format);t.representations.push(o)}var a=e.audioVersion;if(a){var i=yc.create(a,e.format);t.representations.push(i)}var s=e.textVersion;if(s){var u=yc.createText(s);t.representations.push(u)}return t}(e)}}var Ec,Sc={build:function(e){var t=bc(e),n=function(e){var t={format:e.format};return e.contentLength&&(t.contentLength=e.isHLS?e.trimmedLength:e.contentLength),t}(e);return Object.assign(t,n)}},Tc=!1,Oc=Object(s.a)("playback/tcdnurlresolver");var Cc=Ec={isInProgress:function(){return Tc},resolve:function(e,t,n){Oc.debug("resolving: "+e+" - "+n);var r=new XMLHttpRequest,o=window.setTimeout(r.ontimeout,5e3);function a(n,r){Tc=!1,t&&t({status:n,url:e,resolved:r})}r.ontimeout=function(){window.clearTimeout(o),Oc.error("timeout: "+e+" - ",n),a(Ec.status.TIMEOUT,this.responseText)},r.onreadystatechange=function(){4===this.readyState&&(window.clearTimeout(o),200===this.status?this.responseText&&this.responseText.length?(Oc.info("resolved: "+e+" - ",this.responseText),a(Ec.status.SUCCESS,this.responseText)):(Oc.warn("resolve failed (empty response): "+e+" - ",this.responseText),a(Ec.status.ERROR,this.responseText)):(Oc.error("resolve failed (status error): "+e+" - ",this.responseText),a(Ec.status.ERROR,this.responseText)))},Tc=!0,r.open("GET",n,!0),r.send(null)},status:{SUCCESS:"success",ERROR:"error",TIMEOUT:"timeout"}};function wc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var _c,Pc,Ic,Lc=null,Rc=null;function Ac(){var e=Lc.url||Lc.baseUrl;if(function(e){var t=e.url||e.baseUrl,n=e.format===ti.a.HLS,r=Rc.format===ti.a.HLS;if(n&&r&&Pc){var o=wc([Rc.url,e.url].map(function(e){try{return new URL(e).searchParams}catch(e){return new URLSearchParams}}).map(function(e){return e.get(Pc)}),2),a=o[0],i=o[1];return a&&i&&a!==i}return t!==Ic}(Lc)){var t={from:Ic,to:e};Lo.onProviderChange(t),T.a.send(T.a.types.EVENT,T.a.events.PROVIDER_CHANGE,t)}Ic=e}function kc(){var e,t;Ac(),e=Object(Go.a)(Lc,"representations.0.segmentLength"),T.a.send(T.a.types.EVENT,T.a.events.CHUNK_LENGTH,e),t={format:Lc.format,url:Lc.baseUrl||Lc.url},g.a.dispatch(Object(Ca.e)(t)),T.a.send(T.a.types.EVENT,T.a.events.PLAY_OPTIONS,Lc)}function Nc(e){Lc.hasOwnProperty("representation")?Lc.baseUrl=e:Lc.url=e}function Dc(e){e.status===Cc.status.SUCCESS&&e.resolved?(_c[e.url]=e.resolved,Nc(e.resolved),delete Lc.streamNameService,kc()):T.a.send(T.a.types.COMMAND,T.a.events.CHANGE_PROVIDER)}function Mc(){var e;Object.prototype.hasOwnProperty.call(Lc,"streamNameService")?_c[Lc.streamNameService]?(Nc(Lc,_c[Lc.streamNameService]),delete Lc.streamNameService,kc()):(e=Lc.url||Lc.baseUrl,Cc.isInProgress()||Cc.resolve(e,Dc,Lc.streamNameService)):kc()}var Uc,xc,jc,Fc,Vc,Bc,Hc,Gc={parse:function(e){var t,n;Pc=e.hlsSdcdnHostParameterName,Lc=Hr(e),t=Lc,n=Rc,JSON.stringify(t)!==JSON.stringify(n)&&(Rc=Hr(Lc),Mc())},reset:function(){Lc=null,Rc=null}},qc={started:"started",completed:"completed",cancelled:"cancelled"};function zc(){xc=(new Date).getTime()}function Wc(){if(void 0===Vc)return xc=void 0,void(jc=0);if(void 0!==xc){var e=(new Date).getTime();jc+=e-xc}xc=void 0}function Kc(){Fc=Uc?"bandwidth update":"quality change",Vc=(new Date).getTime(),xc=xc?(new Date).getTime():void 0,Xc(qc.started,void 0,{from_kbps:Hc.bitrate,from_height:Hc.height})}function Yc(){var e=(new Date).getTime()-Vc;if(void 0!==xc){var t=(new Date).getTime();jc+=t-xc,xc=t}Vc=void 0,Xc(qc.completed,e,{to_kbps:Bc.bitrate,to_height:Bc.height}),jc=0}function Qc(){if(void 0!==xc){var e=(new Date).getTime();jc+=e-xc}Vc=void 0,Xc(qc.cancelled,(new Date).getTime()-Vc),jc=0}function Zc(){Jc()}function Xc(e,t,n){var r={message:Fc,data:Object.assign({},n,{category:"Playback",item:"quality change",action:e})};void 0!==t&&(r.data.time_spent=t,void 0!==xc&&Wc(),r.data.buffer_spent=jc),v.send(r)}function Jc(){xc=void 0,jc=void 0,Vc=void 0,Hc=void 0,Bc=void 0}var $c={init:function(){Jc(),T.a.on(T.a.types.REPORT,T.a.events.REPORT_BUFFER_EMPTY,zc),T.a.on(T.a.types.REPORT,T.a.events.REPORT_BUFFER_FULL,Wc),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_CLEANUP,Zc),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_QUALITY_CHANGE_STARTED,Kc),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_QUALITY_CHANGE_COMPLETED,Yc),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_QUALITY_CHANGE_CANCELLED,Qc)},reset:function(){Jc()},setAutoQuality:function(e){Uc=e},setCurrentAndRequestedQuality:function(e,t){Hc=e,Bc=t}},ef=n(113);function tf(e){return{type:ef.a.setStatsData,payload:{stats:e}}}var nf,rf,of,af,sf,uf=1e3,lf=10,cf=3,ff=Object(s.a)("playback/qosHandler"),df=null,pf=null,hf=!0,mf=!1,vf=1,yf=!1,gf=null,bf=!1;function Ef(){var e=g.a.getState().playback,t=e.selectedAudio;return e.audioTracks.find(function(e){return e.id===t})}function Sf(){var e={};pf&&(e.width=pf.width,e.height=pf.height,e.videoCodec=pf.codec);var t,n=Ef();n&&n.codec&&(e.audioCodec=n.codec),g.a.dispatch((t=e,{type:F.a.setCodecInfo,payload:{codec:t}}))}function Tf(e){return e.filter(function(e){return e&&Object.hasOwnProperty.call(e,"bitrate")}).reduce(function(e,t){return e+t.bitrate},0)}function Of(){var e,t,n,r,o;bf||(Ef()||pf?(Object(Go.a)(df,"id")!==Object(Go.a)(pf,"id")&&($c.setCurrentAndRequestedQuality(df||pf,pf),df=pf),Sf(),r={format:wl.getStreamType(),hashes:wl.getHashes(),chunkId:wl.getChunkId(),audioVersion:Ef(),videoVersion:pf,textVersion:(e=g.a.getState().playback,t=e.selectedClosedCaption,n=e.closedCaptionTracks.find(function(e){return e.id===t}),n?(gf=n,n):gf),provider:Ho.select(),contentLength:l.a.getDurationInMillisec(),trimmedLength:l.a.getTrimmedDurationInMillisec(),isHLS:l.a.isHLS(),hlsSdcdnHostParameterName:pf&&pf.parameter,mediaId:l.a.id(),sourceMedia:wl.getSourceMedia(),ssl:i.a.ssl},o=Sc.build(r),Gc.parse(o)):ff.warn("No quality selected"))}function Cf(){var e=Object(y.b)(g.a.getState()),t=e.width,n=e.height;lc.setParameters({playerWidth:t,playerHeight:n})}function wf(e){var t,n=fl.getVideoVersions();if(!(["high","med","low"].indexOf(e)>=0&&n&&n.length))return parseInt(e,10);switch(e.toLowerCase()){case"high":t=n[0].id;break;case"med":t=n[Math.round((n.length-1)/2)].id;break;case"low":t=n[n.length-1].id}return t}function _f(e){var t=20*Math.round(e.height/20);return{text:"".concat(t,"p"),suffix:t>=720?" HD":"",bitrate:function(e){if(e>=1e3){var t=e/1e3,n=Math.round(10*t)/10;return" @ ".concat(n," Mbps")}return" @ ".concat(e," kbps")}(e.bitrate)}}function Pf(){var e=[cc.create(),dc.create()];ff.debug("setRuningFilterFunction"),lc.setFilters(e),lc.setSelectModule(mc.create())}function If(){var e=[pc.create()];ff.debug("setForcedIdFilterFunctions"),lc.setFilters(e),lc.setSelectModule(mc.create())}function Lf(){nf=clearTimeout(nf),rf&&(Af(rf),rf=null)}function Rf(e){if(e){var t,n,r,o,a="qos setSelectedVideoVersion id: "+e.id;e&&(a+=" width: "+e.width,a+=" height: "+e.height),ff.debug(a),pf=e,t=fl.getAvailableQualities(),(n=t.map(function(e){var t=_f(e),n=pf&&pf.id===e.id&&!hf;return Object.assign({},e,{label:t,active:!0,selected:n})})).length<=1||(n=function(e){return e.push({id:-1,label:{text:"ui.qualityAuto"},height:0,active:!0,selected:hf}),e}(n),or().setQuality(n),D.a.send("quality",n)),Nf(),r=Ef(),o=Tf([pf,r]),g.a.dispatch(tf({bitrate:o,sourceStreamVersion:pf.sourceStreamVersion})),mf||Of(),nf=setTimeout(Lf,uf)}else ff.debug("setSelectedVideoVersion No selected version or same")}function Af(e){e?nf?rf=e:Rf(e):ff.debug("setSelectedVideoVersion No selected version")}function kf(e){hf=-1===e,$c.setAutoQuality(hf)}function Nf(){l.a.isHLS()||l.a.isFLV()||u.a.externalvtt||g.a.dispatch(G(fl.getTextVersions()))}function Df(e,t){return e.map(function(e,n){var r,o,a,i,s,u,l=(o=t,a=(r=e)&&r.description||o&&o.description,i=r&&r.sourceStreamVersion||o&&o.sourceStreamVersion,s=r&&r.id||o&&o.id,u={description:a,sourceStreamVersion:i,bitrate:Tf([r,o]),id:s},o&&(u.audio=o),r&&(u.video=r),u);return Object.assign({id:n},l)})}function Mf(){var e;bf=!0,g.a.dispatch((e=wl.getHashes(),{type:F.a.setHash,payload:e})),function(){if(!l.a.isHLS()){var e=fl.getAudioVersions();g.a.dispatch(H(e))}}();var t=Ef();t||(t=fl.getDefaultAudioVersion())&&g.a.dispatch(B(t.id)),bf=!1;var n=fl.getVideoVersions(),r=0===n.length&&!!t;if(g.a.dispatch(Object(Ca.i)(r)),r)return Nf(),void Of();if(!(0===n.length)){var o;o=n,pf&&o.some(function(e){return e.initUrl===pf.initUrl&&e.segmentUrl===pf.segmentUrl})||(df=null,pf=null,rf=null,Lf(),of=void 0,vf=1);var a,i,s=Df(n,t);s.length&&(yf||(kf(i=(i=wf(sf))>=0?i:wf(af)),i>=0?(lc.setForcedId(i),a=[pc.create()]):a=[fc.create()],ff.debug("setInitialFilterFunctions"),lc.setFilters(a),yf=!0),lc.setStreams(s))}}function Uf(e){e||Ho.selectNext(),Of()}function xf(e){lc.setCurrentProviderName(e.to)}function jf(e){lc.setParameters({chunkLengthInSec:e/1e3})}function Ff(e){var t=parseInt(e[0],10);lc.setForcedId(t),kf(t),hf?Pf():If(),Lf(),Rf(fl.findOneVideoVersionById(t)),ff.debug("onQualityChange change quality to: "+t)}function Vf(e,t){var n=!1;return e&&t?(e.height>t.height&&(n=!0),n):n}function Bf(e){var t=e.video;if(t){var n,r,o,a,i,s,u=of&&t.id===of.id;!hf||(s=g.a.getState(),Object(Go.a)(s,"provider.currentProvider.isMulticastProvider",!1))||l.a.isHLS()?Af(pf||t):pf?(a=pf,i=vf=u?vf+1:1,n=(o=of=t)&&Vf(o,a)&&i>=lf,r=function(e,t,n){return e&&Vf(t,e)&&n>=cf}(of,pf,vf),Af(n||r?t:pf)):Af(t)}}function Hf(e){if(yf||l.a.isHLS()){var t=e.video;t&&Af(t),lc.off(lc.event.QUALITY_SELECTED),lc.on(lc.event.QUALITY_SELECTED,Bf),wf(sf)>=0?If():(lc.setForcedId(void 0),hf=!0,Pf())}}function Gf(){T.a.send(T.a.types.EVENT,T.a.events.BANDWIDTH_UPDATED)}function qf(e){g.a.dispatch(tf(e))}function zf(){mf=!0,lf=10,cf=3,vf=1,ff.debug("onAtlasQualityChangeStarted change to quality started: "+pf.id)}function Wf(){mf=!1,lc.setQualityPlaying(pf),ff.debug("onAtlasQualityChangeCompleted change to quality completed: "+pf.id)}function Kf(){mf=!1}function Yf(e){lc.addThroughputSample(e)}function Qf(){Zf()}function Zf(){bf=!1,df=null,pf=null,rf=null,of=void 0,mf=!1,vf=1,gf=null}g.a.subscribe("player.playerSize",function(){Cf()}),g.a.subscribe("playback.selectedAudio",function(){Of()}),g.a.subscribe("playback.selectedClosedCaption",function(){Of()});var Xf={init:function(e,t){af=e,sf=t,ff.debug("init"),k.a.on(k.a.types.COMMAND,"quality",Ff),k.a.on(k.a.types.EVENT,"changeProvider",Uf),T.a.on(T.a.types.EVENT,T.a.events.STREAM_VERSION_UPDATE,Mf),T.a.on(T.a.types.COMMAND,T.a.events.CHANGE_PROVIDER,Uf),T.a.on(T.a.types.EVENT,T.a.events.PROVIDER_CHANGE,xf),T.a.on(T.a.types.EVENT,T.a.events.CHUNK_LENGTH,jf),T.a.on(T.a.types.REPORT,T.a.events.REPORT_BANDWIDTH,Yf),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_CLEANUP,Qf),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_QUALITY_CHANGE_STARTED,zf),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_QUALITY_CHANGE_COMPLETED,Wf),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_QUALITY_CHANGE_CANCELLED,Kf),lc.init(),lc.on(lc.event.BANDWIDTH_UPDATE,Gf),lc.on(lc.event.QUALITY_SELECTED,Hf),lc.on(lc.event.STATS,qf),$c.init(),$c.setAutoQuality(hf),Cf()},reset:function(){lc.reset(),$c.reset(),Gc.reset(),Zf(),hf=!0}};function Jf(e,t,n){var r,o,a;return function(){o=this,a=arguments;var i=function(){r=null,n||e.apply(o,a)};clearTimeout(r),r=setTimeout(i,t),n&&e.apply(o,a)}}var $f=function(){var e=0,t=0,n=document.documentElement,r=document.body;return window===window.parent?(e=(n=document.getElementById("PlayerOne")).clientWidth,t=n.clientHeight):window.innerWidth?(e=window.innerWidth,t=window.innerHeight):0!==n.clientWidth?(e=n.clientWidth,t=n.clientHeight):(e=r.clientWidth,t=r.clientHeight),[e,t]},ed="loading",td="audioLoading",nd=n(0),rd=n.n(nd),od=n(92),ad=n.n(od),id=n(1),sd=n.n(id),ud=n(17),ld=n.n(ud),cd=n(9);function fd(e){var t=e.visible;return rd.a.createElement("div",{id:"AdHolder",className:ld()("adHolder component",{shown:t})})}fd.propTypes={visible:sd.a.bool.isRequired};var dd=Object(cd.b)(function(e){return{visible:e.ads.adsPlaying}})(fd),pd=n(16);function hd(e){return(hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function md(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vd(e){return(vd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gd(e,t){return(gd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bd=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==hd(t)&&"function"!=typeof t?yd(e):t}(this,vd(t).call(this,e))).state={activeChildIndex:-1},n.$wrapper=Object(nd.createRef)(),n.handleKeyDown=n.handleKeyDown.bind(yd(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gd(e,t)}(t,nd["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props.activeIndex;setTimeout(function(){e.setState({activeChildIndex:t})},100)}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.activeChildIndex;this.$wrapper.current&&t.activeChildIndex!==n&&this.setFocus(n)}},{key:"setFocus",value:function(){var e=this.state.activeChildIndex,t=this.$wrapper.current.children[e];if(t&&document.activeElement!==t){var n=t.getElementsByTagName("button");(n.length>0?n[0]:t).focus()}}},{key:"moveFocus",value:function(e){var t=this.props.children,n=this.state.activeChildIndex,r=t?nd.Children.count(t):0,o=n+e;o>=r?o=0:o<0&&(o=r-1),this.setState({activeChildIndex:o})}},{key:"moveTabFocus",value:function(e){var t=this.props.children,n=t?nd.Children.count(t):0;this.state.activeChildIndex+1>=n||(e.preventDefault(),this.moveFocus(1))}},{key:"handleKeyDown",value:function(e){var t=this.props.onKeyDown;switch(e.key){case"ArrowUp":e.preventDefault(),e.stopPropagation(),this.moveFocus(-1);break;case"ArrowDown":e.preventDefault(),e.stopPropagation(),this.moveFocus(1);break;case"Tab":this.moveTabFocus(e)}t&&t(e)}},{key:"renderChildren",value:function(){var e=this.props.children;return nd.Children.map(e,function(e,t){return Object(nd.cloneElement)(e,{key:e.key||t,tabIndex:0})})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.ariaLabel;return rd.a.createElement("div",{className:t,ref:this.$wrapper,onKeyDown:this.handleKeyDown,"aria-label":n},this.renderChildren())}}])&&md(n.prototype,r),o&&md(n,o),t}();bd.defaultProps={className:"",children:null,onKeyDown:function(){},ariaLabel:null,activeIndex:0},bd.propTypes={className:sd.a.string,children:sd.a.node,onKeyDown:sd.a.func,ariaLabel:sd.a.string,activeIndex:sd.a.number};var Ed=bd,Sd=function(e){var t=e.tracks,n=e.selectedTrack,r=e.onTrackSelect,o=e.visible,a=e.ariaLabel,i=t.findIndex(function(e){return e.id===n});return rd.a.createElement(Ed,{className:"list select",visible:o,ariaLabel:a,activeIndex:i},t.map(function(e){var t=e.id,o=e.label;return rd.a.createElement("button",{type:"button",key:t,className:ld()("trigger",{active:t===n}),onClick:function(){return r(t)},onKeyPress:function(e){"Enter"===e.key&&r(t)}},o)}))};Sd.defaultProps={tracks:[],selectedTrack:-1,onTrackSelect:function(){},visible:!1,ariaLabel:""},Sd.propTypes={tracks:sd.a.arrayOf(sd.a.shape({id:sd.a.number.isRequired,label:sd.a.string.isRequired})),selectedTrack:sd.a.number,onTrackSelect:sd.a.func,visible:sd.a.bool,ariaLabel:sd.a.string};var Td=Sd;function Od(){return(Od=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Cd(e){return(Cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _d(e,t){return!t||"object"!==Cd(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pd(e){return(Pd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Id(e,t){return(Id=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ld=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=(n=_d(this,Pd(t).call(this,e))).props.triggerRef;return n.triggerRef=r||Object(nd.createRef)(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Id(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t=this.props.focus;e.focus!==t&&!0===t&&this.focusTrigger()}},{key:"focusTrigger",value:function(){this.triggerRef.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.onToggle,n=e.hasPopup,r=e.ariaLabel,o=e.ariaLive,a=e.icon,i=e.onMouseEnter,s=e.onMouseLeave,u=e.onKeyDown,l=e.onTriggerFocused,c=e.label,f=e.className,d="trigger ".concat(f);return rd.a.createElement("button",{type:"button",className:d,ref:this.triggerRef,tabIndex:"0",onClick:t,onMouseEnter:i,onMouseLeave:s,onFocus:l,onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),t()),u(e)},"aria-haspopup":n,"aria-label":r,title:c,"aria-live":o},a,rd.a.createElement("label",null,c))}}])&&wd(n.prototype,r),o&&wd(n,o),t}();Ld.defaultProps={focus:!1,label:"",hasPopup:!1,ariaLabel:null,triggerRef:null,onMouseEnter:function(){},onMouseLeave:function(){},className:"",onTriggerFocused:function(){},onKeyDown:function(){},ariaLive:"off"},Ld.propTypes={className:sd.a.string,icon:sd.a.node.isRequired,focus:sd.a.bool,onToggle:sd.a.func.isRequired,hasPopup:sd.a.bool,ariaLabel:sd.a.string,triggerRef:sd.a.shape({current:sd.a.instanceOf(Element)}),onMouseEnter:sd.a.func,onMouseLeave:sd.a.func,onTriggerFocused:sd.a.func,onKeyDown:sd.a.func,label:sd.a.string,ariaLive:sd.a.string};var Rd=Object(nd.forwardRef)(function(e,t){return rd.a.createElement(Ld,Od({},e,{triggerRef:t}))});function Ad(e){return(Ad="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nd(e,t){return!t||"object"!==Ad(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Dd(e){return(Dd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Md(e,t){return(Md=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ud=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Nd(this,Dd(t).call(this,e))).$el=document.createElement("div"),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Md(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){this.props.appendTarget.appendChild(this.$el)}},{key:"componentWillUnmount",value:function(){this.props.appendTarget.removeChild(this.$el)}},{key:"render",value:function(){return Object(od.createPortal)(this.props.children,this.$el)}}])&&kd(n.prototype,r),o&&kd(n,o),t}();Ud.defaultProps={children:null,appendTarget:document.getElementById("PlayerOne")},Ud.propTypes={children:sd.a.node,appendTarget:sd.a.instanceOf(HTMLElement)};var xd=Ud,jd=n(67),Fd='a[href]:not(.hidden):not(.disabled), area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]:not(.hidden):not(.disabled)';function Vd(){return(Vd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bd(e){return(Bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gd(e){return(Gd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wd(e,t,n){return t&&zd(e.prototype,t),n&&zd(e,n),e}function Kd(e,t){return(Kd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Yd=function(e,t){var n=t.left-e.left,r=t.top-e.top,o=t.width,a=t.height;return new DOMRect(n,r,o,a)},Qd=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Bd(t)&&"function"!=typeof t?qd(e):t}(this,Gd(t).call(this,e))).state={visible:!1};var r=n.props.popoverRef;return n.popoverRef=r||Object(nd.createRef)(),n.onResize=Jf(n.onResize.bind(qd(n)),200),n.onExitFocus=n.onExitFocus.bind(qd(n)),n.onPopoverKeyDown=n.onPopoverKeyDown.bind(qd(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kd(e,t)}(t,nd["Component"]),Wd(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){return e.opened||!t.visible?null:Object.assign({},t,{visible:!1})}}]),Wd(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize);var e=this.props.onCloseRequest;k.a.on(k.a.types.UI,"closePopovers",e),this.updatePosition()}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props.opened;if(n!==e.opened)return!0;if(!n)return!1;if(this.state.visible!==t.visible)return!0;var r=this.props,o=r.onCloseRequest,a=r.targetOffset,i=r.appendTargetOffset,s=r.children,u=r.placement,l=r.target,c=r.appendTarget,f=r.id;return o!==e.onCloseRequest||a!==e.targetOffset||i!==e.appendTargetOffset||s!==e.children||u!==e.placement||l!==e.target||c!==e.appendTarget||f!==e.id}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.opened,r=t.id,o=t.appendTarget;this.updatePosition(),!e.opened&&n&&(k.a.send(k.a.types.UI,"onPopoverOpen",r),o.classList.add("popover-opened")),e.opened&&!n&&(k.a.send(k.a.types.UI,"onPopoverClose",r),o.classList.remove("popover-opened"))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize);var e=this.props.onCloseRequest;k.a.off(k.a.types.UI,"closePopovers",e)}},{key:"onResize",value:function(){var e=this;requestAnimationFrame(function(){e.props.opened&&e.forceUpdate()})}},{key:"onExitFocus",value:function(){var e=this.props,t=e.onCloseRequest,n=e.target;t(),!n||n instanceof DOMRect||!n.focus||function(e){if(e){var t=or().getBody(),n=Array.from(t.querySelectorAll(Fd)).filter(function(e){return e.offsetWidth>0||e.offsetHeight>0}),r=n.indexOf(e);if(r>-1)(n[r+1]||n[0]).focus()}}(n)}},{key:"onPopoverKeyDown",value:function(e){var t=this.props.target;"Escape"===e.key?this.onExitFocus():"Enter"===e.key&&t&&requestAnimationFrame(function(){return t.focus()})}},{key:"getAbsoluteTargetDimension",value:function(){var e=this.props.target;return e instanceof DOMRect?e:e.getBoundingClientRect()}},{key:"getContainerPosition",value:function(){var e=this.props,t=e.target,n=e.targetOffset,r=e.appendTargetOffset,o=e.appendTarget,a=e.placement,i=e.smallResolution,s=this.popoverRef.current;if(!t||!s)return{top:-9999,left:-9999};if(i)return{top:0,left:0};var u=o.getBoundingClientRect(),l=Yd(u,this.getAbsoluteTargetDimension()),c=s.getBoundingClientRect(),f=c.width,d=c.height,p=Object(jd.a)(l.top-(d+n),{lower:r,upper:u.height-d-Math.max(n,r)});"bottom"===a&&(p=Object(jd.a)(l.bottom+n-r,{lower:r,upper:u.height-d-Math.max(n,r)}));var h=l.left+l.width/2;return{top:p,left:Object(jd.a)(h-f/2,{lower:r,upper:u.width-f-r})}}},{key:"getArrowPosition",value:function(e){var t=this.props,n=t.appendTarget,r=t.target,o=t.smallResolution;if(!e||!r)return{left:-9999};if(o)return{top:0,left:0};var a=n.getBoundingClientRect(),i=Yd(a,this.getAbsoluteTargetDimension());return{left:i.left-e.left+i.width/2}}},{key:"updatePosition",value:function(){var e=this,t=this.props.opened,n=this.state.visible;t&&!n&&requestAnimationFrame(function(){e.setState({visible:!0})})}},{key:"getMaxHeight",value:function(){var e=this.props,t=e.target,n=e.targetOffset,r=e.appendTargetOffset,o=e.playerHeight;return!e.smallResolution&&t&&t.clientHeight?{maxHeight:o-(t.clientHeight+n+2*r)||0}:{maxHeight:"auto"}}},{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.opened,o=t.placement,a=t.appendTarget,i=t.onCloseRequest,s=t.className,u=t.showCloseIcon,l=t.onPopoverMouseLeave,c=t.onCloseIconClick,f=t.visibleOutside,d=t.smallResolution;if(!r)return null;var p=this.state.visible,h=this.getContainerPosition(),m=this.getArrowPosition(h),v=this.getMaxHeight(h);return rd.a.createElement(xd,{appendTarget:a},rd.a.createElement("div",{className:ld()("popover-container","opened",(e={animated:p&&f},Hd(e,o,"none"!==o),Hd(e,"close-visible",u),e),s),style:h},d&&rd.a.createElement("div",{className:"close",onClick:i}),rd.a.createElement("div",{className:"popover",ref:this.popoverRef,onKeyDown:this.onPopoverKeyDown,onMouseLeave:l},rd.a.createElement("div",{tabIndex:"0",style:{width:"1px",height:"1px"},onFocus:this.onExitFocus}),!d&&u&&rd.a.createElement("div",{className:"close",onClick:c}),rd.a.createElement("div",{className:"popover-content",style:v},n),rd.a.createElement("div",{tabIndex:"0",style:{width:"1px",height:"1px"},onFocus:this.onExitFocus}),rd.a.createElement("div",{className:"popover-arrow",style:m}))))}}]),t}();Qd.defaultProps={targetOffset:15,appendTargetOffset:5,children:null,opened:!1,placement:"top",target:null,appendTarget:document.getElementById("PlayerOne"),id:null,popoverRef:null,className:"",showCloseIcon:!1,onPopoverMouseLeave:function(){},visibleOutside:!0,playerHeight:0},Qd.propTypes={onCloseRequest:sd.a.func.isRequired,targetOffset:sd.a.number,appendTargetOffset:sd.a.number,children:sd.a.node,opened:sd.a.bool,placement:sd.a.oneOf(["top","right","bottom","left","none"]),target:sd.a.oneOfType([sd.a.instanceOf(DOMRect),sd.a.instanceOf(HTMLElement)]),appendTarget:sd.a.instanceOf(HTMLElement),id:sd.a.oneOfType([sd.a.number,sd.a.string]),popoverRef:sd.a.shape({current:sd.a.instanceOf(Element)}),className:sd.a.string,showCloseIcon:sd.a.bool,onPopoverMouseLeave:sd.a.func,onCloseIconClick:sd.a.func,visibleOutside:sd.a.bool,playerHeight:sd.a.number,smallResolution:sd.a.bool.isRequired};var Zd=Object(nd.forwardRef)(function(e,t){return rd.a.createElement(Qd,Vd({},e,{popoverRef:t}))});function Xd(e){return(Xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jd(){return(Jd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function $d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ep(e){return(ep=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function np(e,t){return(np=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rp=0,op=function(){return"unique-popover-".concat(rp+=1)},ap=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Xd(t)&&"function"!=typeof t?tp(e):t}(this,ep(t).call(this,e))).id=op();var r=n.props.popoverRef;return n.popoverRef=r||Object(nd.createRef)(),n.onPopoverOpen=n.onPopoverOpen.bind(tp(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&np(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){k.a.on(k.a.types.UI,"onPopoverOpen",this.onPopoverOpen)}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.UI,"onPopoverOpen",this.onPopoverOpen)}},{key:"onPopoverOpen",value:function(e){e!==this.id&&this.props.onCloseRequest()}},{key:"render",value:function(){return rd.a.createElement(Zd,Jd({},this.props,{id:this.id,ref:this.popoverRef}))}}])&&$d(n.prototype,r),o&&$d(n,o),t}();ap.defaultProps={popoverRef:null,onPopoverMouseLeave:function(){}},ap.propTypes={onCloseRequest:sd.a.func.isRequired,onPopoverMouseLeave:sd.a.func,popoverRef:sd.a.shape({current:sd.a.instanceOf(Element)})};var ip=Object(nd.forwardRef)(function(e,t){return rd.a.createElement(ap,Jd({},e,{popoverRef:t}))});function sp(e){return(sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function up(){return(up=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function lp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cp(e){return(cp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dp(e,t){return(dp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pp=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==sp(t)&&"function"!=typeof t?fp(e):t}(this,cp(t).call(this,e))).state={},n.onCloseRequest=n.onCloseRequest.bind(fp(n)),n.onTriggerToggled=n.onTriggerToggled.bind(fp(n)),n.triggerRef=Object(nd.createRef)(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dp(e,t)}(t,nd["Component"]),n=t,(r=[{key:"onCloseRequest",value:function(){this.props.opened&&this.togglePopover(!1)}},{key:"onTriggerToggled",value:function(){this.togglePopover()}},{key:"togglePopover",value:function(e){var t=this.props,n=t.opened;(0,t.onToggle)(void 0!==e?e:!n)}},{key:"render",value:function(){var e=this.state.focus,t=this.props,n=t.children,r=t.icon,o=t.ariaLabel,a=t.label;return rd.a.createElement("div",null,rd.a.createElement(Rd,{focus:e,onToggle:this.onTriggerToggled,icon:r,ref:this.triggerRef,hasPopup:!0,ariaLabel:o,label:a}),rd.a.createElement(ip,up({},this.props,{onCloseRequest:this.onCloseRequest,target:this.triggerRef.current}),n))}}])&&lp(n.prototype,r),o&&lp(n,o),t}();pp.defaultProps={opened:!1,children:null,ariaLabel:"",label:""},pp.propTypes={icon:sd.a.node.isRequired,children:sd.a.node,opened:sd.a.bool,onToggle:sd.a.func.isRequired,ariaLabel:sd.a.string,className:sd.a.string,label:sd.a.string};var hp=pp;function mp(e){return(mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yp(e){return(yp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bp(e,t){return(bp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ep=rd.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{d:"M18,13.5 L18,12 C18,8.6862915 15.3137085,6 12,6 C8.6862915,6 6,8.6862915 6,12 L6,13.5 C6,12.6715729 6.67157288,12 7.5,12 C8.32842712,12 9,12.6715729 9,13.5 L9,17.5 C9,18.3284271 8.32842712,19 7.5,19 C6.67157288,19 6,18.3284271 6,17.5 L6,16 C6,16.5522847 5.55228475,17 5,17 C4.44771525,17 4,16.5522847 4,16 L4,12 C4,7.581722 7.581722,4 12,4 C16.418278,4 20,7.581722 20,12 L20,16 C20,16.5522847 19.5522847,17 19,17 C18.4477153,17 18,16.5522847 18,16 L18,17.5 C18,18.3284271 17.3284271,19 16.5,19 C15.6715729,19 15,18.3284271 15,17.5 L15,13.5 C15,12.6715729 15.6715729,12 16.5,12 C17.3284271,12 18,12.6715729 18,13.5 Z",fill:"#fff"})),Sp=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==mp(t)&&"function"!=typeof t?gp(e):t}(this,yp(t).call(this,e))).state={isLoadingAnimationVisible:!1},n.componentRef=Object(nd.createRef)(),n.removeLoadingAnimation=n.removeLoadingAnimation.bind(gp(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bp(e,t)}(t,nd["PureComponent"]),n=t,o=[{key:"getDerivedStateFromProps",value:function(e){return e.loading?{isLoadingAnimationVisible:!0}:null}}],(r=[{key:"componentDidUpdate",value:function(){var e=this.props.loading,t=this.state.isLoadingAnimationVisible,n=this.componentRef.current;n&&(!e&&t?n.addEventListener("animationiteration",this.removeLoadingAnimation):n.removeEventListener("animationiteration",this.removeLoadingAnimation))}},{key:"componentWillUnmount",value:function(){var e=this.componentRef.current;e&&e.removeEventListener("animationiteration",this.removeLoadingAnimation)}},{key:"removeLoadingAnimation",value:function(){this.setState({isLoadingAnimationVisible:!1})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.opened,r=e.visible,o=e.audioTracks,a=e.selectedAudio,i=e.onToggle,s=e.onAudioSelect,u=e.playerSize,l=e.smallResolution,c=this.state.isLoadingAnimationVisible,f=o.filter(function(e){return!!e.label});return rd.a.createElement("div",{id:t,ref:this.componentRef,className:ld()("audio component",{shown:r,"in-progress":c})},rd.a.createElement(hp,{onToggle:i,placement:"top",opened:n,icon:Ep,ariaLabel:"Audio tracks",label:"Multiaudio",playerHeight:u.height,smallResolution:l},rd.a.createElement(Td,{tracks:f,selectedTrack:a,onTrackSelect:s,visible:n,ariaLabel:"Audio tracks, press Up and Down to browse and Enter to select"})))}}])&&vp(n.prototype,r),o&&vp(n,o),t}();Sp.defaultProps={id:null,opened:!1,visible:!1,audioTracks:[],selectedAudio:-1,loading:!1,onAudioSelect:function(){}},Sp.propTypes={id:sd.a.string,opened:sd.a.bool,visible:sd.a.bool,audioTracks:sd.a.arrayOf(sd.a.shape({id:sd.a.number.isRequired,label:sd.a.string,language:sd.a.string,country:sd.a.string})),selectedAudio:sd.a.number,loading:sd.a.bool,onToggle:sd.a.func.isRequired,onAudioSelect:sd.a.func,playerSize:sd.a.shape({width:sd.a.number,height:sd.a.number}).isRequired,smallResolution:sd.a.bool.isRequired};var Tp=Sp;function Op(e){return(Op="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wp(e){return(wp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pp(e,t){return(Pp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ip=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==Op(t)&&"function"!=typeof t?_p(e):t}(this,wp(t).call(this))).state={opened:!1,loading:!1},e.onAudioLoading=e.onAudioLoading.bind(_p(e)),e.onAudioSelect=e.onAudioSelect.bind(_p(e)),e.onToggle=e.onToggle.bind(_p(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pp(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){k.a.on(k.a.types.UI,"audioLoading",this.onAudioLoading)}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.UI,"audioLoading",this.onAudioLoading)}},{key:"onAudioLoading",value:function(e){this.setState({loading:e})}},{key:"onAudioSelect",value:function(e){(0,this.props.selectAudio)(e),this.setState({opened:!1})}},{key:"onToggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.opened;this.setState({opened:e})}},{key:"render",value:function(){var e=this.state,t=e.opened,n=e.loading,r=this.props,o=r.id,a=r.audioTracks,i=r.selectedAudio,s=r.playerSize,u=r.smallResolution;return rd.a.createElement(Tp,{id:o,visible:!0,opened:t,audioTracks:a,selectedAudio:i,loading:n,onAudioSelect:this.onAudioSelect,onToggle:this.onToggle,playerSize:s,smallResolution:u})}}])&&Cp(n.prototype,r),o&&Cp(n,o),t}();Ip.defaultProps={id:null,selectedAudio:-1,selectAudio:function(){}},Ip.propTypes={id:sd.a.string,audioTracks:sd.a.arrayOf(sd.a.shape({id:sd.a.number,label:sd.a.string})).isRequired,selectedAudio:sd.a.number,selectAudio:sd.a.func,playerSize:sd.a.shape({width:sd.a.number,height:sd.a.number}).isRequired,smallResolution:sd.a.bool.isRequired};var Lp=Object(cd.b)(function(e){var t=e.playback;return{selectedAudio:t.selectedAudio,audioTracks:t.audioTracks,playerSize:Object(y.b)(e),smallResolution:Object(y.d)(e)}},function(e){return{selectAudio:Object(pd.bindActionCreators)(B,e)}})(Ip),Rp={getText:function(e){return Object(Go.a)(f.a.playerOneLabels,e,"!".concat(e,"!"))}};function Ap(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Np(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Dp=rd.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{d:"M20.000,18.000 C20.000,18.000 4.000,18.000 4.000,18.000 C3.448,18.000 3.000,17.552 3.000,17.000 C3.000,17.000 3.000,7.000 3.000,7.000 C3.000,6.448 3.448,6.000 4.000,6.000 C4.000,6.000 20.000,6.000 20.000,6.000 C20.552,6.000 21.000,6.448 21.000,7.000 C21.000,7.000 21.000,17.000 21.000,17.000 C21.000,17.552 20.552,18.000 20.000,18.000 ZM9.766,8.879 C9.166,8.879 8.644,9.007 8.200,9.263 C7.756,9.519 7.415,9.885 7.179,10.361 C6.942,10.837 6.824,11.389 6.824,12.017 C6.824,13.021 7.068,13.789 7.556,14.320 C8.045,14.852 8.747,15.117 9.663,15.117 C10.302,15.117 10.875,15.005 11.381,14.781 C11.381,14.781 11.381,13.395 11.381,13.395 C11.126,13.500 10.873,13.590 10.622,13.665 C10.370,13.739 10.110,13.777 9.841,13.777 C8.953,13.777 8.509,13.193 8.509,12.025 C8.509,11.463 8.618,11.023 8.837,10.703 C9.055,10.384 9.360,10.224 9.750,10.224 C10.007,10.224 10.248,10.260 10.472,10.332 C10.696,10.404 10.920,10.492 11.144,10.597 C11.144,10.597 11.647,9.307 11.647,9.307 C11.049,9.022 10.422,8.879 9.766,8.879 ZM15.282,8.879 C14.682,8.879 14.160,9.007 13.716,9.263 C13.272,9.519 12.931,9.885 12.695,10.361 C12.458,10.837 12.340,11.389 12.340,12.017 C12.340,13.021 12.584,13.789 13.072,14.320 C13.561,14.852 14.263,15.117 15.179,15.117 C15.818,15.117 16.391,15.005 16.897,14.781 C16.897,14.781 16.897,13.395 16.897,13.395 C16.642,13.500 16.389,13.590 16.137,13.665 C15.886,13.739 15.625,13.777 15.357,13.777 C14.469,13.777 14.025,13.193 14.025,12.025 C14.025,11.463 14.134,11.023 14.353,10.703 C14.571,10.384 14.876,10.224 15.266,10.224 C15.523,10.224 15.764,10.260 15.988,10.332 C16.212,10.404 16.436,10.492 16.660,10.597 C16.660,10.597 17.163,9.307 17.163,9.307 C16.565,9.022 15.938,8.879 15.282,8.879 Z",fillRule:"evenodd",fill:"#fff"}));function Mp(e){return e.map(function(e){return e.shouldTranslate?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ap(n,!0).forEach(function(t){kp(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ap(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{label:Rp.getText(e.label)}):e})}function Up(e){var t,n=e.opened,r=e.closedCaptionTracks,o=e.selectedClosedCaption,a=e.onToggle,i=e.onClosedCaptionSelect,s=e.playerSize,u=e.smallResolution,l=Mp(r),c=(t=l,[{label:Rp.getText("ui.none"),id:-1}].concat(Np(t)));return rd.a.createElement("div",{id:"CC",className:ld()("cc component shown",{enabled:o>-1})},rd.a.createElement(hp,{onToggle:a,placement:"top",opened:n,icon:Dp,ariaLabel:"Closed caption tracks",label:"Closed caption tracks",playerHeight:s.height,smallResolution:u},rd.a.createElement(Td,{tracks:c,selectedTrack:o,onTrackSelect:i,visible:n,ariaLabel:"Closed caption tracks, press Up and Down to browse and Enter to select"})))}Up.defaultProps={opened:!1,closedCaptionTracks:[],selectedClosedCaption:-1,onClosedCaptionSelect:function(){}},Up.propTypes={opened:sd.a.bool,closedCaptionTracks:sd.a.arrayOf(sd.a.shape({id:sd.a.number.isRequired,label:sd.a.string.isRequired})),selectedClosedCaption:sd.a.number,onToggle:sd.a.func.isRequired,onClosedCaptionSelect:sd.a.func,playerSize:sd.a.shape({width:sd.a.number,height:sd.a.number}).isRequired,smallResolution:sd.a.bool.isRequired};var xp=Up;function jp(e){return(jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vp(e){return(Vp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hp(e,t){return(Hp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gp=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==jp(t)&&"function"!=typeof t?Bp(e):t}(this,Vp(t).call(this))).state={opened:!1},e.onClosedCaptionSelect=e.onClosedCaptionSelect.bind(Bp(e)),e.onToggle=e.onToggle.bind(Bp(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hp(e,t)}(t,nd["Component"]),n=t,(r=[{key:"onClosedCaptionSelect",value:function(e){(0,this.props.selectClosedCaption)(e),this.setState({opened:!1})}},{key:"onToggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.opened;this.setState({opened:e})}},{key:"render",value:function(){var e=this.state.opened,t=this.props,n=t.selectedClosedCaption,r=t.closedCaptionTracks,o=t.playerSize,a=t.smallResolution;return rd.a.createElement(xp,{opened:e,closedCaptionTracks:r,selectedClosedCaption:n,onClosedCaptionSelect:this.onClosedCaptionSelect,onToggle:this.onToggle,playerSize:o,smallResolution:a})}}])&&Fp(n.prototype,r),o&&Fp(n,o),t}();Gp.defaultProps={selectedClosedCaption:-1,selectClosedCaption:function(){}},Gp.propTypes={closedCaptionTracks:sd.a.arrayOf(sd.a.shape({id:sd.a.number,label:sd.a.string})).isRequired,selectedClosedCaption:sd.a.number,selectClosedCaption:sd.a.func,playerSize:sd.a.shape({width:sd.a.number,height:sd.a.number}).isRequired,smallResolution:sd.a.bool.isRequired};var qp=Object(cd.b)(function(e){var t=e.playback;return{selectedClosedCaption:t.selectedClosedCaption,closedCaptionTracks:t.closedCaptionTracks,playerSize:Object(y.b)(e),smallResolution:Object(y.d)(e)}},function(e){return{selectClosedCaption:Object(pd.bindActionCreators)(q,e)}})(Gp),zp=rd.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{d:"M20.006,18.000 C20.006,18.000 4.006,18.000 4.006,18.000 C3.454,18.000 3.006,17.552 3.006,17.000 C3.006,17.000 3.006,7.000 3.006,7.000 C3.006,6.448 3.454,6.000 4.006,6.000 C4.006,6.000 20.006,6.000 20.006,6.000 C20.558,6.000 21.006,6.448 21.006,7.000 C21.006,7.000 21.006,17.000 21.006,17.000 C21.006,17.552 20.558,18.000 20.006,18.000 ZM19.006,8.000 C19.006,8.000 5.006,8.000 5.006,8.000 C5.006,8.000 5.006,16.000 5.006,16.000 C5.006,16.000 19.006,16.000 19.006,16.000 C19.006,16.000 19.006,8.000 19.006,8.000 ZM11.500,11.000 C11.500,11.000 14.002,11.000 14.002,11.000 C14.002,11.000 14.003,10.128 14.003,10.128 C14.003,9.717 14.224,9.556 14.494,9.770 C14.494,9.770 16.794,11.595 16.794,11.595 C17.064,11.809 17.065,12.161 16.796,12.378 C16.796,12.378 14.488,14.241 14.488,14.241 C14.220,14.457 14.000,14.298 14.000,13.887 C14.000,13.887 14.001,13.000 14.001,13.000 C14.001,13.000 11.500,13.000 11.500,13.000 C11.224,13.000 11.000,12.776 11.000,12.500 C11.000,12.500 11.000,11.500 11.000,11.500 C11.000,11.224 11.224,11.000 11.500,11.000 Z",fill:"#fff",fillRule:"evenodd"})),Wp=rd.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{d:"M19.994,18.000 C19.994,18.000 3.994,18.000 3.994,18.000 C3.442,18.000 2.994,17.552 2.994,17.000 C2.994,17.000 2.994,7.000 2.994,7.000 C2.994,6.448 3.442,6.000 3.994,6.000 C3.994,6.000 19.994,6.000 19.994,6.000 C20.546,6.000 20.994,6.448 20.994,7.000 C20.994,7.000 20.994,17.000 20.994,17.000 C20.994,17.552 20.546,18.000 19.994,18.000 ZM18.994,8.000 C18.994,8.000 4.994,8.000 4.994,8.000 C4.994,8.000 4.994,16.000 4.994,16.000 C4.994,16.000 18.994,16.000 18.994,16.000 C18.994,16.000 18.994,8.000 18.994,8.000 ZM13.512,9.759 C13.780,9.543 14.000,9.702 14.000,10.113 C14.000,10.113 13.999,11.000 13.999,11.000 C13.999,11.000 16.500,11.000 16.500,11.000 C16.776,11.000 17.000,11.224 17.000,11.500 C17.000,11.500 17.000,12.500 17.000,12.500 C17.000,12.776 16.776,13.000 16.500,13.000 C16.500,13.000 13.998,13.000 13.998,13.000 C13.998,13.000 13.997,13.872 13.997,13.872 C13.997,14.283 13.776,14.444 13.506,14.230 C13.506,14.230 11.206,12.405 11.206,12.405 C10.936,12.191 10.935,11.839 11.204,11.622 C11.204,11.622 13.512,9.759 13.512,9.759 Z",fill:"#fff",fillRule:"evenodd"}));function Kp(e){var t=e.enabled,n=e.onClick,r=e.label;return rd.a.createElement("div",{id:"Theater",className:ld()("theater component shown",{enabled:t})},rd.a.createElement(Rd,{ariaLabel:r,icon:t?Wp:zp,onToggle:n,label:r}))}Kp.propTypes={enabled:sd.a.bool.isRequired,onClick:sd.a.func.isRequired,label:sd.a.string.isRequired};var Yp=Kp;function Qp(e){return(Qp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xp(e){return(Xp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $p(e,t){return($p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var eh=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Qp(t)&&"function"!=typeof t?Jp(e):t}(this,Xp(t).call(this,e))).onClick=n.onClick.bind(Jp(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$p(e,t)}(t,nd["PureComponent"]),n=t,(r=[{key:"onClick",value:function(){var e=this.props,t=e.toggleTheaterMode,n=e.enabled,r=e.playerSize;t({enabled:!n}),k.a.send(k.a.types.EVENT,"theaterMode",""),v.send({message:"Toggle theater mode",data:{category:"Interaction",item:"theater mode",action:"toggle",theater_mode:n?"on":"off",width:r.width,height:r.height}})}},{key:"render",value:function(){var e=this.props.enabled,t=e?"Normal view":"Theater mode";return rd.a.createElement(Yp,{onClick:this.onClick,enabled:e,label:t})}}])&&Zp(n.prototype,r),o&&Zp(n,o),t}();eh.propTypes={enabled:sd.a.bool.isRequired,toggleTheaterMode:sd.a.func.isRequired,playerSize:sd.a.shape({width:sd.a.number,height:sd.a.number}).isRequired};var th=Object(cd.b)(function(e){return{enabled:e.player.theaterMode.enabled,playerSize:Object(y.b)(e)}},function(e){return{toggleTheaterMode:Object(pd.bindActionCreators)(Z.k,e)}})(eh),nh=rd.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{fill:"#fff",d:"M266,564.087c4.851-.824,6.294,2.669,10.011.75,0,0.021-.019,6.732-0.019,6.732-3.829,2.082-4.089-1.217-9.969-.711C265.955,570.879,266,564.087,266,564.087Zm-2.09-.246a1.062,1.062,0,0,1,1.084.786L264.97,575.3a1.1,1.1,0,0,1-1.065.853,0.914,0.914,0,0,1-.9-0.848L263,564.632A0.885,0.885,0,0,1,263.907,563.841Z",transform:"translate(-257 -558)"})),rh="Report inappropriate";function oh(e){var t=e.onClick;return rd.a.createElement("div",{id:"Flag",className:"flag component shown"},rd.a.createElement(Rd,{ariaLabel:rh,icon:nh,onToggle:t,label:rh}))}oh.propTypes={onClick:sd.a.func.isRequired};var ah=oh;function ih(e){return(ih="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uh(e){return(uh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ch(e,t){return(ch=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fh=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==ih(t)&&"function"!=typeof t?lh(e):t}(this,uh(t).call(this,e))).onTriggerClick=n.onTriggerClick.bind(lh(n)),n.onTriggerKeyDown=n.onTriggerKeyDown.bind(lh(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ch(e,t)}(t,nd["Component"]),n=t,(r=[{key:"onTriggerClick",value:function(){(0,this.props.toggleFlagOverlay)(!0)}},{key:"onTriggerKeyDown",value:function(e){var t=this.props.toggleFlagOverlay;"Enter"===e.key&&t(!0)}},{key:"render",value:function(){return rd.a.createElement(ah,{onClick:this.onTriggerClick})}}])&&sh(n.prototype,r),o&&sh(n,o),t}();ah.defaultProps={},ah.propTypes={};var dh=Object(cd.b)(null,function(e){return{toggleFlagOverlay:Object(pd.bindActionCreators)(Z.h,e)}})(fh);function ph(e){return(ph="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mh(e){return(mh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yh(e,t){return(yh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gh=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==ph(t)&&"function"!=typeof t?vh(e):t}(this,mh(t).call(this,e))).showOverlay=n.showOverlay.bind(vh(n)),n.onKeyDown=n.onKeyDown.bind(vh(n)),n.containerRef=Object(nd.createRef)(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yh(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.props.onCloseRequest;k.a.on(k.a.types.UI,"closeOverlays",e)}},{key:"shouldComponentUpdate",value:function(e){return this.props.opened||e.opened}},{key:"componentDidUpdate",value:function(e){var t=this.props.opened;!e.opened&&t&&this.showOverlay(),e.opened&&!t&&k.a.send(k.a.types.UI,"showControls")}},{key:"componentWillUnmount",value:function(){var e=this.props.onCloseRequest;k.a.off(k.a.types.UI,"closeOverlays",e)}},{key:"onKeyDown",value:function(e){var t=this.props.onCloseRequest;"Escape"===e.key&&t()}},{key:"showOverlay",value:function(){var e=this,t=this.props.controlsVisible;k.a.send(k.a.types.UI,"closePopovers"),t||k.a.send(k.a.types.UI,"hideControls"),requestAnimationFrame(function(){e.containerRef.current.focus()})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.id,r=e.onCloseRequest,o=e.opened,a=e.appendTarget,i=e.className,s=e.wide,u=e.title;return rd.a.createElement(xd,{appendTarget:a},rd.a.createElement("div",{tabIndex:"0",id:n,className:ld()("overlay-container",i,{shown:o}),onKeyDown:this.onKeyDown,ref:this.containerRef,role:"dialog","aria-label":u},rd.a.createElement("div",{className:ld()("overlay-content",{wide:s})},t),rd.a.createElement("a",{className:"close",role:"button","aria-label":"Close",tabIndex:"0",onClick:r,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),r())}})))}}])&&hh(n.prototype,r),o&&hh(n,o),t}();gh.defaultProps={id:null,children:null,opened:!1,appendTarget:document.getElementById("OverlaysContainer"),controlsVisible:!1,wide:!1,title:""},gh.propTypes={appendTarget:sd.a.instanceOf(HTMLElement),id:sd.a.string,children:sd.a.node,opened:sd.a.bool,onCloseRequest:sd.a.func.isRequired,controlsVisible:sd.a.bool,wide:sd.a.bool,title:sd.a.string};var bh=gh;function Eh(e){return(Eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Sh=function(e){var t=e.title,n=e.values,r=e.subTitles.map(function(e){return"object"===Eh(e)?e:{title:e,suffix:null}});return rd.a.createElement("section",null,rd.a.createElement("h3",null,t),r.map(function(e,t){var r=e.title,o=e.suffix;return rd.a.createElement("p",{key:r},rd.a.createElement("span",{className:"stats-row-label"},"".concat(r,": ")),rd.a.createElement("span",{className:"stats-row-value"},n[t]&&n[t],n[t]&&o?" ".concat(o):null))}))},Th={title:"Media",subTitles:["Media ID","Stream type","Stream URL"],props:["mediaId","streamType","streamUrl"]},Oh={mediaAttributes:{title:"Media",subTitles:["Media ID","Stream type","Stream URL","Video codec","Audio codec","Video resolution"],props:["mediaId","streamType","streamUrl","videoCodec","audioCodec","videoResolution"]},logicConnection:{title:"Logic Connection",subTitles:["Protocol","Host","UMS ID","UMS version"],props:["umsProtocol","umsHost","umsId","umsVersion"]},player:{title:"Player",subTitles:["Player version","Player size","Atlas version"],props:["playerVersion","playerSize","atlasVersion"]}};function Ch(e){var t,n=e.statsData,r=(t=Oh,l.a.isHLS()&&(t.mediaAttributes=Th),t);return rd.a.createElement("section",{className:"container"},Object.keys(r).map(function(e){return rd.a.createElement(Sh,{key:r[e].title,title:r[e].title,subTitles:r[e].subTitles,values:Object.values(Object(X.a)(n,r[e].props))})}))}Ch.propTypes={statsData:sd.a.shape({mediaId:sd.a.string,videoResolution:sd.a.string,audioCodec:sd.a.string,videoCodec:sd.a.string,streamType:sd.a.string,streamUrl:sd.a.string,playerSize:sd.a.string,umsId:sd.a.string,umsVersion:sd.a.string,umsProtocol:sd.a.string,umsHost:sd.a.string,atlasVersion:sd.a.string,playerVersion:sd.a.string,providersStats:sd.a.array}).isRequired};var wh=Ch;function _h(e){var t,n,r,o,a={mediaId:(t=e).mediaId,videoResolution:t.videoResolution,audioCodec:Object(Go.a)(t,"audio.codec",null),videoCodec:Object(Go.a)(t,"video.codec",null),streamType:Object(Go.a)(t,"streamInfo.format",null),streamUrl:Object(Go.a)(t,"streamInfo.url",null),playerSize:(n=t.playerSize,r=n.width,o=n.height,"".concat(r,"x").concat(o)),umsId:Object(Go.a)(t,"ums.id",null),umsVersion:Object(Go.a)(t,"ums.info.version",null),umsProtocol:Object(Go.a)(t,"ums.info.connection.protocol",null),umsHost:Object(Go.a)(t,"ums.info.connection.host",null),atlasVersion:j.a.version,playerVersion:c.BUILD_NUMBER,providersStats:t.providersStats};return rd.a.createElement(wh,{statsData:a})}_h.defaultProps={audio:{},video:{}},_h.propTypes={ums:sd.a.shape({id:sd.a.string,info:sd.a.shape({version:sd.a.string,connection:sd.a.shape({protocol:sd.a.string,host:sd.a.string})})}).isRequired,audio:sd.a.shape({codec:sd.a.string}),video:sd.a.shape({codec:sd.a.string}),videoResolution:sd.a.string.isRequired,playerSize:sd.a.shape({width:sd.a.number,height:sd.a.number}).isRequired,streamInfo:sd.a.shape({format:sd.a.string,url:sd.a.string}).isRequired,mediaId:sd.a.string.isRequired,providersStats:sd.a.array.isRequired};var Ph=Object(cd.b)(function(e){var t=e.ums,n=e.content,r=e.playback,o=e.provider;return{ums:t,audio:r.audio,video:r.video,videoResolution:r.videoResolution,playerSize:Object(y.b)(e),streamInfo:n.streamInfo,mediaId:n.mediaId,providersStats:o.finalResult}})(_h),Ih=300;function Lh(e){return(Lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ah(e,t){return!t||"object"!==Lh(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function kh(e){return(kh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nh(e,t){return(Nh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dh=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Ah(this,kh(t).call(this))).canvas=Object(nd.createRef)(),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nh(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidUpdate",value:function(){var e=this.props,t=e.ranges,n=e.position,r=e.type,o=this.canvas.current.getContext("2d");this.canvas.current.width=290,this.canvas.current.height=6,o.clearRect(0,0,290,6),o.fillStyle="rgba(255, 255, 255, 0.005)",o.fillRect(0,0,290,6),t.forEach(function(e){var t,a,i=e.start,s=e.end,u=(i-(a=(t=n)-3e4))/(t+3e4-a)*Ih,l=function(e){return e/6e4*Ih}(s-i);o.fillStyle=function(e){return"video"===e?"#539EEC":"audio"===e?"#FFA02D":"text"===e?"#E166B7":"#A3CC14"}(r),o.fillRect(u,0,l,6)})}},{key:"render",value:function(){return rd.a.createElement("div",{className:"storage-graph-container"},rd.a.createElement("div",{className:"storage-graph-background"},rd.a.createElement("canvas",{className:"storage-graph",ref:this.canvas})))}}])&&Rh(n.prototype,r),o&&Rh(n,o),t}();Dh.defaultProps={position:null},Dh.propTypes={ranges:sd.a.arrayOf(sd.a.shape({start:sd.a.number,end:sd.a.number})).isRequired,type:sd.a.string.isRequired,position:sd.a.number};var Mh=Dh;function Uh(e){return e.charAt(0).toUpperCase()+e.slice(1)}function xh(e){var t=e.bufferStats,n=e.storageStats,r=e.position,o=jh(t),a=jh(n);return rd.a.createElement("section",{className:"container"},rd.a.createElement("h3",null,"Storages"),a.map(function(e){return rd.a.createElement("p",{key:e},rd.a.createElement("span",null,function(e){var t=e.split(":")[0];return"".concat(Uh(t)," track")}(e),":"),rd.a.createElement(Mh,{key:e,ranges:n[e],position:r,type:e.split(":")[0]}))}),rd.a.createElement("h3",null,"Buffers"),o.map(function(e){return rd.a.createElement("p",{key:e},rd.a.createElement("span",null,function(e){var t=e.split(".")[0];return"player"===t?"Intersection":"".concat(Uh(t)," buffer")}(e),":"),rd.a.createElement(Mh,{key:e,ranges:t[e],position:r,type:e.split(".")[0]}))}))}function jh(e){return Object.keys(e).sort(function(e,t){return Fh(e)-Fh(t)})}function Fh(e){return e.includes("text")?0:e.includes("player")?1:e.includes("video")?2:3}xh.defaultProps={position:null},xh.propTypes={bufferStats:sd.a.objectOf(sd.a.arrayOf(sd.a.shape({ranges:sd.a.arrayOf(sd.a.shape({start:sd.a.number,end:sd.a.number}))}))).isRequired,storageStats:sd.a.objectOf(sd.a.arrayOf(sd.a.shape({ranges:sd.a.arrayOf(sd.a.shape({start:sd.a.number,end:sd.a.number}))}))).isRequired,position:sd.a.number};var Vh=xh;function Bh(e){return(Bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gh(e){return(Gh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zh(e,t){return(zh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wh=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Bh(t)&&"function"!=typeof t?qh(e):t}(this,Gh(t).call(this,e))).setAtlasPosition=n.setAtlasPosition.bind(qh(n)),n.state={position:null},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zh(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){k.a.on(k.a.types.EVENT,"atlasPositionUpdate",this.setAtlasPosition)}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.EVENT,"atlasPositionUpdate",this.setAtlasPosition)}},{key:"setAtlasPosition",value:function(e){this.setState({position:e})}},{key:"render",value:function(){var e=this.props,t=e.storageStats,n=e.bufferStats,r=this.state.position;return rd.a.createElement(Vh,{storageStats:t,bufferStats:n,position:r})}}])&&Hh(n.prototype,r),o&&Hh(n,o),t}();Wh.propTypes={bufferStats:sd.a.objectOf(sd.a.arrayOf(sd.a.shape({ranges:sd.a.arrayOf(sd.a.shape({start:sd.a.number,end:sd.a.number}))}))).isRequired,storageStats:sd.a.objectOf(sd.a.arrayOf(sd.a.shape({ranges:sd.a.arrayOf(sd.a.shape({start:sd.a.number,end:sd.a.number}))}))).isRequired};var Kh=Object(cd.b)(function(e){var t=e.playback;return{storageStats:t.stats.storages,bufferStats:t.stats.buffers}})(Wh);function Yh(e){var t=e.providers,n=e.title,r=e.setForcedProvider,o=e.forcedProviderUrl,a=e.showHiddenItems;return rd.a.createElement("div",null,rd.a.createElement("p",null,rd.a.createElement("span",{className:"providerTitle"},"".concat(n,": "))),t.map(function(e){var t=e.url,n=e.time;return rd.a.createElement("p",{className:"providerData",key:t},rd.a.createElement("span",{className:"providerHost"},new URL(t).hostname)," - ",rd.a.createElement("span",{className:"providerTime"},n?"".concat(parseFloat(n).toFixed(2)," ms"):"n/a")," - ",a&&rd.a.createElement("button",{type:"button",className:"bttn-link",onClick:function(){return function(e){var t=e.forcedProviderUrl,n=e.currentUrl,r=e.setForcedProvider;if(t===n)return r(null);return r(n)}({currentUrl:t,forcedProviderUrl:o,setForcedProvider:r})}},o===t?"Cancel forcing":"Force"))}))}Yh.propTypes={setForcedProvider:sd.a.func,forcedProviderUrl:sd.a.string,providers:sd.a.arrayOf(sd.a.shape({location:sd.a.string,name:sd.a.string,url:sd.a.string})).isRequired,title:sd.a.string.isRequired,showHiddenItems:sd.a.bool},Yh.defaultProps={setForcedProvider:function(){},forcedProviderUrl:"",showHiddenItems:!1};var Qh=Yh;function Zh(e){return(Zh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jh(e){return(Jh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function em(e,t){return(em=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var tm=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==Zh(t)&&"function"!=typeof t?$h(e):t}(this,Jh(t).call(this))).state={isConfigVisible:!1},e.onToggleConfig=e.onToggleConfig.bind($h(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&em(e,t)}(t,nd["Component"]),n=t,(r=[{key:"onToggleConfig",value:function(){var e=!this.state.isConfigVisible;this.setState({isConfigVisible:e})}},{key:"render",value:function(){var e=this.props.cdnConfig,t=this.state.isConfigVisible;return rd.a.createElement("section",null,rd.a.createElement("div",{className:"stats-row-value"},rd.a.createElement("button",{onClick:this.onToggleConfig,type:"button"},"Toggle CDN config")),t&&rd.a.createElement("pre",null,JSON.stringify(e,null,"  ")))}}])&&Xh(n.prototype,r),o&&Xh(n,o),t}();tm.propTypes={cdnConfig:sd.a.shape({protocol:sd.a.string,data:sd.a.arrayOf(sd.a.shape({data:sd.a.array,name:sd.a.string,useBestSite:sd.a.bool})),mid:sd.a.string}).isRequired};var nm=tm;function rm(e){var t=e.fallback,n=e.preferredLocation,r=e.providers,o=e.providersMap,a=e.forcedProviderUrl,i=e.setForcedProvider,s=e.cdnConfig,u=e.currentProvider,l=e.onProvidersToggle,c=e.allProvidersVisible,f=e.otherProvidersLength,d=e.showHiddenItems;return rd.a.createElement("section",{className:"container"},u&&rd.a.createElement(Sh,{title:"Current provider",subTitles:["Location","Server"],values:[u.location,u.url]}),rd.a.createElement(Sh,{title:"External CDN fallback",subTitles:["Availability"],values:[t?"available":"not available"]}),rd.a.createElement(Sh,{title:"ECDN location history",subTitles:["history"],values:[n]}),rd.a.createElement("h3",null,"All available providers"),rd.a.createElement("div",{className:"providerTable"},r.map(function(e){return rd.a.createElement(Qh,{key:e,title:om(e),providers:o[e],forcedProviderUrl:a,setForcedProvider:i,showHiddenItems:d})}),d&&rd.a.createElement("div",null,rd.a.createElement("button",{className:"bttn-link",onClick:l},c?"Hide other providers":"Show all other ECDN locations ("+f+")"))),d&&rd.a.createElement(nm,{cdnConfig:s}))}function om(e){var t=e.split("/");return"eCDN"===t[0]?"ECDN - ".concat(t[1]):"External CDN - ".concat(t[0])}rm.propTypes={setForcedProvider:sd.a.func,onProvidersToggle:sd.a.func,preferredLocation:sd.a.string.isRequired,fallback:sd.a.oneOfType([sd.a.bool,sd.a.string]).isRequired,cdnConfig:sd.a.shape({protocol:sd.a.string,data:sd.a.arrayOf(sd.a.shape({data:sd.a.array,name:sd.a.string,useBestSite:sd.a.bool})),mid:sd.a.string}).isRequired,forcedProviderUrl:sd.a.string,providers:sd.a.arrayOf(sd.a.string).isRequired,providersMap:sd.a.objectOf(sd.a.arrayOf(sd.a.shape({location:sd.a.string,name:sd.a.string,url:sd.a.string}))).isRequired,currentProvider:sd.a.shape({location:sd.a.string,name:sd.a.string,url:sd.a.string,time:sd.a.number}),allProvidersVisible:sd.a.bool,otherProvidersLength:sd.a.number.isRequired,showHiddenItems:sd.a.bool},rm.defaultProps={setForcedProvider:function(){},onProvidersToggle:function(){},forcedProviderUrl:"",currentProvider:{},showHiddenItems:!1,allProvidersVisible:!1};var am=rm;function im(e){return(im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sm(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function um(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cm(e){return(cm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dm(e,t){return(dm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pm=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==im(t)&&"function"!=typeof t?fm(e):t}(this,cm(t).call(this,e))).state={allProvidersVisible:!1},n.onProvidersToggle=n.onProvidersToggle.bind(fm(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dm(e,t)}(t,nd["Component"]),n=t,(r=[{key:"onProvidersToggle",value:function(){var e=this.state.allProvidersVisible;this.setState({allProvidersVisible:!e})}},{key:"render",value:function(){var e=this.props,t=e.preferredLocation,n=e.fallback,r=e.providersStats,o=e.forcedProviderUrl,a=e.cdnConfig,i=e.setForcedUrl,s=e.currentProvider,u=e.showHiddenContextMenuItems,l=this.state.allProvidersVisible,c=t.map(mm).join(", "),f=r.reduce(hm,{}),d=Object.keys(f),p=l?d:Object.keys(f).slice(0,5),h=Math.max(0,d.length-5);return rd.a.createElement(am,{currentProvider:s,preferredLocation:c,setForcedProvider:i,fallback:n,providers:p,providersMap:f,forcedProviderUrl:o,cdnConfig:a,allProvidersVisible:l,onProvidersToggle:this.onProvidersToggle,otherProvidersLength:h,showHiddenItems:u})}}])&&lm(n.prototype,r),o&&lm(n,o),t}();function hm(e,t){return e[t.location]?Object.assign(e,um({},t.location,[].concat(sm(e[t.location]),[t]))):Object.assign(e,um({},t.location,[t]))}function mm(e){if(!e||!e.includes("/"))return"unknown";var t=e.split("/");return"null"===t[1]?"n/a":t[1]}pm.propTypes={setForcedUrl:sd.a.func,providersStats:sd.a.arrayOf(sd.a.shape({url:sd.a.string,time:sd.a.number})).isRequired,preferredLocation:sd.a.arrayOf(sd.a.string),fallback:sd.a.oneOfType([sd.a.bool,sd.a.string]).isRequired,cdnConfig:sd.a.shape({protocol:sd.a.string,data:sd.a.arrayOf(sd.a.shape({data:sd.a.array,name:sd.a.string,useBestSite:sd.a.bool})),mid:sd.a.string}),forcedProviderUrl:sd.a.string,showHiddenContextMenuItems:sd.a.bool},pm.defaultProps={setForcedUrl:function(){},forcedProviderUrl:"",preferredLocation:[],cdnConfig:{},showHiddenContextMenuItems:!1};var vm=Object(cd.b)(function(e){var t=e.provider,n=e.contextMenu;return{providersStats:t.finalResult,preferredLocation:t.preferredLocation,fallback:t.fallback,cdnConfig:t.cdnConfig,forcedProviderUrl:t.forcedUrl,currentProvider:t.currentProvider,showHiddenContextMenuItems:n.showHiddenContextMenuItems}},function(e){return{setForcedUrl:Object(pd.bindActionCreators)(Ao,e)}})(pm),ym={telemetry:{title:"Telemetry",subTitles:[{title:"Short Harmonic Mean (SHM)",suffix:"kbps"},{title:"Long Harmonic Mean (LHM)",suffix:"kbps"},{title:"Harmonic Mean Waiting Time (HMWT)",suffix:"s"}],props:["shortMean","longMean","waitingTimeInSec"]},filters:{title:"Filters",subTitles:["Active filters"],props:["filters"]},selectedStreamVersion:{title:"Selected Stream Version",subTitles:[{title:"Bitrate",suffix:"kbps"},"Source Stream Version"],props:["bitrate","sourceStreamVersion"]}};function gm(e){var t=e.statsData;return rd.a.createElement("section",{className:"container"},Object.keys(ym).map(function(e){return rd.a.createElement(Sh,{key:ym[e].title,title:ym[e].title,subTitles:ym[e].subTitles,values:Object.values(Object(X.a)(t,ym[e].props))})}))}gm.propTypes={statsData:sd.a.shape({shortMean:sd.a.number,longMean:sd.a.number,waitingTimeInSec:sd.a.number,filters:sd.a.string,bitrate:sd.a.number,sourceStreamVersion:sd.a.number}).isRequired};var bm=gm;var Em=Object(cd.b)(function(e){return{qosStats:e.qos.stats}})(function(e){var t,n=(t=e.qosStats,{shortMean:Object(Go.a)(t,"throughput.shortMean",null),longMean:Object(Go.a)(t,"throughput.longMean",null),waitingTimeInSec:Object(Go.a)(t,"throughput.waitingTimeInSec",null),filters:Object(Go.a)(t,"filters.names",[]).join(" -> "),bitrate:Object(Go.a)(t,"bitrate"),sourceStreamVersion:Object(Go.a)(t,"sourceStreamVersion",null)});return rd.a.createElement(bm,{statsData:n})}),Sm="Statistics";function Tm(e){var t=e.opened,n=e.onCloseRequest,r=e.id,o=e.isLive;return rd.a.createElement(bh,{opened:t,onCloseRequest:n,id:r,className:ld()("statsOverlay",{live:o}),controlsVisible:!0,title:Sm},rd.a.createElement(Kh,null),rd.a.createElement(Ph,null),rd.a.createElement(vm,null),rd.a.createElement(Em,null))}Tm.defaultProps={isLive:!1},Tm.propTypes={opened:sd.a.bool.isRequired,onCloseRequest:sd.a.func.isRequired,id:sd.a.string.isRequired,isLive:sd.a.bool};var Om=Tm;function Cm(e){return(Cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _m(e){return(_m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Im(e,t){return(Im=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Lm=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Cm(t)&&"function"!=typeof t?Pm(e):t}(this,_m(t).call(this,e))).onKeyDown=n.onKeyDown.bind(Pm(n)),n.onCloseRequest=n.onCloseRequest.bind(Pm(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Im(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown)}},{key:"onKeyDown",value:function(e){var t=this.props,n=t.toggleStatsOverlay,r=t.statsOverlayVisible;"s"===e.key&&e.ctrlKey&&n(!r)}},{key:"onCloseRequest",value:function(){(0,this.props.toggleStatsOverlay)(!1)}},{key:"render",value:function(){var e=this.props,t=e.statsOverlayVisible,n=e.mediaType===Ca.a.live;return rd.a.createElement(Om,{id:"StatsOverlay",opened:t,onCloseRequest:this.onCloseRequest,isLive:n})}}])&&wm(n.prototype,r),o&&wm(n,o),t}();Lm.defaultProps={statsOverlayVisible:!1,toggleStatsOverlay:function(){},mediaType:null},Lm.propTypes={statsOverlayVisible:sd.a.bool,toggleStatsOverlay:sd.a.func,mediaType:sd.a.oneOf(Object.values(Ca.a))};var Rm=Object(cd.b)(function(e){var t=e.player,n=e.content;return{statsOverlayVisible:t.statsOverlayVisible,mediaType:n.mediaType}},function(e){return{toggleStatsOverlay:Object(pd.bindActionCreators)(Z.j,e)}})(Lm),Am=function(e){var t=e.request,n=e.response,r=e.total,o=e.highestTotal;return rd.a.createElement("div",{className:"debug-overlay__chart-wrapper"},rd.a.createElement("div",{className:"debug-overlay__chart",style:{width:"".concat(r/o*100,"%")}},rd.a.createElement("div",{className:"debug-overlay__chart-request",style:{width:"".concat(t/r*100,"%")}}),rd.a.createElement("div",{className:"debug-overlay__chart-response",style:{width:"".concat(n/r*100,"%")}})))};Am.propTypes={request:sd.a.number.isRequired,response:sd.a.number.isRequired,total:sd.a.number.isRequired,highestTotal:sd.a.number.isRequired};var km=n(13),Nm=function(e){var t=e.children,n=e.type;return rd.a.createElement("div",{className:"debug-overlay__label debug-overlay__label--".concat(n)},t)};Nm.defaultProps={type:km.a.DEFAULT},Nm.propTypes={children:sd.a.node.isRequired,type:sd.a.oneOf(Object.values(km.a))};var Dm=function(e){var t=new Date(e),n=[t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()].map(function(e){return e.toString()}),r=n[3].padStart(2,"0"),o=n[4].padStart(2,"0"),a=n[5].padStart(2,"0");return"".concat(r,":").concat(o,":").concat(a)},Mm=function(e){var t=e.level,n=e.timeStamps,r=e.msg,o=e.count;return rd.a.createElement("div",{className:"debug-overlay__log-wrapper"},rd.a.createElement("div",{className:"debug-overlay__log"},rd.a.createElement("div",{className:"debug-overlay__log-timestamp"},rd.a.createElement(Nm,null,n.length>1?"".concat(Dm(n[0])," - ").concat(Dm(n[1])):Dm(n[0]))),rd.a.createElement("div",{className:"debug-overlay__log-reason"},(r&&r.length)>20?"":"Reason: ",r,o>1&&rd.a.createElement("div",{className:"debug-overlay__log-count"},rd.a.createElement(Nm,{type:t},"".concat(o,"x"))))))};function Um(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Mm.defaultProps={level:km.a.DEFAULT,count:0},Mm.propTypes={level:sd.a.oneOf(Object.values(km.a)),timeStamps:sd.a.array.isRequired,msg:sd.a.string.isRequired,count:sd.a.number};var xm,jm,Fm,Vm,Bm,Hm,Gm,qm,zm,Wm=function(e){var t,n=e.type,r=(Um(t={},km.a.LOADING,rd.a.createElement("path",{fill:"#454545",d:"M21.5,15c-1.3,4.1-5.1,7-9.5,7C6.5,22,2,17.5,2,12C2,6.5,6.5,2,12,2c4.5,0,8.3,2.9,9.5,7h2.1c-1.3-5.2-6-9-11.6-9C5.4,0,0,5.4,0,12c0,6.6,5.4,12,12,12c5.6,0,10.3-3.8,11.6-9H21.5z"})),Um(t,km.a.SUCCESS,rd.a.createElement("path",{fill:"#00a14b",d:"M12,0C5.4,0,0,5.4,0,12c0,6.6,5.4,12,12,12s12-5.4,12-12C24,5.4,18.6,0,12,0z M9.9,16.9l-4.2-4.2l1.4-1.4l2.8,2.8l7.1-7.1l1.4,1.4L9.9,16.9z"})),Um(t,km.a.ERROR,rd.a.createElement("path",{fill:"#ed1c24",d:"M12,0C5.4,0,0,5.4,0,12c0,6.6,5.4,12,12,12s12-5.4,12-12C24,5.4,18.6,0,12,0z M16.9,15.5l-1.4,1.4L12,13.4l-3.5,3.5l-1.4-1.4l3.5-3.5L7.1,8.5l1.4-1.4l3.5,3.5l3.5-3.5l1.4,1.4L13.4,12L16.9,15.5z"})),Um(t,km.a.WARNING,rd.a.createElement("path",{fill:"#ffe000",d:"M12,0L0,20.8h24L12,0z M11.1,7.2h1.7v2.9l-0.5,4.4h-0.7l-0.5-4.4V7.2z M12,17.6c-0.7,0-1.1-0.4-1.1-1v-0.2c0-0.6,0.3-1,1.1-1s1.1,0.4,1.1,1v0.2C13.1,17.2,12.7,17.6,12,17.6z"})),t);return rd.a.createElement("span",{className:"debug-overlay__icon"},rd.a.createElement("svg",{x:"0px",y:"0px",viewBox:"0 0 24 24"},r[n]))};function Km(){return(Km=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ym(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qm(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Zm(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Xm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Wm.defaultProps={type:km.a.DEFAULT},Wm.propTypes={type:sd.a.oneOf(Object.values(km.a))};var Jm={FLOT:"Server connection (Flot)",QOS:"QoS",PLAYBACK:"Playback"},$m={INIT:(xm={},Xm(xm,km.a.LOADING,"Initialization in progress"),Xm(xm,km.a.SUCCESS,"Successfully initialized"),Xm(xm,km.a.ERROR,"Initialization failed"),xm),TIMING:(jm={},Xm(jm,km.a.LOADING,"Checking initial response times"),Xm(jm,km.a.SUCCESS,"First stream and meta module arrived in time"),Xm(jm,km.a.WARNING,"First stream and meta module arrived late"),jm),DISCONNECTS:(Fm={},Xm(Fm,km.a.SUCCESS,"No disconnects were detected"),Xm(Fm,km.a.WARNING,"Disconnects were detected"),Fm),REJECTS:(Vm={},Xm(Vm,km.a.SUCCESS,"No connection rejects were detected"),Xm(Vm,km.a.ERROR,"Connection rejects were detected"),Vm),EMPTY_MODULE:(Bm={},Xm(Bm,km.a.SUCCESS,"No empty modules found"),Xm(Bm,km.a.ERROR,"Empty stream modules were detected"),Bm),DOWNLOAD:(Hm={},Xm(Hm,km.a.SUCCESS,"Chunk download speed is normal"),Xm(Hm,km.a.WARNING,"Chunk download speed was slow"),Xm(Hm,"warningMessage","Please make sure your network connection is stable."),Hm),ATLAS_RECOVERABLE:(Gm={},Xm(Gm,km.a.SUCCESS,"No recoverable errors found"),Xm(Gm,km.a.WARNING,"Recoverable errors found"),Gm),ATLAS_NON_RECOVERABLE:(qm={},Xm(qm,km.a.SUCCESS,"No unrecoverable errors found"),Xm(qm,km.a.ERROR,"Unrecoverable errors found"),qm),EMPTY_CHUNK:(zm={},Xm(zm,km.a.SUCCESS,"No empty chunks found"),Xm(zm,km.a.WARNING,"Empty chunks were detected"),zm)};var ev=function(e){var t,n,r,o=e.opened,a=e.onCloseRequest,i=e.id,s=e.debug,u=e.onError,l=Zm(Object(nd.useState)({dropRate:"N/A",frameRate:"N/A",lastTotal:null}),2),c=l[0],f=l[1];Object(nd.useEffect)(function(){var e=s.keyFrameInterval,t=Qm(s,["keyFrameInterval"]),n=e>3||e<=0,r=Object.values(t).some(function(e){return e.status===km.a.ERROR}),o=c.dropRate>50;u(n||r||o)},[s]),t=function(){var e=null,t=null,n=document.getElementById("ViewerContainer");if(n){var r=n.querySelector("video");if(r){var o=r.webkitDroppedFrameCount,a=r.webkitDecodedFrameCount;if(void 0!==o&&void 0!==a)e=o+a,t=o;else if(r.getVideoPlaybackQuality){var i=r.getVideoPlaybackQuality();e=i.totalVideoFrames,t=i.droppedVideoFrames}if(null!==e||null!==t){var s=e-c.lastTotal,u=t/e*100;f({dropRate:u>=0?u:"N/A",frameRate:s>=0?s:"N/A",lastTotal:e})}}else f({dropRate:"N/A",frameRate:"N/A",lastTotal:null})}},n=1e3,r=Object(nd.useRef)(),Object(nd.useEffect)(function(){r.current=t},[t]),Object(nd.useEffect)(function(){if(null!==n){var e=setInterval(function(){r.current()},n);return function(){return clearInterval(e)}}},[n]);var d,p,h,m=function(e,t,n){var r=null,o=null;return Array.isArray(e)&&(r=e[0],o=e[e.length-1]),rd.a.createElement("div",{key:n},Array.isArray(e)?rd.a.createElement(Mm,{level:o.level,msg:o.msg,count:e.length,timeStamps:[r.timeStamp,o.timeStamp]}):rd.a.createElement(Mm,Km({},e,{timeStamps:[e.timeStamp]})),t&&0!==t&&v({data:e,highestTotal:t}))},v=function(e){var t=e.data,n=e.highestTotal;return rd.a.createElement(Am,Km({},t,{highestTotal:n}))};return rd.a.createElement(bh,{opened:o,onCloseRequest:a,id:i,title:"Debug information"},rd.a.createElement("div",{className:"debug-overlay"},rd.a.createElement("div",{className:"debug-overlay__frame-data"},rd.a.createElement("div",{className:"debug-overlay__frame-data-group"},rd.a.createElement("p",{key:"title",className:"debug-overlay__frame-data-group-item"},"Keyframe Interval:"),rd.a.createElement("p",{key:"value",className:"debug-overlay__frame-data-group-item ".concat(function(e){if("string"!=typeof e){var t=e.toFixed(2);return t>3||t<=0?"debug-overlay__frame-data-group-item--error":t>0&&t<1||t>2&&t<=3?"debug-overlay__frame-data-group-item--warning":t>=1&&t<=2?"debug-overlay__frame-data-group-item--success":""}}(s.keyFrameInterval))},function(){var e=s.keyFrameInterval;if("string"==typeof e)return e;var t=e.toFixed(2);return"".concat(t,t>3?"s (source keyframe interval too high)":"s")}())),rd.a.createElement("div",{className:"debug-overlay__frame-data-group"},rd.a.createElement("p",{key:"title",className:"debug-overlay__frame-data-group-item"},"Frame rate:"),rd.a.createElement("p",{key:"value",className:"debug-overlay__frame-data-group-item"},c.frameRate)),rd.a.createElement("div",{className:"debug-overlay__frame-data-group"},rd.a.createElement("p",{key:"title",className:"debug-overlay__frame-data-group-item"},"Framedrop rate:"),rd.a.createElement("p",{key:"value",className:"debug-overlay__frame-data-group-item ".concat((h=c.dropRate,h>50?"debug-overlay__frame-data-group-item--error":h<=50&&h>15?"debug-overlay__frame-data-group-item--warning":h<=15&&h>=0?"debug-overlay__frame-data-group-item--success":""))},function(){var e=c.dropRate;return"string"==typeof e?e:"".concat(e.toFixed(2),e>50?"% (warning, slow performance)":"%")}()))),function(e){return Object.entries(e).map(function(e){var t=Zm(e,2),n=t[0],r=t[1];return rd.a.createElement("div",{className:"debug-overlay__category",key:n},rd.a.createElement("h3",null,Jm[n]),rd.a.createElement("div",null,Object.entries(r).map(function(e){var t=Zm(e,2),n=t[0],r=t[1];return rd.a.createElement("div",{key:n,className:"debug-overlay__category-item-wrapper"},r&&rd.a.createElement(rd.a.Fragment,null,rd.a.createElement("div",{className:"debug-overlay__category-item"},rd.a.createElement(Wm,{type:r.status}),"".concat($m[n][r.status]).concat(r.timeToStartInMs?" [".concat(r.timeToStartInMs,"ms]"):""),r.isEcdn&&rd.a.createElement("div",{className:"debug-overlay__ecdn"},rd.a.createElement(Nm,{type:km.a.INFO},"ECDN"))),r.status===km.a.WARNING&&$m[n].warningMessage&&rd.a.createElement("div",{className:"debug-overlay__category-item"},rd.a.createElement(Wm,{type:km.a.WARNING}),"".concat($m[n].warningMessage)),r.data&&r.data.length>0&&rd.a.createElement("div",{className:"debug-overlay__data"},function(e){var t=e.data,n=e.highestTotal;return t.map(function(e,t){return m(e,n,t)})}(r))))})))})}((d={data:s}.data,p={},Object.entries(d).forEach(function(e){var t=Zm(e,2),n=t[0],r=t[1];r.groupId&&(p[r.groupId]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ym(n,!0).forEach(function(t){Xm(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ym(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},p[r.groupId],Xm({},n,r)))}),p))))};ev.defaultProps={opened:!1},ev.propTypes={opened:sd.a.bool,onCloseRequest:sd.a.func.isRequired,id:sd.a.string.isRequired,debug:sd.a.object.isRequired};var tv=Object(cd.b)(function(e){return{debug:e.debug}})(ev);function nv(e){return(nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ov(e){return(ov=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function av(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iv(e,t){return(iv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sv=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==nv(t)&&"function"!=typeof t?av(e):t}(this,ov(t).call(this,e))).openedOnce=e.debugOverlayVisible,n.closedOnce=!1,n.errorShown=!1,n.onCloseRequest=n.onCloseRequest.bind(av(n)),n.onError=n.onError.bind(av(n)),n.report=n.report.bind(av(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iv(e,t)}(t,nd["Component"]),n=t,(r=[{key:"onCloseRequest",value:function(){(0,this.props.toggleDebugOverlay)(!1)}},{key:"onError",value:function(e){this.errorShown=e}},{key:"report",value:function(e){if(!this.openedOnce||!this.closedOnce)return!this.openedOnce&&e?(v.send({message:"Debug overlay opened",data:{category:"DebugOverlay",item:"debug overlay",action:"open"}}),void(this.openedOnce=!0)):void(!this.openedOnce||this.closedOnce||e||(v.send({message:"Debug overlay closed",data:{category:"DebugOverlay",item:"debug overlay",action:"close",error_shown:this.errorShown}}),this.closedOnce=!0))}},{key:"render",value:function(){var e=this.props.debugOverlayVisible;return this.report(e),rd.a.createElement(tv,{id:"DebugOverlay",opened:e,onCloseRequest:this.onCloseRequest,onError:this.onError})}}])&&rv(n.prototype,r),o&&rv(n,o),t}();sv.defaultProps={debugOverlayVisible:!1,toggleDebugOverlay:function(){}},sv.propTypes={debugOverlayVisible:sd.a.bool,toggleDebugOverlay:sd.a.func};var uv=Object(cd.b)(function(e){return{debugOverlayVisible:e.player.debugOverlayVisible}},function(e){return{toggleDebugOverlay:Object(pd.bindActionCreators)(Z.g,e)}})(sv);function lv(e){return(lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fv(e,t){return!t||"object"!==lv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dv(e){return(dv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pv(e,t){return(pv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hv(e){var t=e.label;return rd.a.createElement("span",null,t)}hv.propTypes={label:sd.a.string.isRequired};var mv=function(e){var t=e.speeds,n=e.onSpeedSelect,r=e.visible,o=e.selected,a=t.findIndex(function(e){return e.id===o});return rd.a.createElement(Ed,{className:"list select",visible:r,ariaLabel:"Playback speed, press Up and Down to browse and Enter to select",activeIndex:a},t.map(function(e){return rd.a.createElement("button",{type:"button",onClick:function(){return n(e)},key:e.id,className:ld()("trigger",{active:e.id===o}),onKeyPress:function(t){"Enter"===t.key&&(t.preventDefault(),n(e))}},rd.a.createElement(hv,{label:e.label}))}))};mv.defaultProps={speeds:[],onSpeedSelect:function(){},visible:!1},mv.propTypes={speeds:sd.a.arrayOf(sd.a.shape({id:sd.a.number.isRequired,value:sd.a.number.isRequired,label:sd.a.string.isRequired,path:sd.a.node})),onSpeedSelect:sd.a.func,visible:sd.a.bool,selected:sd.a.number.isRequired};var vv=function(e){function t(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fv(this,dv(t).call(this,e))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pv(e,t)}(t,nd["Component"]),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.speeds,n=e.opened,r=e.onToggle,o=e.onSpeedSelect,a=e.selected,i=e.icon,s=e.playerSize,u=e.smallResolution;return rd.a.createElement("div",{id:"PlaybackSpeed",className:ld()("component shown")},rd.a.createElement(hp,{onToggle:r,placement:"top",opened:n,icon:i,ariaLabel:"Playback speed",label:"Playback speed",playerHeight:s.height,smallResolution:u},rd.a.createElement(mv,{speeds:t,selected:a,onSpeedSelect:o,visible:n})))}}])&&cv(n.prototype,r),o&&cv(n,o),t}();vv.defaultProps={opened:!1,speeds:[],onSpeedSelect:function(){}},vv.propTypes={opened:sd.a.bool,speeds:sd.a.arrayOf(sd.a.shape({id:sd.a.number.isRequired,value:sd.a.number.isRequired,label:sd.a.string.isRequired,path:sd.a.node})),onToggle:sd.a.func.isRequired,onSpeedSelect:sd.a.func,selected:sd.a.number.isRequired,playerSize:sd.a.shape({width:sd.a.number,height:sd.a.number}).isRequired,smallResolution:sd.a.bool.isRequired};var yv=vv;function gv(e){return(gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ev(e){return(Ev=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tv(e,t){return(Tv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ov=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==gv(t)&&"function"!=typeof t?Sv(e):t}(this,Ev(t).call(this))).state={speeds:[{id:1,value:2,label:"2.0x",path:rd.a.createElement("path",{fill:"#fff",d:"M11.506,14.779 L7.755,14.779 L9.372,13.448 C10.439,12.568 11.308,11.754 11.308,10.478 C11.308,9.158 10.384,8.19 8.767,8.19 C7.205,8.19 6.38,9.081 6.05,10.104 L7.304,10.588 C7.48,9.961 7.854,9.444 8.646,9.444 C9.273,9.444 9.779,9.818 9.779,10.489 L9.779,10.632 C9.779,11.303 9.405,11.831 8.591,12.546 L6.182,14.658 L6.182,16 L11.506,16 L11.506,14.779 Z M13.783,16 L12.309,16 L14.267,13.085 L12.353,10.258 L13.959,10.258 L15.147,12.161 L15.18,12.161 L16.357,10.258 L17.864,10.258 L15.917,13.107 L17.875,16 L16.28,16 L15.059,13.998 L15.015,13.998 L13.783,16 Z"})},{id:2,value:1.5,label:"1.5x",path:rd.a.createElement("path",{fill:"#fff",d:"M6.594,16 L6.594,14.823 L4.812,14.823 L4.812,8.322 L3.305,8.322 L0.984,9.62 L1.534,10.676 L3.393,9.631 L3.393,14.823 L1.402,14.823 L1.402,16 L6.594,16 Z M8.739,16.121 C9.344,16.121 9.619,15.78 9.619,15.318 L9.619,15.12 C9.619,14.647 9.344,14.306 8.739,14.306 C8.145,14.306 7.859,14.647 7.859,15.12 L7.859,15.318 C7.859,15.78 8.145,16.121 8.739,16.121 Z M16.054,8.322 L11.533,8.322 L11.247,12.634 L12.435,12.799 C12.666,12.524 13.051,12.227 13.678,12.227 C14.481,12.227 14.965,12.711 14.965,13.503 L14.965,13.591 C14.965,14.427 14.503,14.944 13.645,14.944 C12.809,14.944 12.391,14.482 12.05,13.888 L10.994,14.702 C11.456,15.45 12.215,16.132 13.634,16.132 C15.449,16.132 16.472,15.01 16.472,13.47 C16.472,11.941 15.449,11.039 14.129,11.039 C13.205,11.039 12.831,11.49 12.501,12.15 L12.424,12.15 L12.6,9.576 L16.054,9.576 L16.054,8.322 Z M18.672,16 L17.198,16 L19.156,13.085 L17.242,10.258 L18.848,10.258 L20.036,12.161 L20.069,12.161 L21.246,10.258 L22.753,10.258 L20.806,13.107 L22.764,16 L21.169,16 L19.948,13.998 L19.904,13.998 L18.672,16 Z"})},{id:3,value:1.2,label:"1.2x",path:rd.a.createElement("path",{fill:"#fff",d:"M6.594,16 L6.594,14.823 L4.812,14.823 L4.812,8.322 L3.305,8.322 L0.984,9.62 L1.534,10.676 L3.393,9.631 L3.393,14.823 L1.402,14.823 L1.402,16 L6.594,16 Z M8.739,16.121 C9.344,16.121 9.619,15.78 9.619,15.318 L9.619,15.12 C9.619,14.647 9.344,14.306 8.739,14.306 C8.145,14.306 7.859,14.647 7.859,15.12 L7.859,15.318 C7.859,15.78 8.145,16.121 8.739,16.121 Z M16.395,14.779 L12.644,14.779 L14.261,13.448 C15.328,12.568 16.197,11.754 16.197,10.478 C16.197,9.158 15.273,8.19 13.656,8.19 C12.094,8.19 11.269,9.081 10.939,10.104 L12.193,10.588 C12.369,9.961 12.743,9.444 13.535,9.444 C14.162,9.444 14.668,9.818 14.668,10.489 L14.668,10.632 C14.668,11.303 14.294,11.831 13.48,12.546 L11.071,14.658 L11.071,16 L16.395,16 L16.395,14.779 Z M18.672,16 L17.198,16 L19.156,13.085 L17.242,10.258 L18.848,10.258 L20.036,12.161 L20.069,12.161 L21.246,10.258 L22.753,10.258 L20.806,13.107 L22.764,16 L21.169,16 L19.948,13.998 L19.904,13.998 L18.672,16 Z"})},{id:4,value:1,label:"1.0x",path:rd.a.createElement("path",{fill:"#fff",d:"M11.594,16 L11.594,14.823 L9.812,14.823 L9.812,8.322 L8.305,8.322 L5.984,9.62 L6.534,10.676 L8.393,9.631 L8.393,14.823 L6.402,14.823 L6.402,16 L11.594,16 Z M13.783,16 L12.309,16 L14.267,13.085 L12.353,10.258 L13.959,10.258 L15.147,12.161 L15.18,12.161 L16.357,10.258 L17.864,10.258 L15.917,13.107 L17.875,16 L16.28,16 L15.059,13.998 L15.015,13.998 L13.783,16 Z"})},{id:5,value:.8,label:"0.8x",path:rd.a.createElement("path",{fill:"#fff",d:"M3.8,16.132 C5.758,16.132 6.66,14.669 6.66,12.161 C6.66,9.653 5.758,8.19 3.8,8.19 C1.842,8.19 0.94,9.653 0.94,12.161 C0.94,14.669 1.842,16.132 3.8,16.132 Z M3.8,14.911 C2.821,14.911 2.48,14.119 2.48,12.854 L2.48,11.468 C2.48,10.203 2.821,9.411 3.8,9.411 C4.779,9.411 5.12,10.203 5.12,11.468 L5.12,12.854 C5.12,14.119 4.779,14.911 3.8,14.911 Z M8.739,16.121 C9.344,16.121 9.619,15.78 9.619,15.318 L9.619,15.12 C9.619,14.647 9.344,14.306 8.739,14.306 C8.145,14.306 7.859,14.647 7.859,15.12 L7.859,15.318 C7.859,15.78 8.145,16.121 8.739,16.121 Z M13.689,16.132 C15.482,16.132 16.494,15.186 16.494,13.899 C16.494,12.909 15.889,12.282 14.976,12.029 L14.976,11.941 C15.735,11.666 16.263,11.072 16.263,10.181 C16.263,9.015 15.339,8.19 13.689,8.19 C12.039,8.19 11.115,9.015 11.115,10.181 C11.115,11.072 11.643,11.666 12.402,11.941 L12.402,12.029 C11.489,12.282 10.884,12.909 10.884,13.899 C10.884,15.186 11.896,16.132 13.689,16.132 Z M13.689,14.999 C12.864,14.999 12.391,14.592 12.391,13.91 L12.391,13.679 C12.391,12.997 12.864,12.59 13.689,12.59 C14.514,12.59 14.987,12.997 14.987,13.679 L14.987,13.91 C14.987,14.592 14.514,14.999 13.689,14.999 Z M13.689,11.512 C12.919,11.512 12.49,11.138 12.49,10.5 L12.49,10.324 C12.49,9.697 12.919,9.323 13.689,9.323 C14.459,9.323 14.888,9.697 14.888,10.324 L14.888,10.5 C14.888,11.138 14.459,11.512 13.689,11.512 Z M18.672,16 L17.198,16 L19.156,13.085 L17.242,10.258 L18.848,10.258 L20.036,12.161 L20.069,12.161 L21.246,10.258 L22.753,10.258 L20.806,13.107 L22.764,16 L21.169,16 L19.948,13.998 L19.904,13.998 L18.672,16 Z"})},{id:6,value:.5,label:"0.5x",path:rd.a.createElement("path",{fill:"#fff",d:"M3.8,16.132 C5.758,16.132 6.66,14.669 6.66,12.161 C6.66,9.653 5.758,8.19 3.8,8.19 C1.842,8.19 0.94,9.653 0.94,12.161 C0.94,14.669 1.842,16.132 3.8,16.132 Z M3.8,14.911 C2.821,14.911 2.48,14.119 2.48,12.854 L2.48,11.468 C2.48,10.203 2.821,9.411 3.8,9.411 C4.779,9.411 5.12,10.203 5.12,11.468 L5.12,12.854 C5.12,14.119 4.779,14.911 3.8,14.911 Z M8.739,16.121 C9.344,16.121 9.619,15.78 9.619,15.318 L9.619,15.12 C9.619,14.647 9.344,14.306 8.739,14.306 C8.145,14.306 7.859,14.647 7.859,15.12 L7.859,15.318 C7.859,15.78 8.145,16.121 8.739,16.121 Z M16.054,8.322 L11.533,8.322 L11.247,12.634 L12.435,12.799 C12.666,12.524 13.051,12.227 13.678,12.227 C14.481,12.227 14.965,12.711 14.965,13.503 L14.965,13.591 C14.965,14.427 14.503,14.944 13.645,14.944 C12.809,14.944 12.391,14.482 12.05,13.888 L10.994,14.702 C11.456,15.45 12.215,16.132 13.634,16.132 C15.449,16.132 16.472,15.01 16.472,13.47 C16.472,11.941 15.449,11.039 14.129,11.039 C13.205,11.039 12.831,11.49 12.501,12.15 L12.424,12.15 L12.6,9.576 L16.054,9.576 L16.054,8.322 Z M18.672,16 L17.198,16 L19.156,13.085 L17.242,10.258 L18.848,10.258 L20.036,12.161 L20.069,12.161 L21.246,10.258 L22.753,10.258 L20.806,13.107 L22.764,16 L21.169,16 L19.948,13.998 L19.904,13.998 L18.672,16 Z"})}],selected:4,opened:!1},e.onToggle=e.onToggle.bind(Sv(e)),e.onSpeedSelect=e.onSpeedSelect.bind(Sv(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tv(e,t)}(t,nd["Component"]),n=t,(r=[{key:"onToggle",value:function(){this.setState({opened:!this.state.opened})}},{key:"onSpeedSelect",value:function(e){var t=e.id,n=e.value;v.send({message:"Playback speed",data:{category:"Interaction",item:"playbackSpeed",action:"change",speed:n}}),(0,this.props.setPlaybackSpeed)(n),this.setState({opened:!1,selected:t})}},{key:"render",value:function(){var e=this.state,t=e.opened,n=e.visible,r=e.speeds,o=e.selected,a=this.props,i=a.playerSize,s=a.smallResolution;return rd.a.createElement(yv,{opened:t,visible:n,speeds:r,selected:o,onSpeedSelect:this.onSpeedSelect,onToggle:this.onToggle,icon:this.icon,playerSize:i,smallResolution:s})}},{key:"icon",get:function(){var e=this.state,t=e.speeds,n=e.selected,r=t.find(function(e){return e.id===n});return rd.a.createElement("svg",{preserveAspectRatio:"xMidYMid",width:"24",height:"24",viewBox:"0 0 24 24"},r.path)}}])&&bv(n.prototype,r),o&&bv(n,o),t}();var Cv=Object(cd.b)(function(e){return{playerSize:Object(y.b)(e),smallResolution:Object(y.d)(e)}},function(e){return{setPlaybackSpeed:Object(pd.bindActionCreators)(Z.d,e)}})(Ov);function wv(e){return(wv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pv(e,t){return!t||"object"!==wv(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Iv(e){return(Iv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lv(e,t){return(Lv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rv(e){var t=e.label,n=t.text,r=t.suffix,o=t.bitrate;return o?rd.a.createElement(rd.a.Fragment,null,rd.a.createElement("strong",null,n),o,rd.a.createElement("strong",null,r)):rd.a.createElement(rd.a.Fragment,null,rd.a.createElement("strong",null,n),r)}Rv.propTypes={label:sd.a.shape({text:sd.a.string.isRequired,suffix:sd.a.string,bitrate:sd.a.string})};var Av=function(e){var t=e.qualities,n=e.onQualitySelect,r=e.visible,o=t.findIndex(function(e){return e.selected});return rd.a.createElement(Ed,{className:"list select",visible:r,ariaLabel:"Quality, press Up and Down to browse and Enter to select",activeIndex:o},t.map(function(e){return rd.a.createElement("button",{type:"button",onClick:function(){return n(e)},key:e.id,className:ld()("trigger",{active:e.selected}),onKeyDown:function(t){"Enter"===t.key&&n(e)}},rd.a.createElement(Rv,{label:-1===e.id?{text:Rp.getText(e.label.text)}:e.label}))}))};Av.defaultProps={qualities:[],onQualitySelect:function(){},visible:!1},Av.propTypes={qualities:sd.a.arrayOf(sd.a.shape({id:sd.a.number.isRequired,label:sd.a.object.isRequired,height:sd.a.number,selected:sd.a.bool})),onQualitySelect:sd.a.func,visible:sd.a.bool};var kv=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Pv(this,Iv(t).call(this,e))).trigger=Object(nd.createRef)(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lv(e,t)}(t,nd["Component"]),n=t,(r=[{key:"isHD",value:function(){var e=this.props.qualities.find(function(e){return e.selected});return e&&e.height>=720}},{key:"render",value:function(){var e=rd.a.createElement("svg",{preserveAspectRatio:"xMidYMid",width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{d:"M20.000,18.000 C20.000,18.000 4.000,18.000 4.000,18.000 C3.448,18.000 3.000,17.552 3.000,17.000 C3.000,17.000 3.000,7.000 3.000,7.000 C3.000,6.448 3.448,6.000 4.000,6.000 C4.000,6.000 20.000,6.000 20.000,6.000 C20.552,6.000 21.000,6.448 21.000,7.000 C21.000,7.000 21.000,17.000 21.000,17.000 C21.000,17.552 20.552,18.000 20.000,18.000 ZM11.372,8.957 C11.372,8.957 9.725,8.957 9.725,8.957 C9.725,8.957 9.725,11.206 9.725,11.206 C9.725,11.206 7.820,11.206 7.820,11.206 C7.820,11.206 7.820,8.957 7.820,8.957 C7.820,8.957 6.172,8.957 6.172,8.957 C6.172,8.957 6.172,15.025 6.172,15.025 C6.172,15.025 7.820,15.025 7.820,15.025 C7.820,15.025 7.820,12.551 7.820,12.551 C7.820,12.551 9.725,12.551 9.725,12.551 C9.725,12.551 9.725,15.025 9.725,15.025 C9.725,15.025 11.372,15.025 11.372,15.025 C11.372,15.025 11.372,8.957 11.372,8.957 ZM17.040,9.704 C16.510,9.206 15.758,8.957 14.784,8.957 C14.784,8.957 12.684,8.957 12.684,8.957 C12.684,8.957 12.684,15.025 12.684,15.025 C12.684,15.025 14.647,15.025 14.647,15.025 C15.657,15.025 16.441,14.751 16.998,14.203 C17.556,13.655 17.835,12.875 17.835,11.862 C17.835,10.921 17.570,10.202 17.040,9.704 ZM14.689,13.680 C14.689,13.680 14.323,13.680 14.323,13.680 C14.323,13.680 14.323,10.281 14.323,10.281 C14.323,10.281 14.801,10.281 14.801,10.281 C15.249,10.281 15.583,10.415 15.803,10.683 C16.023,10.952 16.133,11.364 16.133,11.920 C16.133,12.515 16.017,12.957 15.784,13.246 C15.552,13.535 15.187,13.680 14.689,13.680 Z",fill:"#fff"}));return rd.a.createElement("div",{id:"Quality",className:ld()("quality component shown",{hd:this.isHD()})},rd.a.createElement(hp,{onToggle:this.props.onToggle,placement:"top",opened:this.props.opened,icon:e,ariaLabel:"Quality",label:"Quality",playerHeight:this.props.playerSize.height,smallResolution:this.props.smallResolution},rd.a.createElement(Av,{qualities:this.props.qualities,onQualitySelect:this.props.onQualitySelect,visible:this.props.opened})))}}])&&_v(n.prototype,r),o&&_v(n,o),t}();kv.defaultProps={opened:!1,qualities:[],onQualitySelect:function(){}},kv.propTypes={opened:sd.a.bool,qualities:sd.a.arrayOf(sd.a.shape({id:sd.a.number.isRequired,label:sd.a.object.isRequired,height:sd.a.number,selected:sd.a.bool})),onToggle:sd.a.func.isRequired,onQualitySelect:sd.a.func,playerSize:sd.a.shape({width:sd.a.number,height:sd.a.number}).isRequired,smallResolution:sd.a.bool.isRequired};var Nv=kv;function Dv(e){return(Dv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uv(e){return(Uv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jv(e,t){return(jv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fv=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==Dv(t)&&"function"!=typeof t?xv(e):t}(this,Uv(t).call(this))).state={qualities:[],opened:!1},e.onToggle=e.onToggle.bind(xv(e)),e.onContentUpdate=e.onContentUpdate.bind(xv(e)),e.onAvailableQualitiesChange=e.onAvailableQualitiesChange.bind(xv(e)),e.onQualitySelect=e.onQualitySelect.bind(xv(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jv(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){k.a.on(k.a.types.EVENT,"quality",this.onAvailableQualitiesChange),k.a.on(k.a.types.EVENT,"contentUpdate",this.onContentUpdate)}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.EVENT,"quality",this.onAvailableQualitiesChange),k.a.off(k.a.types.EVENT,"contentUpdate",this.onContentUpdate)}},{key:"onToggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.opened;this.setState({opened:e})}},{key:"onContentUpdate",value:function(){this.setState({qualities:[]})}},{key:"onAvailableQualitiesChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({qualities:e})}},{key:"onQualitySelect",value:function(e){var t=e.id,n=e.label;v.send({message:"Change quality",data:{category:"Interaction",item:"quality",action:"change",quality:n.height}}),k.a.send(k.a.types.COMMAND,"quality",[t]);var r=this.state.qualities.map(function(e){return Object.assign({},e,{selected:e.id===t})});this.setState({opened:!1,qualities:r})}},{key:"render",value:function(){return rd.a.createElement(Nv,{opened:this.state.opened,visible:this.state.visible,qualities:this.state.qualities,onQualitySelect:this.onQualitySelect,onToggle:this.onToggle,playerSize:this.props.playerSize,smallResolution:this.props.smallResolution})}}])&&Mv(n.prototype,r),o&&Mv(n,o),t}();var Vv=Object(cd.b)(function(e){return{playerSize:Object(y.b)(e),smallResolution:Object(y.d)(e)}})(Fv);function Bv(e){var t=e.title,n=e.titleVisible;return rd.a.createElement("div",{id:"Title",className:ld()("title","shown",{"title-shown":n})},rd.a.createElement("h3",null,t))}Bv.defaultProps={title:null,titleVisible:!0},Bv.propTypes={title:sd.a.string,titleVisible:sd.a.bool};var Hv=Bv;function Gv(e){var t=e.title,n=e.titleVisible;return rd.a.createElement(Hv,{title:t,titleVisible:n&&u.a.showtitle&&!!t})}Gv.defaultProps={title:null,titleVisible:!0},Gv.propTypes={title:sd.a.string,titleVisible:sd.a.bool};var qv=Object(cd.b)(function(e){var t=e.content,n=e.settings;return{title:t.title,titleVisible:n.isTitleVisible}})(Gv);function zv(){var e=l.a.getUrl();window.open(e)}function Wv(){return rd.a.createElement("div",{onClick:zv,id:"Logo",className:"logo component shown"},rd.a.createElement("svg",{width:"35",height:"14",viewBox:"0 0 35 14"},rd.a.createElement("path",{fill:"#ffffff",d:"m12.66999,5.59999l2.90499,0l0,-2.79999l-2.90499,0l0,2.79999zm0,5.6l2.90499,0l0,-2.8l-2.90499,0l0,2.8zm4.05999,-4.26597c0,0 1.96,1.40399 1.96,3.28597c0,3.48887 -3.465,3.78 -3.465,3.78l-7.38499,0l0,-2.8l1.89,0l0,-8.39999l-1.96,0l0,-2.8l7.52499,0c0,0 3.395,0.36116 3.395,3.64115c0,2.14798 -1.96,3.29287 -1.96,3.29287zm-16.72998,-6.93401l6.78999,0l0,2.79997l-1.89,0l0,8.40002l1.96,0l0,2.8l-6.78999,0l0,-2.8l1.89,0l0,-8.40002l-1.96,0l0,-2.79997zm34.99997,11.19999l0,2.8l-4.9,0l0,-8.05629l-2.83499,8.05629l-0.07,0l-2.905,-8.03368l0,8.03368l-4.83,0l0,-2.8l1.89,0l0,-8.39999l-1.96,0l0,-2.8l5.53,0l2.275,6.405l2.27499,-6.405l5.46,0l0,2.8l-1.89,0l0,8.39999l1.96,0z"})))}Wv.defaultProps={},Wv.propTypes={};var Kv=Wv;function Yv(e){return e.visible&&rd.a.createElement(Kv,null)}Yv.propTypes={visible:sd.a.bool.isRequired};var Qv=Object(cd.b)(function(e){return{visible:e.logo.showDefaultLogo}})(Yv);function Zv(e){var t=e.url,n=e.clickUrl,r=n?function(){return window.open(n)}:null;return rd.a.createElement("div",{onClick:r,id:"CustomLogo",className:"customlogo component shown"},rd.a.createElement("img",{src:t,alt:""}))}Zv.defaultProps={clickUrl:null},Zv.propTypes={url:sd.a.string.isRequired,clickUrl:sd.a.string};var Xv=Zv;function Jv(e){var t=e.customLogo;if(!t)return null;var n=t.url,r=t.clickUrl;return rd.a.createElement(Xv,{url:n,clickUrl:r})}Jv.defaultProps={customLogo:null},Jv.propTypes={customLogo:sd.a.shape({url:sd.a.string.isRequired,clickUrl:sd.a.string})};var $v=Object(cd.b)(function(e){return{customLogo:e.logo.customLogo}})(Jv);function ey(){k.a.send(k.a.types.UI,"showEmbedOverlay")}function ty(e){return!!e.module&&rd.a.createElement("button",{type:"button",className:"trigger embedCode",tabIndex:"0","aria-label":"Embed code",onClick:function(){return ey()},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),ey())}},rd.a.createElement("i",null),Rp.getText("ui.embed"))}ty.propTypes={module:sd.a.shape({name:sd.a.string.isRequired})};var ny=Object(cd.b)(function(e){return{module:e.share.embed}})(ty);function ry(){k.a.send(k.a.types.UI,"showCopyOverlay")}function oy(e){return!!e.module&&rd.a.createElement("button",{type:"button",className:"trigger copyLink",tabIndex:"0","aria-label":"Copy link",onClick:function(){return ry()},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),ry())}},rd.a.createElement("i",null),Rp.getText("ui.copyLink"))}oy.propTypes={module:sd.a.shape({name:sd.a.string.isRequired})};var ay=Object(cd.b)(function(e){return{module:e.share.copyLink}})(oy);function iy(e){return(iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uy(e){return(uy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ly(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cy(e,t){return(cy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fy=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==iy(t)&&"function"!=typeof t?ly(e):t}(this,uy(t).call(this,e))).showFacebookShareDialog=n.showFacebookShareDialog.bind(ly(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cy(e,t)}(t,nd["Component"]),n=t,(r=[{key:"sendLog",value:function(){v.send({message:"Share",data:{category:"Interaction",item:"share",action:"share",target:"facebook"}})}},{key:"showFacebookShareDialog",value:function(){var e,t,n=this.props,r=n.module,o=n.title,a=r.appId||"",i=r.customUrl||l.a.getUrl(),s=function(e,t,n,r){var o="http://".concat(Ce.config.cdn1,"/facebook_share/close.html"),a=encodeURIComponent(t||""),i=encodeURIComponent(r||""),s=e,u="http://www.facebook.com/sharer.php?s=100&p[summary]=".concat(a,"&p[url]=").concat(s,"&p[title]=").concat(i),l="https://www.facebook.com/dialog/feed?app_id=".concat(n,"&display=popup&redirect_uri=").concat(o,"&description=").concat(a,"&link=").concat(s,"&caption=").concat(i);return""===n?u:l}(i,(e=r.message||"",t=i,e.includes("[link]")?e.replace("[link]",t):e),a,o);this.sendLog(),window.open(s,"_blank","width=560, height=240")}},{key:"render",value:function(){var e=this,t=this.props,n=t.module,r=t.title;return!(!n||!r)&&rd.a.createElement("button",{type:"button",className:"trigger facebook","aria-label":"Facebook share",tabIndex:"0",onClick:this.showFacebookShareDialog,onKeyPress:function(t){"Enter"===t.key&&(t.preventDefault(),e.showFacebookShareDialog())}},rd.a.createElement("i",null),"Facebook")}}])&&sy(n.prototype,r),o&&sy(n,o),t}();fy.defaultProps={module:null,title:""},fy.propTypes={module:sd.a.shape({name:sd.a.string}),title:sd.a.string};var dy=Object(cd.b)(function(e){var t=e.share,n=e.content;return{module:t.facebook,title:n.title}})(fy),py=function(e,t){for(var n in t)e=e.replace(new RegExp("#"+n+"#","gi"),t[n]);return e};function hy(e){return(hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function my(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vy(e){return(vy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gy(e,t){return(gy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var by=Rp.getText("ui.twitterLive"),Ey=Rp.getText("ui.twitterVideo");var Sy=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==hy(t)&&"function"!=typeof t?yy(e):t}(this,vy(t).call(this,e))).showTwitterDialog=n.showTwitterDialog.bind(yy(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gy(e,t)}(t,nd["Component"]),n=t,(r=[{key:"getTwitterUrl",value:function(){var e,t,n,r=this.props,o=r.module,a=r.userName,i=r.title,s=o.customUrl||o.shortenedUrl,u="https://twitter.com/intent/tweet?text=#TEXT#";return o.message?(t=o.message,n=s,e=t.includes("[link]")?t.replace("[link]",n):"".concat(t," ").concat(n)):e=l.a.getType()===l.a.CHANNEL?py(by,{BROADCASTER:a,LINK:s}):py(Ey,{MEDIANAME:i,LINK:s}),u=py(u,{TEXT:encodeURIComponent(e)})}},{key:"sendLog",value:function(){v.send({message:"Share",data:{category:"Interaction",item:"share",action:"share",target:"twitter"}})}},{key:"showTwitterDialog",value:function(){this.sendLog(),window.open(this.getTwitterUrl(),"_blank","width=460, height=300")}},{key:"render",value:function(){var e=this,t=this.props,n=t.module,r=t.title,o=t.userName;return!!(n&&r&&o)&&rd.a.createElement("button",{type:"button",className:"trigger twitter","aria-label":"Twitter share",tabIndex:"0",onClick:this.showTwitterDialog,onKeyPress:function(t){"Enter"===t.key&&(t.preventDefault(),e.showTwitterDialog())}},rd.a.createElement("i",null),"Twitter")}}])&&my(n.prototype,r),o&&my(n,o),t}();Sy.defaultProps={module:null,title:"",userName:""},Sy.propTypes={module:sd.a.shape({name:sd.a.string}),title:sd.a.string,userName:sd.a.string};var Ty=Object(cd.b)(function(e){var t=e.share,n=e.content,r=e.broadcaster;return{module:t.twitter,title:n.title,userName:r.userName}})(Sy),Oy="Share",Cy=rd.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{d:"M16.504,9.975 C15.693,9.975 14.979,9.576 14.529,8.968 C14.529,8.968 9.929,11.766 9.929,11.766 C9.936,11.842 9.952,11.916 9.952,11.995 C9.952,12.164 9.934,12.328 9.902,12.488 C9.902,12.488 14.610,14.974 14.610,14.974 C15.063,14.402 15.752,14.029 16.535,14.029 C17.899,14.029 19.006,15.142 19.006,16.516 C19.006,17.889 17.899,19.003 16.535,19.003 C15.170,19.003 14.064,17.889 14.064,16.516 C14.064,16.373 14.083,16.235 14.106,16.099 C14.106,16.099 9.360,13.593 9.360,13.593 C8.907,14.132 8.238,14.482 7.481,14.482 C6.116,14.482 5.010,13.369 5.010,11.995 C5.010,10.621 6.116,9.508 7.481,9.508 C8.325,9.508 9.069,9.936 9.515,10.586 C9.515,10.586 14.066,7.818 14.066,7.818 C14.052,7.708 14.033,7.600 14.033,7.487 C14.033,6.114 15.140,5.001 16.504,5.001 C17.868,5.001 18.975,6.114 18.975,7.487 C18.975,8.861 17.868,9.975 16.504,9.975 Z",fill:"#fff",fillRule:"evenodd"}));function wy(e){var t=e.onToggle,n=e.opened,r=e.placement,o=e.playerSize,a=e.smallResolution;return rd.a.createElement("div",{className:"share component"},rd.a.createElement(hp,{onToggle:t,placement:r,opened:n,icon:Cy,ariaLabel:Oy,className:"share-popover",label:Oy,playerHeight:o.height,smallResolution:a},rd.a.createElement(Ed,{className:"list select",ariaLabel:"Share, press Up and Down to select where to share"},rd.a.createElement(dy,null),rd.a.createElement(Ty,null),rd.a.createElement(ay,null),rd.a.createElement(ny,null))))}wy.defaultProps={opened:!1},wy.propTypes={opened:sd.a.bool,onToggle:sd.a.func.isRequired,placement:sd.a.string.isRequired,playerSize:sd.a.shape({width:sd.a.number,height:sd.a.number}).isRequired,smallResolution:sd.a.bool.isRequired};var _y=wy;function Py(e){return(Py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Iy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ly(e){return(Ly=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ry(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ay(e,t){return(Ay=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ky=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==Py(t)&&"function"!=typeof t?Ry(e):t}(this,Ly(t).call(this))).state={opened:!1},e.onToggle=e.onToggle.bind(Ry(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ay(e,t)}(t,nd["Component"]),n=t,(r=[{key:"onToggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.opened;this.setState({opened:e})}},{key:"render",value:function(){var e=this.state.opened,t=this.props,n=t.placement,r=t.playerSize,o=t.smallResolution;return rd.a.createElement(_y,{opened:e,onToggle:this.onToggle,placement:n,playerSize:r,smallResolution:o})}}])&&Iy(n.prototype,r),o&&Iy(n,o),t}();ky.defaultProps={placement:"top"},ky.propTypes={placement:sd.a.string,playerSize:sd.a.shape({width:sd.a.number,height:sd.a.number}).isRequired,smallResolution:sd.a.bool.isRequired};var Ny=Object(cd.b)(function(e){return{playerSize:Object(y.b)(e),smallResolution:Object(y.d)(e)}})(ky);function Dy(e){if(i.a.ios){var t=e.contentEditable,n=e.readOnly;e.contentEditable=!0,e.readOnly=!0;var r=document.createRange();r.selectNodeContents(e);var o=window.getSelection();o.removeAllRanges(),o.addRange(r),e.setSelectionRange(0,999999),e.contentEditable=t,e.readOnly=n}else e.select();document.execCommand("copy")}function My(e){var t=document.createElement("input");t.setAttribute("value",e),t.setAttribute("style","position: absolute; left: -9999px; top: -9999px;"),document.body.appendChild(t),Dy(t),document.body.removeChild(t)}function Uy(){return(Uy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xy(e){return(xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fy(e){return(Fy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function By(e,t){return(By=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hy=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=(n=function(e,t){return!t||"object"!==xy(t)&&"function"!=typeof t?Vy(e):t}(this,Fy(t).call(this,e))).props.popoverRef;return n.popoverRef=r||Object(nd.createRef)(),n.onJumpToChannelClick=n.onJumpToChannelClick.bind(Vy(n)),n.onSendLogClick=n.onSendLogClick.bind(Vy(n)),n.onCopyUsernameClick=n.onCopyUsernameClick.bind(Vy(n)),n.onCopyMediaIdClick=n.onCopyMediaIdClick.bind(Vy(n)),n.onDebugClick=n.onDebugClick.bind(Vy(n)),n.onDebugConsoleClick=n.onDebugConsoleClick.bind(Vy(n)),n.onInfoClick=n.onInfoClick.bind(Vy(n)),n.onHideClick=n.onHideClick.bind(Vy(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&By(e,t)}(t,nd["PureComponent"]),n=t,(r=[{key:"onJumpToChannelClick",value:function(){window.open(l.a.getUrl(),"_blank").focus()}},{key:"onSendLogClick",value:function(){var e=this.props.onCloseRequest;k.a.send(k.a.types.EVENT,"showReportIssueDialog"),e()}},{key:"onCopyUsernameClick",value:function(){var e=this.props,t=e.broadcasterUserName,n=e.onCloseRequest;My(t),n(),k.a.send(k.a.types.UI,"showMessage",'"'.concat(t,'"  copied to clipboard.'))}},{key:"onCopyMediaIdClick",value:function(){var e=this.props.onCloseRequest,t=l.a.id();My(t),e(),k.a.send(k.a.types.UI,"showMessage",'"'.concat(t,'"  copied to clipboard.'))}},{key:"onDebugClick",value:function(){var e=this.props;(0,e.toggleDebug)(!e.debugMode)}},{key:"onDebugConsoleClick",value:function(){var e=this.props,t=e.onCloseRequest;(0,e.toggleDebugOverlay)(),t()}},{key:"onInfoClick",value:function(){var e=this.props,t=e.onCloseRequest;(0,e.toggleStatsOverlay)(),t()}},{key:"onHideClick",value:function(){(0,this.props.toggleHiddenContextMenuItems)(!1)}},{key:"getListItems",value:function(){var e=this.props,t=e.broadcasterBenefits,n=e.statsOverlayVisible,r=e.debugOverlayVisible,o=[];t.includes("fullbranding")||o.push(rd.a.createElement("button",{type:"button",className:"trigger",onClick:this.onJumpToChannelClick,key:"channelPage"},Rp.getText("ui.contextMenu.channelPage")));var a=n?"infoOff":"infoOn",i=r?Rp.getText("ui.contextMenu.debugConsoleOff"):Rp.getText("ui.contextMenu.debugConsoleOn");if(o.push(rd.a.createElement("button",{type:"button",className:"trigger",onClick:this.onSendLogClick,key:"sendLog"},Rp.getText("ui.contextMenu.sendLog")),rd.a.createElement("button",{type:"button",className:"trigger",onClick:this.onInfoClick,key:"info"},Rp.getText("ui.contextMenu.".concat(a))),rd.a.createElement("button",{type:"button",className:"trigger",onClick:this.onDebugConsoleClick,key:"debugconsole"},i)),!this.props.showHiddenContextMenuItems)return o;var s=[],u=this.props,l=u.broadcasterUserName,c=u.debugMode;l&&s.push(rd.a.createElement("button",{type:"button",className:"trigger",onClick:this.onCopyUsernameClick,key:"copyusername"},Rp.getText("ui.contextMenu.copyusername")));var f=c?Rp.getText("ui.contextMenu.debugOff"):Rp.getText("ui.contextMenu.debugOn");return s.push(rd.a.createElement("button",{type:"button",className:"trigger",onClick:this.onCopyMediaIdClick,key:"copycidvid"},Rp.getText("ui.contextMenu.copycidvid")),rd.a.createElement("button",{type:"button",className:"trigger",onClick:this.onDebugClick,key:"debug"},f),rd.a.createElement("button",{type:"button",className:"trigger",onClick:this.onHideClick,key:"specialitems"},Rp.getText("ui.contextMenu.hideSpecialItems"))),[].concat(o,s)}},{key:"render",value:function(){var e=this.props,t=e.position,n=e.opened,r=e.onCloseRequest,o=e.playerSize,a=e.smallResolution,i=new DOMRect(t.x,t.y,0,0);return rd.a.createElement(ip,{target:i,onCloseRequest:r,opened:n,ref:this.popoverRef,placement:"none",playerHeight:o.height,smallResolution:a},rd.a.createElement(Ed,{className:"list context-menu",visible:n,ariaLabel:""},this.getListItems()))}}])&&jy(n.prototype,r),o&&jy(n,o),t}();Hy.defaultProps={opened:!1,broadcasterUserName:null,popoverRef:null,statsOverlayVisible:!1,debugOverlayVisible:!1},Hy.propTypes={showHiddenContextMenuItems:sd.a.bool.isRequired,broadcasterUserName:sd.a.string,broadcasterBenefits:sd.a.arrayOf(sd.a.string).isRequired,toggleHiddenContextMenuItems:sd.a.func.isRequired,debugMode:sd.a.bool.isRequired,toggleDebug:sd.a.func.isRequired,position:sd.a.shape({x:sd.a.number,y:sd.a.number}).isRequired,opened:sd.a.bool,onCloseRequest:sd.a.func.isRequired,popoverRef:sd.a.shape({current:sd.a.instanceOf(Element)}),toggleStatsOverlay:sd.a.func.isRequired,toggleDebugOverlay:sd.a.func.isRequired,statsOverlayVisible:sd.a.bool,debugOverlayVisible:sd.a.bool,playerSize:sd.a.shape({width:sd.a.number,height:sd.a.number}).isRequired,smallResolution:sd.a.bool.isRequired};var Gy=Object(nd.forwardRef)(function(e,t){return rd.a.createElement(Hy,Uy({},e,{popoverRef:t}))}),qy=n(111);function zy(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{type:qy.a.toggleHiddenContextMenuItems,payload:{isVisible:e}}}function Wy(e){return(Wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ky(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yy(e){return(Yy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zy(e,t){return(Zy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xy=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Wy(t)&&"function"!=typeof t?Qy(e):t}(this,Yy(t).call(this,e))).popoverRef=Object(nd.createRef)(),n.state={opened:!1,position:{x:0,y:0}},n.keyCache="",n.keyCacheTick=void 0,n.unsubscribe=[],n.onCloseRequest=n.onCloseRequest.bind(Qy(n)),n.onContextMenu=n.onContextMenu.bind(Qy(n)),n.onKeyDown=n.onKeyDown.bind(Qy(n)),n.onDocumentClick=n.onDocumentClick.bind(Qy(n)),n.onToggleStatsOverlay=n.onToggleStatsOverlay.bind(Qy(n)),n.onToggleDebugOverlay=n.onToggleDebugOverlay.bind(Qy(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zy(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){var e,t,n,r,o,a,s=this,u=this.props,l=u.clickTarget,c=u.longTouchTimeInMs;l.addEventListener("keydown",this.onKeyDown),this.unsubscribe.push(function(){return l.removeEventListener("keydown",s.onKeyDown)}),i.a.ios?(document.addEventListener("touchstart",this.onDocumentClick),this.unsubscribe.push(function(){return document.removeEventListener("touchstart",s.onDocumentClick)}),this.unsubscribe.push((e=l,t=this.onContextMenu,n=c,o=function(e){clearTimeout(r),r=setTimeout(function(){return t(e)},n)},a=function(){return clearTimeout(r)},e.addEventListener("touchstart",o),e.addEventListener("touchmove",a),e.addEventListener("touchend",a),function(){clearTimeout(r),e.removeEventListener("touchstart",o),e.removeEventListener("touchmove",a),e.removeEventListener("touchend",a)}))):(document.addEventListener("click",this.onDocumentClick),this.unsubscribe.push(function(){return document.removeEventListener("click",s.onDocumentClick)}),l.addEventListener("contextmenu",this.onContextMenu),this.unsubscribe.push(function(){return l.removeEventListener("contextmenu",s.onContextMenu)}))}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.state.opened;if(n!==t.opened)return!0;if(!n)return!1;var r=this.state.position,o=r.x,a=r.y;if(o!==t.position.x||a!==t.position.y)return!0;var i=this.props,s=i.clickTarget,u=i.showHiddenContextMenuItems,l=i.broadcasterUserName,c=i.broadcasterBenefits,f=i.toggleHiddenContextMenuItems,d=i.debugMode,p=i.toggleDebug;return s!==e.clickTarget||u!==e.showHiddenContextMenuItems||l!==e.broadcasterUserName||c!==e.broadcasterBenefits||f!==e.toggleHiddenContextMenuItems||d!==e.debugMode||p!==e.toggleDebug}},{key:"componentWillUnmount",value:function(){this.unsubscribe.forEach(function(e){return e()}),this.unsubscribe=[],clearTimeout(this.keyCacheTick),this.keyCache=""}},{key:"onDocumentClick",value:function(e){var t=e.button,n=e.target;if(2!==t){var r=this.popoverRef.current;r&&!r.contains(n)&&this.setState({opened:!1})}}},{key:"onCloseRequest",value:function(){this.setState({opened:!1})}},{key:"onContextMenu",value:function(e){if(!(window.getSelection().toString().length>0)){e.preventDefault();var t="clientX"in e?e.clientX:e.touches[0].clientX,n="clientY"in e?e.clientY:e.touches[0].clientY;this.setState({opened:!0,position:{x:t,y:n}})}}},{key:"onKeyDown",value:function(e){var t=this,n=e.key,r=this.props,o=r.magicWords,a=r.keyCacheLifetime,i=r.toggleHiddenContextMenuItems;this.keyCache+=n,o.some(function(e){return n=e,r=t.keyCache,n.toLowerCase()===r.toLowerCase();var n,r})&&i(!0),clearTimeout(this.keyCacheTick),this.keyCacheTick=setTimeout(function(){t.keyCache=""},a)}},{key:"onToggleStatsOverlay",value:function(){var e=this.props;(0,e.toggleStatsOverlay)(!e.statsOverlayVisible)}},{key:"onToggleDebugOverlay",value:function(){var e=this.props;(0,e.toggleDebugOverlay)(!e.debugOverlayVisible)}},{key:"render",value:function(){var e=this.props,t=e.showHiddenContextMenuItems,n=e.broadcasterUserName,r=e.broadcasterBenefits,o=e.toggleHiddenContextMenuItems,a=e.debugMode,i=e.toggleDebug,s=e.statsOverlayVisible,u=e.debugOverlayVisible,l=e.playerSize,c=e.smallResolution,f=this.state,d=f.opened,p=f.position;return rd.a.createElement(Gy,{ref:this.popoverRef,opened:d,position:p,showHiddenContextMenuItems:t,broadcasterUserName:n,broadcasterBenefits:r,toggleHiddenContextMenuItems:o,debugMode:a,toggleDebug:i,onCloseRequest:this.onCloseRequest,toggleStatsOverlay:this.onToggleStatsOverlay,toggleDebugOverlay:this.onToggleDebugOverlay,statsOverlayVisible:s,debugOverlayVisible:u,playerSize:l,smallResolution:c})}}])&&Ky(n.prototype,r),o&&Ky(n,o),t}();Xy.defaultProps={clickTarget:document.getElementById("PlayerOne"),showHiddenContextMenuItems:!1,broadcasterUserName:null,broadcasterBenefits:[],magicWords:["IDKFA","STATS","DEBUG"],keyCacheLifetime:1e3,longTouchTimeInMs:300,toggleStatsOverlay:function(){},statsOverlayVisible:!1,debugOverlayVisible:!1},Xy.propTypes={clickTarget:sd.a.instanceOf(HTMLElement),showHiddenContextMenuItems:sd.a.bool,broadcasterUserName:sd.a.string,broadcasterBenefits:sd.a.arrayOf(sd.a.string),toggleHiddenContextMenuItems:sd.a.func.isRequired,debugMode:sd.a.bool.isRequired,toggleDebug:sd.a.func.isRequired,magicWords:sd.a.arrayOf(sd.a.string),keyCacheLifetime:sd.a.number,longTouchTimeInMs:sd.a.number,toggleStatsOverlay:sd.a.func,statsOverlayVisible:sd.a.bool,debugOverlayVisible:sd.a.bool,playerSize:sd.a.shape({width:sd.a.number,height:sd.a.number}).isRequired,smallResolution:sd.a.bool.isRequired};var Jy=Object(cd.b)(function(e){var t=e.contextMenu,n=e.broadcaster,r=e.settings,o=e.player;return{showHiddenContextMenuItems:t.showHiddenContextMenuItems,broadcasterUserName:n.userName,broadcasterBenefits:n.benefits,debugMode:r.debug,statsOverlayVisible:o.statsOverlayVisible,debugOverlayVisible:o.debugOverlayVisible,playerSize:Object(y.b)(e),smallResolution:Object(y.d)(e)}},function(e){return{toggleHiddenContextMenuItems:Object(pd.bindActionCreators)(zy,e),toggleDebug:Object(pd.bindActionCreators)(Q,e),toggleStatsOverlay:Object(pd.bindActionCreators)(Z.j,e),toggleDebugOverlay:Object(pd.bindActionCreators)(Z.g,e)}})(Xy);function $y(e){var t=e.message,n=e.type;return rd.a.createElement("div",{className:ld()("messageScreen",{"messageScreen--success":"success"===n,"messageScreen--warning":"warning"===n})},rd.a.createElement("div",{className:"messageScreen__text"},t))}$y.defaultProps={type:"default"},$y.propTypes={message:sd.a.string.isRequired,type:sd.a.oneOf(["default","warning","success"])};var eg=$y;function tg(e){return(tg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ng(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rg(e){return(rg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function og(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ag(e,t){return(ag=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ig=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==tg(t)&&"function"!=typeof t?og(e):t}(this,rg(t).call(this,e))).state={message:null,type:"default"},n.tick=null,n.showMessageHandler=n.showMessageHandler.bind(og(n)),n.showPermanentMessageHandler=n.showPermanentMessageHandler.bind(og(n)),n.showSuccessMessageHandler=n.showSuccessMessageHandler.bind(og(n)),n.showWarningMessageHandler=n.showWarningMessageHandler.bind(og(n)),n.hideMessageHandler=n.hideMessageHandler.bind(og(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ag(e,t)}(t,nd["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){k.a.on(k.a.types.UI,"showMessage",this.showMessageHandler),k.a.on(k.a.types.UI,"showPermanentMessage",this.showPermanentMessageHandler),k.a.on(k.a.types.UI,"showSuccessMessage",this.showSuccessMessageHandler),k.a.on(k.a.types.UI,"showWarningMessage",this.showWarningMessageHandler),k.a.on(k.a.types.UI,"hideMessage",this.hideMessageHandler)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.tick),this.tick=null,k.a.off(k.a.types.UI,"showMessage",this.showMessageHandler),k.a.off(k.a.types.UI,"showPermanentMessage",this.showPermanentMessageHandler),k.a.off(k.a.types.UI,"showSuccessMessage",this.showSuccessMessageHandler),k.a.off(k.a.types.UI,"showWarningMessage",this.showWarningMessageHandler),k.a.off(k.a.types.UI,"hideMessage",this.hideMessageHandler)}},{key:"setMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";e&&k.a.send(k.a.types.UI,"closeOverlays"),this.setState({message:e,type:t})}},{key:"setPermanentMessage",value:function(e,t){this.setMessage(e,t)}},{key:"setTemporaryMessage",value:function(e,t){var n=this;this.setMessage(e,t),clearTimeout(this.tick),this.tick=setTimeout(function(){return n.setMessage()},3e3)}},{key:"showMessageHandler",value:function(e){this.setTemporaryMessage(e)}},{key:"showSuccessMessageHandler",value:function(e){this.setTemporaryMessage(e,"success")}},{key:"showWarningMessageHandler",value:function(e){this.setTemporaryMessage(e,"warning")}},{key:"showPermanentMessageHandler",value:function(e){this.setPermanentMessage(e)}},{key:"hideMessageHandler",value:function(){this.setMessage()}},{key:"render",value:function(){var e=this.state,t=e.message,n=e.type;return null===t?null:rd.a.createElement(eg,{message:t,type:n})}}])&&ng(n.prototype,r),o&&ng(n,o),t}();ig.defaultProps={},ig.propTypes={};var sg=ig,ug=rd.a.createElement("svg",{width:"64",height:"64",viewBox:"0 0 50 50"},rd.a.createElement("path",{d:"M36.9168859,32.3993173 C36.9711219,32.6286098 36.9988797,32.863065 36.9996448,33.0983369 C36.9996448,35.1919434 34.9299621,37.037355 32.376868,37.2206534 C29.8237739,37.4039519 27.7540912,35.8540271 27.7540912,33.7614561 C27.7540912,31.6688851 29.8237739,29.8220928 32.376868,29.6405203 C33.2273851,29.5721727 34.0817651,29.7161872 34.8589244,30.0588965 L34.8631867,17.5096839 L19.2277941,19.680269 L19.2277941,35.1653634 L19.1453904,35.1653634 C19.1997113,35.3945248 19.2274704,35.628875 19.2281493,35.8640378 C19.2281493,37.9572992 17.1623737,39.8023655 14.6138971,39.9853187 C12.0654204,40.168272 10,38.6200732 10,36.527157 C10,34.4342408 12.0657756,32.5891745 14.6138971,32.405876 C15.4675063,32.3369624 16.3249936,32.4828303 17.1037676,32.8294301 L17.1037676,19.9750653 L17.1037676,19.9750653 L17.1037676,13.7615586 L36.994317,11 L36.994317,11.6903896 L37,32.3993173 L36.9168859,32.3993173 L36.9168859,32.3993173 Z",fill:"#FFFFFF",opacity:"0.3"}));function lg(){return rd.a.createElement("div",{id:"AudioOnly",className:"container component"},rd.a.createElement("div",{className:"screen-container inline"},rd.a.createElement("div",{className:"screen-content center"},rd.a.createElement("div",{className:"main-icon"},ug),rd.a.createElement("h3",null,"Audio only"))))}lg.defaultProps={},lg.propTypes={};var cg=lg;function fg(e){return e.audioOnly&&rd.a.createElement(cg,null)}fg.defaultProps={audioOnly:!1},fg.propTypes={audioOnly:sd.a.bool};var dg=Object(cd.b)(function(e){return{audioOnly:e.content.audioOnly}})(fg);function pg(e){return(pg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mg(e){return(mg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yg(e,t){return(yg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gg=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==pg(t)&&"function"!=typeof t?vg(e):t}(this,mg(t).call(this,e))).state={visible:!1},n.onTransitionEnd=n.onTransitionEnd.bind(vg(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yg(e,t)}(t,nd["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){var e=this;requestAnimationFrame(function(){e.setState({visible:!0})})}},{key:"componentDidUpdate",value:function(){var e=this;this.state.visible||requestAnimationFrame(function(){e.setState({visible:!0})})}},{key:"onTransitionEnd",value:function(){(0,this.props.onAnimationEnd)()}},{key:"render",value:function(){var e=this.props.type,t=this.state.visible;return rd.a.createElement("div",{id:"StatusAnimation",className:ld()("statusAnimation","component",{shown:t})},rd.a.createElement("div",{onTransitionEnd:this.onTransitionEnd,className:ld()("icon","active",{shown:t,playAnim:"play"===e,pauseAnim:"pause"===e})}))}}])&&hg(n.prototype,r),o&&hg(n,o),t}();gg.defaultProps={onAnimationEnd:function(){}},gg.propTypes={type:sd.a.oneOf(["play","pause"]).isRequired,onAnimationEnd:sd.a.func};var bg=gg;function Eg(e){return(Eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tg(e){return(Tg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Og(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cg(e,t){return(Cg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wg=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Eg(t)&&"function"!=typeof t?Og(e):t}(this,Tg(t).call(this,e))).state={animationType:null},n.onAnimationEnd=n.onAnimationEnd.bind(Og(n)),n.onShowStatusAnimation=n.onShowStatusAnimation.bind(Og(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cg(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){k.a.on(k.a.types.UI,"showStatusAnimation",this.onShowStatusAnimation)}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.UI,"showStatusAnimation",this.onShowStatusAnimation)}},{key:"onAnimationEnd",value:function(){this.setState({animationType:null})}},{key:"onShowStatusAnimation",value:function(e){this.setState({animationType:e})}},{key:"render",value:function(){var e=this.props.smallResolution,t=this.state.animationType;return!e&&t&&rd.a.createElement(bg,{type:t,onAnimationEnd:this.onAnimationEnd})}}])&&Sg(n.prototype,r),o&&Sg(n,o),t}();wg.defaultProps={},wg.propTypes={smallResolution:sd.a.bool.isRequired};var _g=Object(cd.b)(function(e){return{smallResolution:Object(y.d)(e)}})(wg);function Pg(){return rd.a.createElement("div",{id:"Spinner",className:"spinner"},rd.a.createElement("div",{className:"spinnerAnimation"}))}Pg.defaultProps={},Pg.propTypes={};var Ig=Pg;function Lg(e){return(Lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ag(e){return(Ag=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ng(e,t){return(Ng=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dg=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Lg(t)&&"function"!=typeof t?kg(e):t}(this,Ag(t).call(this,e))).state={visible:!1},n.onShowSpinner=n.onShowSpinner.bind(kg(n)),n.onHideSpinner=n.onHideSpinner.bind(kg(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ng(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){k.a.on(k.a.types.UI,"showSpinner",this.onShowSpinner),k.a.on(k.a.types.UI,"hideSpinner",this.onHideSpinner)}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.UI,"showSpinner",this.onShowSpinner),k.a.off(k.a.types.UI,"hideSpinner",this.onHideSpinner)}},{key:"onShowSpinner",value:function(){this.setState({visible:!0})}},{key:"onHideSpinner",value:function(){this.setState({visible:!1})}},{key:"render",value:function(){return this.state.visible&&rd.a.createElement(Ig,null)}}])&&Rg(n.prototype,r),o&&Rg(n,o),t}();Dg.defaultProps={},Dg.propTypes={};var Mg=Dg;function Ug(e){var t=e.forcedUrl;return t?rd.a.createElement(eg,{message:t}):null}Ug.propTypes={forcedUrl:sd.a.string},Ug.defaultProps={forcedUrl:""};var xg=Object(cd.b)(function(e){return{forcedUrl:e.provider.forcedUrl}})(Ug);function jg(e){return(jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vg(e,t){return!t||"object"!==jg(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Bg(e){return(Bg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hg(e,t){return(Hg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gg={passwordlock:"PasswordLock",hashlock:"Hashlock",offair:"OffairContainer",geolock:"Geolock",reject:"Ban",flash:"Flash",iplock:"Iplock",nonexistent:"NonExistent",sessionauthlock:"UnAuthorized",unsupported:"Unsupported",referrerlock:"Referrerlock",viewerhourlimitlock:"ViewerHourLimitlock",notUUMF:"NotUUMF"},qg=Object(s.a)("ui/components/LockContainer"),zg=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Vg(this,Bg(t).call(this,e))).state={LockComponent:null,loadedLockType:""},n.appendTarget=document.getElementById("ScreensContainer"),n}var r,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hg(e,t)}(t,nd["Component"]),r=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.lockType!==t.loadedLockType?{LockComponent:null,loadedLockType:""}:null}}],(o=[{key:"loadLock",value:function(e){var t=this,r=Gg[e];Promise.resolve().then(function(){var o=[n(346)("./".concat(r))];(function(n){t.setState({LockComponent:n.default,loadedLockType:e})}).apply(null,o)}).catch(function(e){qg.warn("could not load the requested lock",e)})}},{key:"render",value:function(){var e=this.state.LockComponent,t=this.props,n=t.lockType,r=t.lockData;return n&&!e&&this.loadLock(n),rd.a.createElement(xd,{appendTarget:this.appendTarget},n&&e&&rd.a.createElement("div",{className:"screen-container"},rd.a.createElement("div",{className:"screen-content"},rd.a.createElement(e,r))))}}])&&Fg(r.prototype,o),a&&Fg(r,a),t}();var Wg=Object(cd.b)(function(e){var t=e.ums;return{lockType:t.lock.type,lockData:t.lock.data}})(zg);function Kg(e){var t=e.title,n=e.titleVisible,r=e.onPlayRequest,o=e.contentLabel;return rd.a.createElement("div",{id:"PlayScreen",className:"playScreen component",onClick:function(){r()},onKeyPress:function(e){"Enter"===e.key&&r()}},rd.a.createElement("button",{className:"play-icon trigger","aria-label":o,type:"button",tabIndex:"0"},rd.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",width:"36",height:"36",viewBox:"0 0 36 36"},rd.a.createElement("path",{d:"M18.001,32.000 C10.261,32.000 3.987,25.732 3.987,18.000 C3.987,10.268 10.261,4.000 18.001,4.000 C25.741,4.000 32.015,10.268 32.015,18.000 C32.015,25.732 25.741,32.000 18.001,32.000 ZM18.001,7.000 C11.919,7.000 6.989,11.925 6.989,18.000 C6.989,24.076 11.919,29.001 18.001,29.001 C24.083,29.001 29.013,24.076 29.013,18.000 C29.013,11.925 24.083,7.000 18.001,7.000 ZM22.212,18.765 C22.212,18.765 16.236,22.656 16.236,22.656 C15.540,23.108 14.972,22.777 14.973,21.917 C14.973,21.917 14.979,14.066 14.979,14.066 C14.979,13.208 15.551,12.871 16.250,13.318 C16.250,13.318 22.206,17.130 22.206,17.130 C22.905,17.577 22.907,18.313 22.212,18.765 Z",fillRule:"evenodd",fill:"#fff"}))),n&&rd.a.createElement("div",{className:"title"},t))}Kg.defaultProps={titleVisible:!1,onPlayRequest:function(){},contentLabel:""},Kg.propTypes={title:sd.a.string.isRequired,titleVisible:sd.a.bool,onPlayRequest:sd.a.func,contentLabel:sd.a.string};var Yg=Kg;function Qg(e){return(Qg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xg(e){return(Xg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $g(e,t){return($g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var eb=Object(s.a)("ui/components/PlayScreenContainer"),tb=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Qg(t)&&"function"!=typeof t?Jg(e):t}(this,Xg(t).call(this,e))).state={visible:!1},n.onHidePlayScreen=n.onHidePlayScreen.bind(Jg(n)),n.onShowPlayScreen=n.onShowPlayScreen.bind(Jg(n)),n.onPlayRequest=n.onPlayRequest.bind(Jg(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$g(e,t)}(t,nd["PureComponent"]),n=t,o=[{key:"getDerivedStateFromProps",value:function(e){var t=e.playing;return"string"!=typeof e.title||t?{visible:!1}:u.a.hideplayscreen?{visible:!1}:null}}],(r=[{key:"componentDidMount",value:function(){k.a.on(k.a.types.EVENT,"hidePlayScreen",this.onHidePlayScreen),k.a.on(k.a.types.EVENT,"showPlayScreen",this.onShowPlayScreen)}},{key:"componentDidUpdate",value:function(){var e=this.props.body;e&&(this.state.visible?e.classList.add("autoplay-false"):e.classList.remove("autoplay-false"))}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.EVENT,"hidePlayScreen",this.onHidePlayScreen),k.a.off(k.a.types.EVENT,"showPlayScreen",this.onShowPlayScreen)}},{key:"onHidePlayScreen",value:function(){this.setState({visible:!1})}},{key:"onShowPlayScreen",value:function(){this.setState({visible:!0})}},{key:"onPlayRequest",value:function(){this.setState({visible:!1}),eb.debug("play requested"),v.send({message:"Playback requested",data:{category:"Interaction",item:"playback",action:"requested - by user"}}),u.a.autoplay=!0,k.a.send(k.a.types.COMMAND,"playScreenClicked"),k.a.send(k.a.types.UI,"loading",!0)}},{key:"render",value:function(){if(!this.state.visible)return null;var e=this.props,t=e.title,n=e.titleVisible,r=e.mediaType,o=e.contentLabel,a=[Ca.a.offairImage,Ca.a.offairSlide,Ca.a.offairVideo].includes(r),i=n&&u.a.showtitle&&!a,s="Play ".concat(o);return rd.a.createElement(Yg,{title:t,contentLabel:s,titleVisible:i,onPlayRequest:this.onPlayRequest})}}])&&Zg(n.prototype,r),o&&Zg(n,o),t}();tb.defaultProps={title:null,titleVisible:!0,playing:!1,body:document.getElementById("PlayerOne"),mediaType:null,contentLabel:""},tb.propTypes={title:sd.a.string,titleVisible:sd.a.bool,playing:sd.a.bool,body:sd.a.instanceOf(HTMLElement),mediaType:sd.a.oneOf(Object.values(Ca.a)),contentLabel:sd.a.string};var nb=Object(cd.b)(function(e){var t=e.content,n=e.settings,r=e.playback;return{title:t.title,titleVisible:n.isTitleVisible,playing:r.playing,mediaType:t.mediaType,contentLabel:Object(y.a)(e,!u.a.viewingexperience)}})(tb);function rb(e){e.buttonUrl;var t=e.buttonText,n=e.title,r=e.imageUrl,o=e.description,a=e.customColor,i=e.customTextColor,s=e.minimized,u=e.onMinimizeRequest,l=e.onClick,c=a?{boxShadow:"inset 0 3px 0 0 ".concat(a)}:null,f=a?{color:i,background:a}:null;return rd.a.createElement("div",{id:"LiveCta",className:ld()("liveCta","component",{"liveCta--minimized":s})},rd.a.createElement("div",{className:"liveCta__container",style:c},rd.a.createElement("div",{className:"liveCta__link",onClick:l},r&&rd.a.createElement("img",{src:r,alt:n,className:"liveCta__image"}),rd.a.createElement("div",{className:"liveCta__text-container"},rd.a.createElement("h3",{className:"liveCta__title"},n),o&&rd.a.createElement("p",{className:"liveCta__description"},o),t&&rd.a.createElement("span",{className:"liveCta__inline-button",style:f},t)),t&&rd.a.createElement("button",{type:"button",className:"liveCta__button",style:f},t)),rd.a.createElement("a",{"aria-label":"Minimize",href:"#",role:"button",className:"liveCta__minimize-button",onClick:u})))}rb.defaultProps={buttonText:null,imageUrl:null,description:null,customColor:null,customTextColor:null,minimized:!1,onMinimizeRequest:function(){}},rb.propTypes={buttonUrl:sd.a.string.isRequired,title:sd.a.string.isRequired,buttonText:sd.a.string,imageUrl:sd.a.string,description:sd.a.string,customColor:sd.a.string,customTextColor:sd.a.string,minimized:sd.a.bool,onMinimizeRequest:sd.a.func};var ob=rb;function ab(e){return(ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ib(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sb(e){return(sb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ub(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lb(e,t){return(lb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function cb(e){return"string"==typeof e||"number"==typeof e}var fb=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==ab(t)&&"function"!=typeof t?ub(e):t}(this,sb(t).call(this,e))).state={minimized:!1},n.onMinimizeRequest=n.onMinimizeRequest.bind(ub(n)),n.onClickRequest=n.onClickRequest.bind(ub(n)),n.setCaptionPosition=n.setCaptionPosition.bind(ub(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lb(e,t)}(t,nd["PureComponent"]),n=t,o=[{key:"getDerivedStateFromProps",value:function(e){return cb(e.id)?null:{minimized:!1}}}],(r=[{key:"componentDidMount",value:function(){this.setCaptionPosition()}},{key:"componentDidUpdate",value:function(){this.setCaptionPosition()}},{key:"onMinimizeRequest",value:function(){this.setState({minimized:!0})}},{key:"onClickRequest",value:function(){var e=this.props.buttonUrl;window.open(e,"_blank")}},{key:"setCaptionPosition",value:function(){var e=cb(this.props.id)?"top":"default";k.a.send(k.a.types.COMMAND,"setCaptionPosition",e)}},{key:"render",value:function(){if(u.a.hideCta)return null;var e=this.props,t=e.id,n=e.buttonUrl,r=e.title,o=e.buttonText,a=e.imageUrl,i=e.description,s=e.customColor,l=e.customTextColor;if(!cb(t))return null;var c=this.state.minimized;return rd.a.createElement(ob,{buttonUrl:n,title:r,buttonText:o,imageUrl:a,description:i,customColor:s,customTextColor:l,minimized:c,onMinimizeRequest:this.onMinimizeRequest,onClick:this.onClickRequest})}}])&&ib(n.prototype,r),o&&ib(n,o),t}();fb.defaultProps={id:null,buttonUrl:null,title:null,buttonText:null,imageUrl:null,description:null,customColor:null,customTextColor:null},fb.propTypes={id:sd.a.number,buttonUrl:sd.a.string,title:sd.a.string,buttonText:sd.a.string,imageUrl:sd.a.string,description:sd.a.string,customColor:sd.a.string,customTextColor:sd.a.string};var db=Object(cd.b)(function(e){var t=e.liveCTA;return{id:t.id,buttonUrl:t.buttonUrl,title:t.title,buttonText:t.buttonText,imageUrl:t.imageUrl,description:t.description,customColor:t.customColor,customTextColor:t.customTextColor}})(fb);function pb(){return rd.a.createElement("svg",{width:"28",height:"14",viewBox:"0 0 28 14"},rd.a.createElement("path",{className:"inactive",d:"M1,0 L27,0 C27.5522847,-1.01453063e-16 28,0.44771525 28,1 L28,13 C28,13.5522847 27.5522847,14 27,14 L1,14 C0.44771525,14 6.76353751e-17,13.5522847 0,13 L0,1 C-6.76353751e-17,0.44771525 0.44771525,1.01453063e-16 1,0 Z M24,8.89606409 L21.6333379,8.89606409 L21.6333379,7.49997313 L23.8251829,7.49997313 L23.8251829,5.89800139 L21.6333379,5.89800139 L21.6333379,4.73459225 L24,4.73459225 L24,3.13140228 L19.6597128,3.13140228 L19.6597128,10.5236186 L24,10.5236186 L24,8.89606409 Z M11.750873,3.13140228 L14.1403175,10.5236186 L16.4694224,10.5236186 L18.8685211,3.13140228 L16.6540613,3.13140228 L15.637944,6.89816778 C15.5836384,7.10039387 15.5220922,7.37936841 15.4520983,7.73265496 C15.3821045,8.08675365 15.3354419,8.38156518 15.3121107,8.61708954 C15.2428782,8.02968571 15.1291061,7.44850924 14.9717959,6.8786761 L13.9749872,3.13140228 L11.750873,3.13140228 Z M8.97143943,3.13140228 L8.97143943,10.5236186 L10.9567775,10.5236186 L10.9567775,3.13140228 L8.97143943,3.13140228 Z M4.98203535,3.13140228 L3,3.13140228 L3,10.5236186 L7.80007222,10.5236186 L7.80007222,8.91068284 L4.98203535,8.91068284 L4.98203535,3.13140228 Z",fill:"#FFFFFF"}),rd.a.createElement("g",{className:"active"},rd.a.createElement("rect",{fill:"#FF3D23",x:"0",y:"0",width:"28",height:"14",rx:"1"}),rd.a.createElement("path",{d:"M24,8.89606409 L24,10.5236186 L19.6597128,10.5236186 L19.6597128,3.13140228 L24,3.13140228 L24,4.73459225 L21.6333379,4.73459225 L21.6333379,5.89800139 L23.8251829,5.89800139 L23.8251829,7.49997313 L21.6333379,7.49997313 L21.6333379,8.89606409 L24,8.89606409 Z M11.750873,3.13140228 L13.9749872,3.13140228 L14.9717959,6.8786761 C15.1291061,7.44850924 15.2428782,8.02968571 15.3121107,8.61708954 C15.3354419,8.38156518 15.3821045,8.08675365 15.4520983,7.73265496 C15.5220922,7.37936841 15.5836384,7.10039387 15.637944,6.89816778 L16.6540613,3.13140228 L18.8685211,3.13140228 L16.4694224,10.5236186 L14.1403175,10.5236186 L11.750873,3.13140228 Z M8.97143943,3.13140228 L10.9567775,3.13140228 L10.9567775,10.5236186 L8.97143943,10.5236186 L8.97143943,3.13140228 Z M4.98203535,3.13140228 L4.98203535,8.91068284 L7.80007222,8.91068284 L7.80007222,10.5236186 L3,10.5236186 L3,3.13140228 L4.98203535,3.13140228 Z",fill:"#FFFFFF"})))}function hb(){return rd.a.createElement("svg",{width:"48",height:"14",viewBox:"0 0 48 14"},rd.a.createElement("path",{className:"inactive",fill:"rgba(255,255,255, 0.6)",fillRule:"evenodd",d:"M3.000,5.000 C3.000,5.000 45.000,5.000 45.000,5.000 C45.552,5.000 46.000,5.448 46.000,6.000 C46.000,6.000 46.000,18.000 46.000,18.000 C46.000,18.552 45.552,19.000 45.000,19.000 C45.000,19.000 3.000,19.000 3.000,19.000 C2.448,19.000 2.000,18.552 2.000,18.000 C2.000,18.000 2.000,6.000 2.000,6.000 C2.000,5.448 2.448,5.000 3.000,5.000 M40.621,12.787 C40.621,12.787 40.621,15.514 40.621,15.514 C40.621,15.514 38.653,15.514 38.653,15.514 C38.653,15.514 38.653,12.845 38.653,12.845 C38.653,12.845 36.275,8.531 36.275,8.531 C36.275,8.531 38.401,8.531 38.401,8.531 C38.401,8.531 39.637,11.120 39.637,11.120 C39.637,11.120 40.883,8.531 40.883,8.531 C40.883,8.531 42.999,8.531 42.999,8.531 C42.999,8.531 40.621,12.787 40.621,12.787 ZM35.139,15.514 C35.139,15.514 34.783,14.206 34.783,14.206 C34.783,14.206 32.435,14.206 32.435,14.206 C32.435,14.206 32.069,15.514 32.069,15.514 C32.069,15.514 29.924,15.514 29.924,15.514 C29.924,15.514 32.282,8.503 32.282,8.503 C32.282,8.503 34.887,8.503 34.887,8.503 C34.887,8.503 37.275,15.514 37.275,15.514 C37.275,15.514 35.139,15.514 35.139,15.514 ZM34.067,11.512 C33.994,11.257 33.906,10.928 33.802,10.523 C33.698,10.119 33.630,9.829 33.597,9.654 C33.567,9.816 33.509,10.084 33.421,10.456 C33.334,10.829 33.140,11.563 32.841,12.658 C32.841,12.658 34.378,12.658 34.378,12.658 C34.378,12.658 34.067,11.512 34.067,11.512 ZM24.812,8.531 C24.812,8.531 26.765,8.531 26.765,8.531 C26.765,8.531 26.765,13.991 26.765,13.991 C26.765,13.991 29.548,13.991 29.548,13.991 C29.548,13.991 29.548,15.514 29.548,15.514 C29.548,15.514 24.812,15.514 24.812,15.514 C24.812,15.514 24.812,8.531 24.812,8.531 ZM20.916,13.198 C20.916,13.198 20.367,13.198 20.367,13.198 C20.367,13.198 20.367,15.514 20.367,15.514 C20.367,15.514 18.415,15.514 18.415,15.514 C18.415,15.514 18.415,8.531 18.415,8.531 C18.415,8.531 20.916,8.531 20.916,8.531 C21.829,8.531 22.515,8.724 22.973,9.109 C23.431,9.495 23.660,10.042 23.660,10.752 C23.660,11.533 23.422,12.135 22.946,12.560 C22.469,12.985 21.793,13.198 20.916,13.198 ZM20.872,10.055 C20.872,10.055 20.367,10.055 20.367,10.055 C20.367,10.055 20.367,11.660 20.367,11.660 C20.367,11.660 20.723,11.660 20.723,11.660 C21.017,11.660 21.250,11.580 21.423,11.421 C21.596,11.262 21.682,11.042 21.682,10.762 C21.682,10.291 21.412,10.055 20.872,10.055 ZM12.858,8.531 C12.858,8.531 17.149,8.531 17.149,8.531 C17.149,8.531 17.149,10.046 17.149,10.046 C17.149,10.046 14.810,10.046 14.810,10.046 C14.810,10.046 14.810,11.144 14.810,11.144 C14.810,11.144 16.976,11.144 16.976,11.144 C16.976,11.144 16.976,12.658 16.976,12.658 C16.976,12.658 14.810,12.658 14.810,12.658 C14.810,12.658 14.810,13.976 14.810,13.976 C14.810,13.976 17.149,13.976 17.149,13.976 C17.149,13.976 17.149,15.514 17.149,15.514 C17.149,15.514 12.858,15.514 12.858,15.514 C12.858,15.514 12.858,8.531 12.858,8.531 ZM9.985,15.514 C9.985,15.514 8.453,12.973 8.453,12.973 C8.453,12.973 7.958,12.973 7.958,12.973 C7.958,12.973 7.958,15.514 7.958,15.514 C7.958,15.514 6.006,15.514 6.006,15.514 C6.006,15.514 6.006,8.531 6.006,8.531 C6.006,8.531 8.374,8.531 8.374,8.531 C10.338,8.531 11.320,9.219 11.320,10.595 C11.320,11.404 10.911,12.029 10.094,12.472 C10.094,12.472 12.200,15.514 12.200,15.514 C12.200,15.514 9.985,15.514 9.985,15.514 ZM8.344,9.960 C8.344,9.960 7.958,9.960 7.958,9.960 C7.958,9.960 7.958,11.555 7.958,11.555 C7.958,11.555 8.324,11.555 8.324,11.555 C9.006,11.555 9.348,11.264 9.348,10.681 C9.348,10.200 9.013,9.960 8.344,9.960 Z"}),rd.a.createElement("g",{className:"active"},rd.a.createElement("path",{d:"M1,0 C1,0 43,0 43,0 C43.552,0 44,0.448 44,1 C44,1 44,13 44,13 C44,13.552 43.552,14 43,14 C43,14 1,14 1,14 C0.448,14 0,13.552 0,13 C0,13 0,1 0,1 C0,0.448 0.448,0 1,0 Z",fill:"#3388FF"}),rd.a.createElement("path",{d:"M38.621,7.787 C38.621,7.787 38.621,10.514 38.621,10.514 C38.621,10.514 36.653,10.514 36.653,10.514 C36.653,10.514 36.653,7.845 36.653,7.845 C36.653,7.845 34.275,3.531 34.275,3.531 C34.275,3.531 36.401,3.531 36.401,3.531 C36.401,3.531 37.637,6.12 37.637,6.12 C37.637,6.12 38.883,3.531 38.883,3.531 C38.883,3.531 40.999,3.531 40.999,3.531 C40.999,3.531 38.621,7.787 38.621,7.787 Z M33.139,10.514 C33.139,10.514 32.783,9.206 32.783,9.206 C32.783,9.206 30.435,9.206 30.435,9.206 C30.435,9.206 30.069,10.514 30.069,10.514 C30.069,10.514 27.924,10.514 27.924,10.514 C27.924,10.514 30.282,3.503 30.282,3.503 C30.282,3.503 32.887,3.503 32.887,3.503 C32.887,3.503 35.275,10.514 35.275,10.514 C35.275,10.514 33.139,10.514 33.139,10.514 Z M32.067,6.512 C31.994,6.257 31.906,5.928 31.802,5.523 C31.698,5.119 31.63,4.829 31.597,4.654 C31.567,4.816 31.509,5.084 31.421,5.456 C31.334,5.829 31.14,6.563 30.841,7.658 C30.841,7.658 32.378,7.658 32.378,7.658 C32.378,7.658 32.067,6.512 32.067,6.512 Z M22.812,3.531 C22.812,3.531 24.765,3.531 24.765,3.531 C24.765,3.531 24.765,8.991 24.765,8.991 C24.765,8.991 27.548,8.991 27.548,8.991 C27.548,8.991 27.548,10.514 27.548,10.514 C27.548,10.514 22.812,10.514 22.812,10.514 C22.812,10.514 22.812,3.531 22.812,3.531 Z M18.916,8.198 C18.916,8.198 18.367,8.198 18.367,8.198 C18.367,8.198 18.367,10.514 18.367,10.514 C18.367,10.514 16.415,10.514 16.415,10.514 C16.415,10.514 16.415,3.531 16.415,3.531 C16.415,3.531 18.916,3.531 18.916,3.531 C19.829,3.531 20.515,3.724 20.973,4.109 C21.431,4.495 21.66,5.042 21.66,5.752 C21.66,6.533 21.422,7.135 20.946,7.56 C20.469,7.985 19.793,8.198 18.916,8.198 Z M18.872,5.055 C18.872,5.055 18.367,5.055 18.367,5.055 C18.367,5.055 18.367,6.66 18.367,6.66 C18.367,6.66 18.723,6.66 18.723,6.66 C19.017,6.66 19.25,6.58 19.423,6.421 C19.596,6.262 19.682,6.042 19.682,5.762 C19.682,5.291 19.412,5.055 18.872,5.055 Z M10.858,3.531 C10.858,3.531 15.149,3.531 15.149,3.531 C15.149,3.531 15.149,5.046 15.149,5.046 C15.149,5.046 12.81,5.046 12.81,5.046 C12.81,5.046 12.81,6.144 12.81,6.144 C12.81,6.144 14.976,6.144 14.976,6.144 C14.976,6.144 14.976,7.658 14.976,7.658 C14.976,7.658 12.81,7.658 12.81,7.658 C12.81,7.658 12.81,8.976 12.81,8.976 C12.81,8.976 15.149,8.976 15.149,8.976 C15.149,8.976 15.149,10.514 15.149,10.514 C15.149,10.514 10.858,10.514 10.858,10.514 C10.858,10.514 10.858,3.531 10.858,3.531 Z M7.985,10.514 C7.985,10.514 6.453,7.973 6.453,7.973 C6.453,7.973 5.958,7.973 5.958,7.973 C5.958,7.973 5.958,10.514 5.958,10.514 C5.958,10.514 4.006,10.514 4.006,10.514 C4.006,10.514 4.006,3.531 4.006,3.531 C4.006,3.531 6.374,3.531 6.374,3.531 C8.338,3.531 9.32,4.219 9.32,5.595 C9.32,6.404 8.911,7.029 8.094,7.472 C8.094,7.472 10.2,10.514 10.2,10.514 C10.2,10.514 7.985,10.514 7.985,10.514 Z M6.344,4.96 C6.344,4.96 5.958,4.96 5.958,4.96 C5.958,4.96 5.958,6.555 5.958,6.555 C5.958,6.555 6.324,6.555 6.324,6.555 C7.006,6.555 7.348,6.264 7.348,5.681 C7.348,5.2 7.013,4.96 6.344,4.96 Z",fill:"#FFFFFF"})))}function mb(e){var t=e.replay;return rd.a.createElement("div",{id:"LiveBadge",className:ld()("badge","component","no-hover",{live:!t,replay:t})},t?rd.a.createElement(hb,null):rd.a.createElement(pb,null))}mb.defaultProps={replay:!1},mb.propTypes={replay:sd.a.bool};var vb=mb;function yb(e){var t=e.mediaType,n=e.replay;return t!==Ca.a.live?null:rd.a.createElement(vb,{replay:n})}yb.defaultProps={mediaType:void 0,replay:!1},yb.propTypes={mediaType:sd.a.oneOf(Object.values(Ca.a)),replay:sd.a.bool};var gb=Object(cd.b)(function(e){var t=e.content;return{mediaType:t.mediaType,replay:t.isReplay}})(yb);function bb(e){var t=e.active,n=e.url,r={backgroundImage:"url(".concat(n,")")};return rd.a.createElement("div",{className:ld()({active:t}),style:r})}bb.defaultProps={active:!1},bb.propTypes={active:sd.a.bool,url:sd.a.string.isRequired};var Eb=bb;function Sb(e){return(Sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ob(e){return(Ob=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Cb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wb(e,t){return(wb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _b=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Sb(t)&&"function"!=typeof t?Cb(e):t}(this,Ob(t).call(this,e))).state={visible:!1,slides:[],currentSlide:-1},n.timer=null,n.showNextImage=n.showNextImage.bind(Cb(n)),n.onSlideShow=n.onSlideShow.bind(Cb(n)),n.onDestroySlideShow=n.onDestroySlideShow.bind(Cb(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wb(e,t)}(t,nd["PureComponent"]),n=t,(r=[{key:"componentDidMount",value:function(){k.a.on(k.a.types.EVENT,"createSlideShow",this.onSlideShow),k.a.on(k.a.types.EVENT,"destroySlideShow",this.onDestroySlideShow)}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.EVENT,"createSlideShow",this.onSlideShow),k.a.off(k.a.types.EVENT,"destroySlideShow",this.onDestroySlideShow)}},{key:"onSlideShow",value:function(e){this.onDestroySlideShow(),this.setState({currentSlide:-1,slides:e,visible:!!e&&e.length>0}),e&&(k.a.send(k.a.types.UI,"hideControls"),this.showNextImage())}},{key:"onDestroySlideShow",value:function(){clearTimeout(this.timer),this.setState({visible:!1}),k.a.send(k.a.types.UI,"show")}},{key:"showNextImage",value:function(){var e=this.state,t=e.currentSlide,n=e.slides;this.timer=setTimeout(this.showNextImage.bind(this),5e3),this.setState({currentSlide:t+1<n.length?t+1:0}),k.a.send(k.a.types.EVENT,"currentOffairSlide",{itemType:"image"})}},{key:"render",value:function(){var e=this.state,t=e.visible,n=e.slides,r=e.currentSlide,o=this.props.contentLabel;return n?t&&rd.a.createElement("div",{id:"SlideShow",className:"slideshow component container",tabIndex:"0","aria-label":o},n.map(function(e,t){return rd.a.createElement(Eb,{id:t,key:e,url:e,active:t===r})})):null}}])&&Tb(n.prototype,r),o&&Tb(n,o),t}();_b.defaultProps={contentLabel:""},_b.propTypes={contentLabel:sd.a.string};var Pb=Object(cd.b)(function(e){return{contentLabel:Object(y.a)(e,!u.a.viewingexperience)}})(_b),Ib=rd.a.createElement("svg",{preserveAspectRatio:"xMidYMid",width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{d:"M20.707,14.739 C20.512,14.934 20.276,15.032 20.000,15.032 C20.000,15.032 16.000,15.032 16.000,15.032 C16.000,15.032 16.000,18.001 16.000,18.001 C16.000,18.277 15.902,18.513 15.707,18.708 C15.512,18.903 15.276,19.001 15.000,19.001 C15.000,19.001 4.000,19.001 4.000, 19.001 C3.448,19.001 3.000,18.553 3.000,18.001 C3.000,18.001 3.000,10.969 3.000,10.969 C3.000,10.693 3.098,10.457 3.293,10.262 C3.488, 10.067 3.724,9.969 4.000,9.969 C4.000,9.969 8.000,9.969 8.000,9.969 C8.000,9.969 8.000,7.000 8.000,7.000 C8.000,6.448 8.448,6.000 9.000, 6.000 C9.000,6.000 20.000,6.000 20.000,6.000 C20.276,6.000 20.512,6.098 20.707,6.293 C20.902,6.488 21.000,6.724 21.000,7.000 C21.000,7.000 21.000,14.032 21.000,14.032 C21.000,14.308 20.902,14.544 20.707,14.739 ZM8.000,14.032 C8.000,14.032 8.000,11.970 8.000,11.970 C8.000,11.970 8.000,11.970 8.000,11.970 C8.000,11.970 8.000,10.000 8.000,10.000 C8.000,10.000 7.000,10.000 7.000,10.000 C7.000,10.000 7.000,11.970 7.000, 11.970 C7.000,11.970 5.000,11.970 5.000,11.970 C5.000,11.970 5.000,17.001 5.000,17.001 C5.000,17.001 14.000,17.001 14.000,17.001 C14.000, 17.001 14.000,16.000 14.000,16.000 C14.000,16.000 16.000,16.000 16.000,16.000 C16.000,16.000 16.000,15.000 16.000,15.000 C16.000,15.000 14.000,15.000 14.000,15.000 C14.000,15.000 14.000,15.032 14.000,15.032 C14.000,15.032 9.000,15.032 9.000,15.032 C8.448,15.032 8.000,14.584 8.000,14.032 ZM19.000,8.001 C19.000,8.001 10.000,8.001 10.000,8.001 C10.000,8.001 10.000,13.032 10.000,13.032 C10.000,13.032 19.000,13.032 19.000,13.032 C19.000,13.032 19.000,8.001 19.000,8.001 Z",fill:"#fff",fillRule:"evenodd"})),Lb="Popout";function Rb(e){var t=e.onPopoutRequest;return rd.a.createElement("div",{id:"Popout",className:"popout component"},rd.a.createElement(Rd,{ariaLabel:Lb,icon:Ib,onToggle:function(){t()},label:Lb}))}Rb.defaultProps={onPopoutRequest:function(){}},Rb.propTypes={onPopoutRequest:sd.a.func};var Ab=Rb;function kb(){v.send({message:"Pop-out",data:{category:"Interaction",item:"pop-out",action:"pop-out"}}),k.a.send(k.a.types.EVENT,"popoutClick")}function Nb(){return rd.a.createElement(Ab,{onPopoutRequest:kb})}Nb.defaultProps={},Nb.propTypes={};var Db=Nb;function Mb(e){var t=e.id,n=e.playing,r=e.onPlayRequest,o=e.contentLabel;var a=n?"Pause":"Play",i=a;o&&(i+=" ".concat(o));var s=rd.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",width:"24",height:"24",viewBox:"0 0 24 24"},n?rd.a.createElement("path",{d:"M17.000,19.000 C17.000,19.000 15.000,19.000 15.000,19.000 C14.448,19.000 14.000,18.552 14.000,18.000 C14.000,18.000 14.000, 6.000 14.000,6.000 C14.000,5.448 14.448,5.000 15.000,5.000 C15.000,5.000 17.000,5.000 17.000,5.000 C17.552,5.000 18.000,5.448 18.000,6.000 C18.000,6.000 18.000,18.000 18.000,18.000 C18.000,18.552 17.552,19.000 17.000,19.000 ZM9.000,19.000 C9.000,19.000 7.000,19.000 7.000, 19.000 C6.448,19.000 6.000,18.552 6.000,18.000 C6.000,18.000 6.000,6.000 6.000,6.000 C6.000,5.448 6.448,5.000 7.000,5.000 C7.000,5.000 9.000,5.000 9.000,5.000 C9.552,5.000 10.000,5.448 10.000,6.000 C10.000,6.000 10.000,18.000 10.000,18.000 C10.000,18.552 9.552,19.000 9.000,19.000 Z",fillRule:"evenodd",fill:"#ffffff"}):rd.a.createElement("path",{d:"M17.178,10.775 C17.178,10.775 7.973,5.287 7.973,5.287 C6.894,4.643 6.010,5.128 6.009,6.364 C6.009,6.364 6.000,17.669 6.000, 17.669 C5.999,18.906 6.877,19.384 7.951,18.732 C7.951,18.732 17.187,13.130 17.187,13.130 C18.261,12.478 18.257,11.419 17.178,10.775 Z",fillRule:"evenodd",fill:"#ffffff"}));return rd.a.createElement("div",{id:t,className:ld()("play component",{playing:n})},rd.a.createElement(Rd,{ariaLabel:i,ariaLive:"polite",icon:s,onToggle:function(){r()},label:a}))}Mb.defaultProps={id:null,contentLabel:"",playing:!1,onPlayRequest:function(){}},Mb.propTypes={id:sd.a.string,contentLabel:sd.a.string,playing:sd.a.bool,onPlayRequest:sd.a.func};var Ub=Mb;function xb(e){var t=e.id,n=e.playing,r=e.contentLabel;return rd.a.createElement(Ub,{id:t,playing:n,onPlayRequest:function(){if(l.a.isContentPlayable()){var e,t,r=n?"pause":"play";t="play"===(e=r)?"Play":"Pause",v.send({message:t,data:{category:"Interaction",item:e,action:e}}),k.a.send(k.a.types.COMMAND,r),k.a.send(k.a.types.UI,"showStatusAnimation",r)}},contentLabel:r})}xb.defaultProps={id:null,contentLabel:""},xb.propTypes={id:sd.a.string,contentLabel:sd.a.string,playing:sd.a.bool.isRequired};var jb=Object(cd.b)(function(e){return{playing:e.playback.playing,contentLabel:Object(y.a)(e,!u.a.viewingexperience)}})(xb);function Fb(e){var t=e.url,n=t?"url(".concat(t,")"):null;return rd.a.createElement("div",{id:"Thumbnail",className:"thumbnail component",style:{backgroundImage:n}})}Fb.defaultProps={url:null},Fb.propTypes={url:sd.a.string};var Vb=Fb;function Bb(e){return(Bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gb(e){return(Gb=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qb(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zb(e,t){return(zb=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Wb=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Bb(t)&&"function"!=typeof t?qb(e):t}(this,Gb(t).call(this,e))).state={visible:!1},n.onHidePlayScreen=n.onHidePlayScreen.bind(qb(n)),n.onShowPlayScreen=n.onShowPlayScreen.bind(qb(n)),n.onCreateSlideShow=n.onCreateSlideShow.bind(qb(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zb(e,t)}(t,nd["PureComponent"]),n=t,o=[{key:"getDerivedStateFromProps",value:function(e){return e.playing?{visible:!1}:null}}],(r=[{key:"componentDidMount",value:function(){k.a.on(k.a.types.EVENT,"hidePlayScreen",this.onHidePlayScreen),k.a.on(k.a.types.EVENT,"showPlayScreen",this.onShowPlayScreen),k.a.on(k.a.types.EVENT,"createSlideShow",this.onCreateSlideShow)}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.EVENT,"hidePlayScreen",this.onHidePlayScreen),k.a.off(k.a.types.EVENT,"showPlayScreen",this.onShowPlayScreen),k.a.off(k.a.types.EVENT,"createSlideShow",this.onCreateSlideShow)}},{key:"onHidePlayScreen",value:function(){this.setState({visible:!1})}},{key:"onShowPlayScreen",value:function(){this.setState({visible:!0})}},{key:"onCreateSlideShow",value:function(){l.a.isOffairImg()&&this.setState({visible:!1})}},{key:"getThumbnailUrl",value:function(){var e=this.props.thumbnails,t=(l.a.isCid()&&!l.a.live()?["liveThumbnail","thumbnail"]:["liveThumbnail","thumbnail","channelPicture"]).map(function(t){return e[t]}).filter(function(e){return!!e});return 0===t.length?null:t[0]}},{key:"render",value:function(){if(!this.state.visible)return null;var e=this.getThumbnailUrl();return rd.a.createElement(Vb,{url:e})}}])&&Hb(n.prototype,r),o&&Hb(n,o),t}();Wb.defaultProps={thumbnails:{},playing:!1},Wb.propTypes={thumbnails:sd.a.objectOf(sd.a.string),playing:sd.a.bool};var Kb=Object(cd.b)(function(e){var t=e.content,n=e.playback;return{thumbnails:t.thumbnails,playing:n.playing}})(Wb);function Yb(e){var t=e.onFullScreenToggle,n=(e.onTab,e.inFullScreenMode),r=e.id,o=e.disabled,a=e.title;var i=rd.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid",width:"24",height:"24",viewBox:"0 0 24 24"},n?rd.a.createElement("path",{d:"M16.383,8.969 C16.383,8.969 19.000,8.969 19.000,8.969 C19.552,8.969 20.000,9.416 20.000,9.969 C20.000,10.521 19.552,10.969 19.000,10.969 C19.000,10.969 14.088,10.969 14.088,10.969 C13.802,11.005 13.506,10.928 13.286,10.708 C13.093,10.514 13.002,10.258 13.007,10.004 C13.007,9.992 13.000,9.981 13.000,9.969 C13.000,9.969 13.000,4.969 13.000,4.969 C13.000,4.416 13.448,3.969 14.000,3.969 C14.552,3.969 15.000,4.416 15.000,4.969 C15.000,4.969 15.000,7.615 15.000,7.615 C15.000,7.615 18.348,4.253 18.348,4.253 C18.725,3.874 19.337,3.874 19.714,4.253 C20.091,4.631 20.091,5.245 19.714,5.624 C19.714,5.624 16.383,8.969 16.383,8.969 ZM10.000,19.969 C9.448,19.969 9.000,19.521 9.000,18.969 C9.000,18.969 9.000,16.345 9.000,16.345 C9.000,16.345 5.652,19.708 5.652,19.708 C5.275,20.087 4.663,20.087 4.286,19.708 C3.909,19.329 3.909,18.715 4.286,18.336 C4.286,18.336 7.640,14.969 7.640,14.969 C7.640,14.969 5.000,14.969 5.000,14.969 C4.448,14.969 4.000,14.521 4.000,13.969 C4.000,13.416 4.448,12.969 5.000,12.969 C5.000,12.969 10.000,12.969 10.000,12.969 C10.005,12.969 10.010,12.972 10.015,12.972 C10.268,12.968 10.521,13.059 10.714,13.253 C10.904,13.444 10.997,13.695 10.995,13.945 C10.995,13.953 11.000,13.960 11.000,13.969 C11.000,13.969 11.000,18.969 11.000,18.969 C11.000,19.521 10.552,19.969 10.000,19.969 Z",fillRule:"evenodd",fill:"#ffffff"}):rd.a.createElement("path",{d:"M20.000,10.000 C20.000,10.552 19.552,11.000 19.000,11.000 C18.448,11.000 18.000,10.552 18.000,10.000 C18.000,10.000 18.000,7.353 18.000,7.353 C18.000,7.353 14.652,10.716 14.652,10.716 C14.275,11.095 13.663,11.095 13.286,10.716 C12.909,10.337 12.909,9.723 13.286,9.345 C13.286,9.345 16.617,6.000 16.617,6.000 C16.617,6.000 14.000,6.000 14.000,6.000 C13.448,6.000 13.000,5.552 13.000,5.000 C13.000,4.448 13.448,4.000 14.000,4.000 C14.000,4.000 18.912,4.000 18.912,4.000 C19.198,3.964 19.494,4.041 19.714,4.261 C19.907,4.455 19.998,4.710 19.993,4.965 C19.993,4.977 20.000,4.988 20.000,5.000 C20.000,5.000 20.000,10.000 20.000,10.000 ZM11.000,19.000 C11.000,19.552 10.552,20.000 10.000,20.000 C10.000,20.000 5.000,20.000 5.000,20.000 C4.995,20.000 4.990,19.997 4.985,19.997 C4.732,20.001 4.479,19.909 4.286,19.716 C4.096,19.525 4.003,19.274 4.005,19.024 C4.005,19.015 4.000,19.008 4.000,19.000 C4.000,19.000 4.000,14.000 4.000,14.000 C4.000,13.448 4.448,13.000 5.000,13.000 C5.552,13.000 6.000,13.448 6.000,14.000 C6.000,14.000 6.000,16.624 6.000,16.624 C6.000,16.624 9.348,13.261 9.348,13.261 C9.725,12.882 10.337,12.882 10.714,13.261 C11.091,13.640 11.091,14.253 10.714,14.632 C10.714,14.632 7.360,18.000 7.360,18.000 C7.360,18.000 10.000,18.000 10.000,18.000 C10.552,18.000 11.000,18.448 11.000,19.000 Z",fillRule:"evenodd",fill:"#ffffff"}));return rd.a.createElement("div",{id:r,className:ld()("fullscreen","component",{disabled:o})},rd.a.createElement(Rd,{ariaLabel:a,icon:i,onToggle:function(){o||t()},label:a}))}Yb.defaultProps={onTab:function(){},onFullScreenToggle:function(){},inFullScreenMode:!1,id:null,disabled:!1,title:null},Yb.propTypes={onTab:sd.a.func,onFullScreenToggle:sd.a.func,inFullScreenMode:sd.a.bool,id:sd.a.string,disabled:sd.a.bool,title:sd.a.string};var Qb=Yb;function Zb(){document.body.style.cursor="none"}function Xb(){document.body.style.cursor="default"}var Jb=Object(s.a)("ui/lib/toggleFullscreen");function $b(e,t,n){if(e){var r=function(e){var t=e.requestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen;return t?t.bind(e):null}(t);if(r)return void r();if(n&&n.webkitEnterFullscreen){try{n.webkitEnterFullscreen()}catch(e){Jb.warn("The element is not allowed to enter fullscreen")}return}}else{var o;((o=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen)?o.bind(document):null)()}}function eE(e){return(eE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nE(e){return(nE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oE(e,t){return(oE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var aE=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==eE(t)&&"function"!=typeof t?rE(e):t}(this,nE(t).call(this,e))).state={isDisabled:!1},n.disableCursorHide=function(){},n.onFullScreenToggle=n.onFullScreenToggle.bind(rE(n)),n.onFullscreenEnd=n.onFullscreenEnd.bind(rE(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oE(e,t)}(t,nd["Component"]),n=t,o=[{key:"getDerivedStateFromProps",value:function(e){if(!u.a.allowfullscreen)return{isDisabled:!0};var t=e.webkitSupportsFullscreen;return e.isFullscreenEnabled||t?{isDisabled:!1}:{isDisabled:!0}}}],(r=[{key:"componentDidUpdate",value:function(){this.disableCursorHide(),this.props.inFullScreenMode&&(this.disableCursorHide=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;function t(){clearTimeout(n),n=setTimeout(Zb,e),Xb()}var n=setTimeout(Zb,e);return document.body.addEventListener("mousemove",t),function(){document.body.removeEventListener("mousemove",t),n=clearTimeout(n),Xb()}}(3e3))}},{key:"componentWillUnmount",value:function(){var e=this.props.videoTag;this.disableCursorHide(),e&&e.removeEventListener("webkitendfullscreen",this.onFullscreenEnd)}},{key:"onFullscreenEnd",value:function(){var e=this.props.videoTag,t=g.a.getState().playback,n=t.closedCaptionTracks,r=t.selectedClosedCaption,o=n.find(function(e){return"showing"===e.mode}),a=null;a=o?o.id:-1===r?-1:-2,g.a.dispatch(q(a)),e.removeEventListener("webkitendfullscreen",this.onFullscreenEnd)}},{key:"onFullScreenToggle",value:function(){var e=this.props,t=e.inFullScreenMode,n=e.body,r=e.videoTag;$b(!t,n,r),!t&&i.a.ios&&r.addEventListener("webkitendfullscreen",this.onFullscreenEnd,!1)}},{key:"getTitle",value:function(){return this.state.isDisabled?Rp.getText("ui.disabledFullscreen"):this.props.inFullScreenMode?Rp.getText("ui.exitFullscreen"):Rp.getText("ui.fullscreen")}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.inFullScreenMode,r=this.state.isDisabled,o=this.getTitle();return rd.a.createElement(Qb,{id:t,inFullScreenMode:n,onFullScreenToggle:this.onFullScreenToggle,title:o,disabled:r})}}])&&tE(n.prototype,r),o&&tE(n,o),t}(),iE=document.fullscreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled;aE.defaultProps={id:null,body:document.getElementById("PlayerOne"),webkitSupportsFullscreen:!1,videoTag:null,inFullScreenMode:!1,isFullscreenEnabled:iE},aE.propTypes={id:sd.a.string,body:sd.a.instanceOf(HTMLElement),webkitSupportsFullscreen:sd.a.bool,videoTag:sd.a.instanceOf(HTMLElement),inFullScreenMode:sd.a.bool,isFullscreenEnabled:sd.a.bool};var sE=Object(cd.b)(function(e){var t=e.playback,n=e.player,r=e.videoTag;return{webkitSupportsFullscreen:t.webkitSupportsFullscreen,videoTag:r,inFullScreenMode:n.fullScreen}})(aE);function uE(e){var t=e.question,n=e.view,r=e.onClick,o=Rp.getText("ui.poll.notification.title");return rd.a.createElement("div",{role:"button",className:ld()("poll__notification",{"poll__notification--minimal":"minimal"===n}),onClick:r},rd.a.createElement("svg",{viewBox:"0 0 24 24",height:"24",width:"24",className:"poll__notification__icon"},rd.a.createElement("path",{d:"M5,18 C5,17.4477153 5.44771525,17 6,17 L18,17 C18.5522847,17 19,17.4477153 19,18 L19,18 C19,18.5522847 18.5522847,19 18,19 L6,19 C5.44771525,19 5,18.5522847 5,18 L5,18 Z M6,12 L8,12 C8.55228475,12 9,12.4477153 9,13 L9,15 C9,15.5522847 8.55228475,16 8,16 L6,16 C5.44771525,16 5,15.5522847 5,15 L5,13 C5,12.4477153 5.44771525,12 6,12 Z M11,9 L13,9 C13.5522847,9 14,9.44771525 14,10 L14,15 C14,15.5522847 13.5522847,16 13,16 L11,16 C10.4477153,16 10,15.5522847 10,15 L10,10 C10,9.44771525 10.4477153,9 11,9 Z M16,5 L18,5 C18.5522847,5 19,5.44771525 19,6 L19,15 C19,15.5522847 18.5522847,16 18,16 L16,16 C15.4477153,16 15,15.5522847 15,15 L15,6 C15,5.44771525 15.4477153,5 16,5 Z"})),rd.a.createElement("h4",{className:"poll__notification__title"},o),rd.a.createElement("p",{className:"poll__notification__question"},t))}uE.defaultProps={onClick:function(){},view:"normal"},uE.propTypes={onClick:sd.a.func,question:sd.a.string.isRequired,view:sd.a.oneOf(["normal","minimal"])};var lE=uE;function cE(e){var t=e.answers,n=e.onAnswerSelected;return rd.a.createElement("ul",{className:"poll__overlay__answer-list"},t.map(function(e){var t=e.answerId,r=e.text;return rd.a.createElement("li",{key:t,className:"poll__overlay__answer-item",onClick:function(){return n(t)}},r)}))}function fE(e){var t=e.question,n=e.answers,r=e.onAnswerSelected;return rd.a.createElement("div",{className:"poll__overlay"},t&&rd.a.createElement("h3",{className:"poll__overlay__title"},t),rd.a.createElement(cE,{answers:n,onAnswerSelected:r}))}cE.defaultProps={answers:[],onAnswerSelected:function(){}},cE.propTypes={answers:sd.a.arrayOf(sd.a.shape({answerId:sd.a.oneOfType([sd.a.number,sd.a.string]),text:sd.a.string})),onAnswerSelected:sd.a.func},fE.defaultProps={question:null,answers:[],onAnswerSelected:function(){}},fE.propTypes={question:sd.a.string,answers:sd.a.arrayOf(sd.a.object),onAnswerSelected:sd.a.func};var dE=fE;function pE(e){return(pE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mE(e){return(mE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yE(e,t){return(yE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gE(e){return"pollInstanceId_".concat(e)}var bE=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==pE(t)&&"function"!=typeof t?vE(e):t}(this,mE(t).call(this,e))).state={isAdPlaying:!1,isNotificationVisible:!1,notificationView:"normal",isQuestionVisible:!1},n.sendLog=n.sendLog.bind(vE(n)),n.onAnswerOverAPI=n.onAnswerOverAPI.bind(vE(n)),n.onTrackingOverAPI=n.onTrackingOverAPI.bind(vE(n)),n.onAdPlaying=n.onAdPlaying.bind(vE(n)),n.onQuestionOpenRequest=n.onQuestionOpenRequest.bind(vE(n)),n.onQuestionCloseRequest=n.onQuestionCloseRequest.bind(vE(n)),n.onAnswerSelected=n.onAnswerSelected.bind(vE(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yE(e,t)}(t,nd["Component"]),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.pollInstanceId,r=n||0===n,o=!!e.stoppedAt;return!r||o||function(e){var t=gE(e);return!!Ar.b.get(t)}(n)?{notificationView:"normal",isNotificationVisible:!1,isQuestionVisible:!1}:t.isQuestionVisible?{isNotificationVisible:!1,isQuestionVisible:!0}:{isNotificationVisible:!0,isQuestionVisible:!1}}}],(r=[{key:"componentDidMount",value:function(){k.a.on(k.a.types.UI,"pollAnswer",this.onAnswerOverAPI),k.a.on(k.a.types.UI,"pollTracking",this.onTrackingOverAPI),k.a.on(k.a.types.EVENT,"videoAdPlaying",this.onAdPlaying)}},{key:"componentDidUpdate",value:function(e,t){var n=t.isNotificationVisible||t.isQuestionVisible,r=this.state,o=r.isNotificationVisible,a=r.isQuestionVisible,i=o||a;if(n!==i){var s=this.props,u=s.pollInstanceId,l=s.startedAt,c=s.stoppedAt,f={pollInstanceId:u,startedAt:l,stoppedAt:c,question:s.question,answers:s.answers};if(i)return D.a.send("poll",{hasPlayerUI:!0,type:"start",data:f}),void this.sendLog("Poll notification appears",{item:"Poll notification",action:"load"});if(c&&(D.a.send("poll",{type:"stop",data:f}),t.isQuestionVisible)){var d=Rp.getText("ui.poll.finished");k.a.send(k.a.types.UI,"showWarningMessage",d),this.sendLog("Poll over notification appears",{item:"Sorry notification",action:"fail",stopped_at:c})}}}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.UI,"pollAnswer",this.onAnswerOverAPI),k.a.off(k.a.types.UI,"pollTracking",this.onTrackingOverAPI),k.a.off(k.a.types.EVENT,"videoAdPlaying",this.onAdPlaying)}},{key:"onAnswerOverAPI",value:function(e){this.props.pollInstanceId===e.id&&this.onAnswerSelected(e.answer)}},{key:"onTrackingOverAPI",value:function(e){this.sendLog(e.message,{item:e.item,action:e.action})}},{key:"onAdPlaying",value:function(e){this.setState({isAdPlaying:e})}},{key:"onQuestionOpenRequest",value:function(){this.setState({isNotificationVisible:!1,isQuestionVisible:!0}),this.sendLog("Load overlay",{item:"overlay",action:"load"}),"minimal"===this.state.notificationView?this.sendLog("Click on Poll icon",{item:"Poll icon",action:"click"}):this.sendLog("Click on Poll notification",{item:"Poll notification",action:"click"})}},{key:"onQuestionCloseRequest",value:function(){this.setState({notificationView:"minimal",isNotificationVisible:!0,isQuestionVisible:!1}),this.sendLog("Click on Dismiss/X button",{item:"Overlay Cancel button",action:"dismiss"})}},{key:"onAnswerSelected",value:function(e){var t=this.props.pollInstanceId;k.a.send(k.a.types.UI,"sendPollAnswer",{answerId:parseInt(e,10),pollInstanceId:t}),this.sendLog("Click on Answer option",{item:"Overlay Answer option",action:"answer",answer_id:e}),function(e){var t=gE(e);Ar.b.set(t,!0)}(t),k.a.send(k.a.types.UI,"showSuccessMessage",Rp.getText("ui.poll.success")),this.sendLog("Thank you notification appears",{item:"Confirmation",action:"success"}),this.setState({isNotificationVisible:!0,isQuestionVisible:!1})}},{key:"sendLog",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props,r=n.pollInstanceId,o=n.startedAt;v.send({message:e,data:Object.assign({category:"Poll",product:"Poll",poll_instance_id:r,started_at:o},t)})}},{key:"render",value:function(){var e=this.props,t=e.pollInstanceId,n=e.question,r=e.answers,o=this.state,a=o.isNotificationVisible,i=o.isQuestionVisible,s=o.notificationView;return o.isAdPlaying||!a&&!i?null:rd.a.createElement("div",{id:"Poll",className:"poll component"},a&&rd.a.createElement(lE,{onClick:this.onQuestionOpenRequest,question:n,view:s}),i&&rd.a.createElement(bh,{opened:!0,onCloseRequest:this.onQuestionCloseRequest,id:"poll_".concat(t),title:"Poll questions"},rd.a.createElement(dE,{onAnswerSelected:this.onAnswerSelected,question:n,answers:r})))}}])&&hE(n.prototype,r),o&&hE(n,o),t}();bE.defaultProps={pollInstanceId:null,startedAt:null,stoppedAt:null,question:null,answers:[]},bE.propTypes={pollInstanceId:sd.a.oneOfType([sd.a.number,sd.a.string]),startedAt:sd.a.number,stoppedAt:sd.a.number,question:sd.a.string,answers:sd.a.arrayOf(sd.a.object)};var EE=Object(cd.b)(function(e){var t=e.poll;return{pollInstanceId:t.pollInstanceId,startedAt:t.startedAt,stoppedAt:t.stoppedAt,question:t.question,answers:t.answers}})(bE);function SE(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function TE(e,t,n){var r;Array.isArray(e)||(e=[e]);var o=e.map(function(e){return"string"==typeof e?function(e,t,n){if(""===e)return[e];var r=new RegExp("(".concat(t,")"),"g");return e.split(r).map(function(e,r){return e===t?n(e,r):e})}(e,t,n):e});return(r=[]).concat.apply(r,SE(o))}function OE(e){return(OE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wE(e){return(wE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PE(e,t){return(PE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var IE=["default","buffer","freeze","does_not_start","blackscreen","audio_issues","bad_image_quality","other"],LE="https://".concat(Ce.config.site,"/privacy-policy"),RE="https://".concat(Ce.config.site,"/terms"),AE=DE("ui.reportdialog.privacy"),kE=DE("ui.reportdialog.terms"),NE=DE("ui.reportdialog.additional");function DE(e){return Rp.getText(e)}var ME=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==OE(t)&&"function"!=typeof t?_E(e):t}(this,wE(t).call(this))).state={selectedReason:"",otherReason:""},e.onSelectionChanged=e.onSelectionChanged.bind(_E(e)),e.onOtherReasonChanged=e.onOtherReasonChanged.bind(_E(e)),e.isSelectionValid=e.isSelectionValid.bind(_E(e)),e.onSubmit=e.onSubmit.bind(_E(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PE(e,t)}(t,nd["Component"]),n=t,(r=[{key:"onSelectionChanged",value:function(e){var t=e.target.value;this.setState({selectedReason:t})}},{key:"onOtherReasonChanged",value:function(e){var t=e.target.value;this.setState({otherReason:t})}},{key:"onSubmit",value:function(){var e=this.props,t=e.onSubmit,n=e.showHiddenContextMenuItems,r=this.state,o=r.selectedReason,a=r.otherReason;(n||this.isSelectionValid())&&t("other"===o?[o,": ",a].join(""):o)}},{key:"isSelectionValid",value:function(){var e=this.state,t=e.selectedReason,n=e.otherReason,r="other"===t;return r&&void 0!==n&&""!==n||!r&&void 0!==t&&""!==t}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.opened,o=n.onCloseRequest,a=n.id,i=n.formVisible,s=this.state,u=s.selectedReason,l=s.otherReason;return rd.a.createElement(bh,{opened:r,onCloseRequest:o,id:a,title:"Send log"},i&&rd.a.createElement("div",{className:"container"},rd.a.createElement("h3",null,DE("ui.reportdialog.title")),rd.a.createElement("select",{value:u,name:"reason",id:"ReportReason",className:"required",onChange:this.onSelectionChanged,"aria-labelledby":"option_default"},IE.map(function(e){return rd.a.createElement("option",{id:"option_".concat(e),key:e,value:"default"===e?"":e},function(e){return DE("ui.reportdialog.options.".concat(e))}(e))})),"other"===u&&rd.a.createElement("textarea",{value:l,rows:"4",cols:"50",maxLength:"255",name:"other",id:"other",placeholder:DE("ui.reportdialog.description"),onChange:this.onOtherReasonChanged,"aria-label":DE("ui.reportdialog.description")}),rd.a.createElement("p",{id:"additional"},(e=TE(NE,"#TERMS_LINK#",function(e,t){return rd.a.createElement("a",{key:e+t,href:RE,target:"_blank"},kE)}),e=TE(e,"#PRIVACY_LINK#",function(e,t){return rd.a.createElement("a",{key:e+t,href:LE,target:"_blank"},AE)}))),rd.a.createElement("button",{type:"button",tabIndex:"0",onClick:this.onSubmit,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),t.onSubmit())}},DE("ui.reportdialog.send"))))}}])&&CE(n.prototype,r),o&&CE(n,o),t}();ME.propTypes={opened:sd.a.bool,id:sd.a.string.isRequired,onCloseRequest:sd.a.func.isRequired,onSubmit:sd.a.func.isRequired,formVisible:sd.a.bool,showHiddenContextMenuItems:sd.a.bool},ME.defaultProps={opened:!1,formVisible:!0,showHiddenContextMenuItems:!1};var UE=Object(cd.b)(function(e){return{showHiddenContextMenuItems:e.contextMenu.showHiddenContextMenuItems}})(ME);function xE(e){return(xE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function FE(e){return(FE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function VE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BE(e,t){return(BE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function HE(e){return Rp.getText(e)}var GE=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==xE(t)&&"function"!=typeof t?VE(e):t}(this,FE(t).call(this))).state={},e.logIdRef=Object(nd.createRef)(),e.onCopyClick=e.onCopyClick.bind(VE(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&BE(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidUpdate",value:function(){var e=this;requestAnimationFrame(function(){var t=e.logIdRef.current;t&&(t.focus(),t.select())})}},{key:"onCopyClick",value:function(){var e=this.props,t=e.onCloseRequest;My(e.logId),t(),k.a.send(k.a.types.UI,"showMessage",Rp.getText("ui.idCopied"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.opened,r=t.onCloseRequest,o=t.id,a=t.logId;return rd.a.createElement(bh,{opened:n,onCloseRequest:r,id:o,title:"Copy log id"},rd.a.createElement("div",{className:"container logSendingThanksOverlay"},rd.a.createElement("h3",null,HE("ui.thanksdialog.title")),rd.a.createElement("p",null,HE("ui.thanksdialog.description")),rd.a.createElement("input",{ref:this.logIdRef,name:"logId",id:"logId",type:"text",readOnly:!0,value:a,"aria-labelledby":"copyIdButton",tabIndex:"-1"}),rd.a.createElement("button",{id:"copyIdButton",type:"button",tabIndex:"0",onClick:this.onCopyClick,onKeyPress:function(t){"Enter"===t.key&&(t.preventDefault(),e.onCopyClick())}},HE("ui.copyId"))))}}])&&jE(n.prototype,r),o&&jE(n,o),t}();GE.propTypes={opened:sd.a.bool,id:sd.a.string.isRequired,onCloseRequest:sd.a.func.isRequired,logId:sd.a.string.isRequired},GE.defaultProps={opened:!1};var qE=GE;function zE(e){return(zE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function KE(e){return(KE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function YE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QE(e,t){return(QE=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ZE=Object(s.a)("ui/components/LogSendingContainer"),XE=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t){return!t||"object"!==zE(t)&&"function"!=typeof t?YE(e):t}(this,KE(t).call(this))).state={opened:!1,thanksOverlayOpened:!1,logSendingInProgress:!1,logId:""},e.onShow=e.onShow.bind(YE(e)),e.onCloseRequest=e.onCloseRequest.bind(YE(e)),e.onLogSendingStarted=e.onLogSendingStarted.bind(YE(e)),e.onLogSendingCompleted=e.onLogSendingCompleted.bind(YE(e)),e.onThanksOverlayCloseRequest=e.onThanksOverlayCloseRequest.bind(YE(e)),e.onSubmit=e.onSubmit.bind(YE(e)),e}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QE(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){k.a.on(k.a.types.EVENT,"showReportIssueDialog",this.onShow),k.a.on(k.a.types.EVENT,"logSendingStarted",this.onLogSendingStarted),k.a.on(k.a.types.EVENT,"logSendingComplete",this.onLogSendingCompleted)}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.EVENT,"showReportIssueDialog",this.onShow),k.a.off(k.a.types.EVENT,"logSendingStarted",this.onLogSendingStarted),k.a.off(k.a.types.EVENT,"logSendingComplete",this.onLogSendingCompleted)}},{key:"onShow",value:function(){this.setState({opened:!0})}},{key:"onLogSendingStarted",value:function(){k.a.send(k.a.types.UI,"showSpinner"),this.setState({logSendingInProgress:!0})}},{key:"onLogSendingCompleted",value:function(e){k.a.send(k.a.types.UI,"hideSpinner"),this.setState({logSendingInProgress:!1,thanksOverlayOpened:!0,opened:!1,logId:e}),this.report()}},{key:"onCloseRequest",value:function(){this.setState({opened:!1})}},{key:"onThanksOverlayCloseRequest",value:function(){this.setState({thanksOverlayOpened:!1})}},{key:"onSubmit",value:function(e){ZE.info("Report playback issue",{reason:e}),k.a.send(k.a.types.EVENT,"sendLog"),this.setState({reason:e})}},{key:"report",value:function(){var e=this.state,t=e.reason,n=e.logId;if(void 0!==t&&void 0!==n){var r={message:t,data:{issue_id:n,category:"Interaction",item:"report issue"}};v.send(r,!0)}}},{key:"render",value:function(){var e=this.state,t=e.opened,n=e.thanksOverlayOpened,r=e.logSendingInProgress,o=e.logId;return rd.a.createElement(rd.a.Fragment,null,rd.a.createElement(UE,{id:"LogSendingOverlay",formVisible:!r,opened:t,onCloseRequest:this.onCloseRequest,onSubmit:this.onSubmit}),rd.a.createElement(qE,{id:"LogSendingThanksOverlay",opened:n,onCloseRequest:this.onThanksOverlayCloseRequest,logId:o}))}}])&&WE(n.prototype,r),o&&WE(n,o),t}();function JE(e){return(JE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $E(){return($E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function eS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tS(e){return(tS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rS(e,t){return(rS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oS=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==JE(t)&&"function"!=typeof t?nS(e):t}(this,tS(t).call(this,e))).state={},n.showTimeout=null,n.onCloseRequest=n.onCloseRequest.bind(nS(n)),n.onMouseEnter=n.onMouseEnter.bind(nS(n)),n.onMouseLeave=n.onMouseLeave.bind(nS(n)),n.onClick=n.onClick.bind(nS(n)),n.clearShowTimeout=n.clearShowTimeout.bind(nS(n)),n.startShowTimeout=n.startShowTimeout.bind(nS(n)),n.onPopoverMouseLeave=n.onPopoverMouseLeave.bind(nS(n)),n.onTriggerFocused=n.onTriggerFocused.bind(nS(n)),n.triggerRef=Object(nd.createRef)(),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rS(e,t)}(t,nd["Component"]),n=t,(r=[{key:"onCloseRequest",value:function(){this.props.opened&&this.togglePopover(!1)}},{key:"togglePopover",value:function(e){var t=this.props,n=t.opened;(0,t.onToggle)(void 0!==e?e:!n)}},{key:"clearShowTimeout",value:function(){clearTimeout(this.showTimeout)}},{key:"onMouseEnter",value:function(){this.startShowTimeout()}},{key:"onMouseLeave",value:function(){this.clearShowTimeout()}},{key:"onPopoverMouseLeave",value:function(){var e=this.props.onToggle;setTimeout(function(){e(!1)},3e3)}},{key:"onClick",value:function(){var e=this.props.onClick;e()}},{key:"startShowTimeout",value:function(){var e=this.props.onToggle;this.showTimeout=setTimeout(function(){e(!0)},200)}},{key:"onTriggerFocused",value:function(e){var t=e.relatedTarget;t&&this.triggerRef.current.compareDocumentPosition(t)===Node.DOCUMENT_POSITION_PRECEDING&&this.togglePopover(!0)}},{key:"render",value:function(){var e=this.state.focus,t=this.props,n=t.children,r=t.icon,o=t.ariaLabel,a=t.onTriggerKeyDown;return rd.a.createElement("div",null,rd.a.createElement(Rd,{focus:e,onToggle:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onTriggerFocused:this.onTriggerFocused,icon:r,ref:this.triggerRef,hasPopup:!0,ariaLabel:o,onKeyDown:a}),rd.a.createElement(ip,$E({},this.props,{onCloseRequest:this.onCloseRequest,onPopoverMouseLeave:this.onPopoverMouseLeave,target:this.triggerRef.current}),n))}}])&&eS(n.prototype,r),o&&eS(n,o),t}();oS.defaultProps={opened:!1,children:null,ariaLabel:"",onClick:function(){},onTriggerKeyDown:function(){}},oS.propTypes={icon:sd.a.node.isRequired,children:sd.a.node,opened:sd.a.bool,onToggle:sd.a.func.isRequired,ariaLabel:sd.a.string,onClick:sd.a.func,onTriggerKeyDown:sd.a.func};var aS=oS;function iS(e){return(iS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uS(e){return(uS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cS(e,t){return(cS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fS=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==iS(t)&&"function"!=typeof t?lS(e):t}(this,uS(t).call(this,e))).state={dragging:!1,indicatorPosition:0},n.volumeBarRef=Object(nd.createRef)(),n.onVolumeBarMouseDown=n.onVolumeBarMouseDown.bind(lS(n)),n.onVolumeBarMouseMove=n.onVolumeBarMouseMove.bind(lS(n)),n.onVolumeBarMouseUp=n.onVolumeBarMouseUp.bind(lS(n)),n.onVolumeBarMouseLeave=n.onVolumeBarMouseLeave.bind(lS(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cS(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.focus;!1===e.focus&&n&&requestAnimationFrame(function(){t.volumeBarRef.current.focus()})}},{key:"onVolumeBarMouseDown",value:function(){this.setState({dragging:!0}),k.a.send(k.a.types.UI,"dragging",!0)}},{key:"onVolumeBarMouseMove",value:function(e){var t=this.state.dragging,n=this.props.onValueSelected;this.setIndicatorForPosition(e.clientX,e.clientY);var r=this.getIndicatorPosition(e.clientX,e.clientY);t&&n(r)}},{key:"onVolumeBarMouseUp",value:function(e){var t=this.state.dragging,n=this.props.onValueSelected,r=this.getIndicatorPosition(e.clientX,e.clientY);t&&(n(r),k.a.send(k.a.types.UI,"dragging",!1),this.setState({dragging:!1}))}},{key:"onVolumeBarMouseLeave",value:function(){this.state.dragging?(k.a.send(k.a.types.UI,"dragging",!1),this.setState({dragging:!1})):this.hideIndicator()}},{key:"getIndicatorPosition",value:function(e,t){var n,r=this.props.horizontal,o=this.volumeBarRef.current.getBoundingClientRect(),a=o.height,i=o.width;if(r)n=(e-(window.pageXOffset+this.volumeBarRef.current.getBoundingClientRect().left))/i*100;else{var s=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop;n=(window.pageYOffset+this.volumeBarRef.current.getBoundingClientRect().top+a-s-t)/a*100}return n>100&&(n=100),n<0&&(n=0),n}},{key:"setIndicatorForPosition",value:function(e,t){var n=this.getIndicatorPosition(e,t);this.setState({indicatorPosition:n})}},{key:"hideIndicator",value:function(){this.setState({indicatorPosition:0})}},{key:"render",value:function(){var e=this.props,t=e.horizontal,n=e.volume,r=this.state.indicatorPosition,o={},a={};return t?(o.width="".concat(r,"%"),a.width="".concat(n,"%")):(o.height="".concat(r,"%"),a.height="".concat(n,"%")),rd.a.createElement("div",{ref:this.volumeBarRef,onMouseDown:this.onVolumeBarMouseDown,onMouseMove:this.onVolumeBarMouseMove,onMouseLeave:this.onVolumeBarMouseLeave,onMouseUp:this.onVolumeBarMouseUp,className:"volumeBar",tabIndex:"0"},rd.a.createElement("div",{className:"value",style:a}),rd.a.createElement("div",{className:"hoverIndicator",style:o},rd.a.createElement("div",{className:"knob"})))}}])&&sS(n.prototype,r),o&&sS(n,o),t}();fS.defaultProps={horizontal:!1,focus:!1},fS.propTypes={horizontal:sd.a.bool,volume:sd.a.number.isRequired,onValueSelected:sd.a.func.isRequired,focus:sd.a.bool,onKeyDown:sd.a.func.isRequired};var dS=fS;function pS(e){return(pS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mS(e){return(mS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yS(e,t){return(yS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gS=rd.a.createElement("svg",{preserveAspectRatio:"xMidYMid",width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{d:"M11.997,6.781 C11.997,6.338 11.985,5.979 11.194,5.979 C10.743,5.979 10.201,6.508 8.070,8.939 C7.837,8.939 5.067,8.939 4.746,8.939 C3.716,8.939 3.730,15.011 4.746,15.011 C5.067,15.011 7.837,15.011 8.070,15.011 C10.117,17.416 10.717,17.971 11.194,17.971 C11.985,17.971 11.997,17.611 11.997,17.168 C11.997,17.168 11.997,6.781 11.997,6.781 Z",fillRule:"evenodd",fill:"#ffffff"}),rd.a.createElement("path",{className:"lvl lvl-3",d:"M16.523,18.016 C16.365,17.749 16.195,17.461 16.011,17.153 C17.790,16.112 18.998,14.202 18.998,11.992 C18.998,9.776 17.783,7.863 15.997,6.823 C16.188,6.506 16.365,6.210 16.529,5.936 C18.600,7.153 19.994,9.398 19.994,11.974 C19.994,14.553 18.597,16.799 16.523,18.016 Z",fillRule:"evenodd",fill:"#ffffff"}),rd.a.createElement("path",{className:"lvl lvl-2",d:"M17.992,12.006 C17.992,13.846 16.987,15.437 15.507,16.306 C15.339,16.025 15.169,15.740 14.999,15.456 C16.195,14.765 17.009,13.488 17.009,12.007 C17.009,10.512 16.179,9.224 14.963,8.538 C15.135,8.255 15.306,7.971 15.476,7.689 C16.973,8.554 17.992,10.153 17.992,12.006 Z",fill:"#ffffff",fillRule:"evenodd"}),rd.a.createElement("path",{className:"lvl lvl-1",d:"M15.987,12.007 C15.987,13.118 15.377,14.075 14.480,14.594 C14.304,14.301 14.134,14.020 13.972,13.755 C14.577,13.413 14.991,12.766 14.991,12.014 C14.991,11.242 14.554,10.580 13.921,10.247 C14.085,9.981 14.260,9.695 14.440,9.399 C15.359,9.912 15.987,10.881 15.987,12.007 Z",fillRule:"evenodd",fill:"#ffffff"}),rd.a.createElement("path",{className:"lvl lvl-0",d:"M20.207,13.793 C20.207,13.793 18.793,15.207 18.793,15.207 C18.793,15.207 17.000,13.414 17.000,13.414 C17.000,13.414 15.207,15.207 15.207,15.207 C15.207,15.207 13.793,13.793 13.793,13.793 C13.793,13.793 15.586,12.000 15.586,12.000 C15.586,12.000 13.793,10.207 13.793,10.207 C13.793,10.207 15.207,8.793 15.207,8.793 C15.207,8.793 17.000,10.586 17.000,10.586 C17.000,10.586 18.793,8.793 18.793,8.793 C18.793,8.793 20.207,10.207 20.207,10.207 C20.207,10.207 18.414,12.000 18.414,12.000 C18.414,12.000 20.207,13.793 20.207,13.793 Z",fillRule:"evenodd",fill:"#ffffff"}));var bS=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==pS(t)&&"function"!=typeof t?vS(e):t}(this,mS(t).call(this,e))).trigger=Object(nd.createRef)(),n.onValueSelected=n.onValueSelected.bind(vS(n)),n.onIconMuteClick=n.onIconMuteClick.bind(vS(n)),n.onIconFullClick=n.onIconFullClick.bind(vS(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yS(e,t)}(t,nd["Component"]),n=t,(r=[{key:"onIconMuteClick",value:function(){(0,this.props.setVolume)(0)}},{key:"onIconFullClick",value:function(){(0,this.props.setVolume)(100)}},{key:"onValueSelected",value:function(e){(0,this.props.setVolume)(e)}},{key:"render",value:function(){var e=this.props,t=e.onToggle,n=e.onClick,r=e.opened,o=e.volume,a=e.horizontal,i=e.volumeBarFocus,s=e.onTriggerKeyDown,u=e.onVolumeBarKeyDown,l=e.volumeBarAriaLive,c=e.playerSize,f=e.smallResolution,d=0===o,p=d?"muted":"volume-".concat(function(e){return e<10?0:e>=10&&e<40?1:e>=40&&e<70?2:3}(o)),h="Video is ".concat(d?"muted":"unmuted",". Press enter to ").concat(d?"unmute":"mute","."),m="Volume ".concat(o,"%, press Up or Down to adjust volume"),v=rd.a.createElement("div",{className:ld()("volume-container",{horizontal:a}),tabIndex:"0","aria-label":m,"aria-live":l},rd.a.createElement("div",{className:"toggle icon-mute",onClick:this.onIconMuteClick}),rd.a.createElement(dS,{volume:o,horizontal:a,onValueSelected:this.onValueSelected,focus:i,onKeyDown:u}),rd.a.createElement("div",{className:"toggle icon-full",onClick:this.onIconFullClick}));return a?rd.a.createElement("div",{className:ld()("volume component shown",p,{horizontal:a})},rd.a.createElement(hp,{onToggle:t,placement:"top",opened:r,icon:gS,ariaLabel:h,className:"top volume-popover",playerHeight:c.height,smallResolution:f},v)):rd.a.createElement("div",{className:ld()("volume component shown",p,{horizontal:a})},rd.a.createElement(aS,{onToggle:t,placement:"top",opened:r,icon:gS,toggleOnHover:!0,ariaLabel:h,className:"top volume-popover",onClick:n,onTriggerKeyDown:s,playerHeight:c.height,smallResolution:f},v))}}])&&hS(n.prototype,r),o&&hS(n,o),t}();bS.defaultProps={opened:!1,horizontal:!1,volumeBarFocus:!1,onTriggerKeyDown:function(){},onVolumeBarKeyDown:function(){},volumeBarAriaLive:"off"},bS.propTypes={volume:sd.a.number.isRequired,opened:sd.a.bool,horizontal:sd.a.bool,onToggle:sd.a.func.isRequired,setVolume:sd.a.func.isRequired,onClick:sd.a.func.isRequired,onTriggerKeyDown:sd.a.func,onVolumeBarKeyDown:sd.a.func,volumeBarFocus:sd.a.bool,volumeBarAriaLive:sd.a.string,playerSize:sd.a.shape({width:sd.a.number,height:sd.a.number}).isRequired,smallResolution:sd.a.bool.isRequired};var ES=bS;function SS(e){return(SS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function OS(e){return(OS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wS(e,t){return(wS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _S=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==SS(t)&&"function"!=typeof t?CS(e):t}(this,OS(t).call(this,e))).state={opened:!1,previousVolume:0,volumeBarFocus:!1,volumeBarAriaLive:"off"},n.onToggle=n.onToggle.bind(CS(n)),n.toggleVolume=n.toggleVolume.bind(CS(n)),n.setVolumeByUser=n.setVolumeByUser.bind(CS(n)),n.onTriggerKeyDown=n.onTriggerKeyDown.bind(CS(n)),n.onVolumeBarKeyDown=n.onVolumeBarKeyDown.bind(CS(n)),n.handleArrowKeyDown=n.handleArrowKeyDown.bind(CS(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wS(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){k.a.on(k.a.types.UI,"keyDown",this.onVolumeBarKeyDown)}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.UI,"keyDown",this.onVolumeBarKeyDown)}},{key:"onToggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.opened,t=this.props.horizontal;this.setState({opened:e,volumeBarFocus:t&&e,volumeBarAriaLive:"off"})}},{key:"onTriggerKeyDown",value:function(e){var t=this.state.opened;"Tab"===e.key&&t&&this.setState({volumeBarFocus:!0})}},{key:"setVolumeByUser",value:function(e){var t=this.props,n=t.setCurrentVolume,r=t.volume;this.setState({previousVolume:r}),n(e),function(e){v.send({message:"Adjust volume",data:{category:"Interaction",item:"volume",action:"adjust",volume_level:e}})}(e)}},{key:"toggleVolume",value:function(){var e=this.props,t=e.horizontal,n=e.volume,r=this.state.previousVolume;t||(0===n?this.setVolumeByUser(r||100):this.setVolumeByUser(0))}},{key:"increaseVolume",value:function(e){var t=this.props.volume,n=Math.min(t+e,100);this.setVolumeByUser(n)}},{key:"decreaseVolume",value:function(e){var t=this.props.volume,n=Math.max(t-e,0);this.setVolumeByUser(n)}},{key:"onVolumeBarKeyDown",value:function(e){-1!==e.key.indexOf("Arrow")&&(e.preventDefault(),e.stopPropagation(),this.handleArrowKeyDown(e))}},{key:"handleArrowKeyDown",value:function(e){var t=e.key;-1!==t.indexOf("Arrow")&&(this.setState({volumeBarAriaLive:"polite"}),"ArrowDown"===t?this.decreaseVolume(1):"ArrowUp"===t&&this.increaseVolume(1))}},{key:"render",value:function(){var e=this.state,t=e.opened,n=e.volumeBarFocus,r=e.volumeBarAriaLive,o=this.props,a=o.volume,s=o.horizontal,u=o.playerSize,l=o.smallResolution;return!i.a.ios&&rd.a.createElement(ES,{onToggle:this.onToggle,onClick:this.toggleVolume,opened:t,volume:a,setVolume:this.setVolumeByUser,horizontal:s,volumeBarFocus:n,volumeBarAriaLive:r,onTriggerKeyDown:this.onTriggerKeyDown,onVolumeBarKeyDown:this.onVolumeBarKeyDown,playerSize:u,smallResolution:l})}}])&&TS(n.prototype,r),o&&TS(n,o),t}();_S.defaultProps={horizontal:!1,volume:0,setCurrentVolume:function(){}},_S.propTypes={horizontal:sd.a.bool,volume:sd.a.number,setCurrentVolume:sd.a.func,playerSize:sd.a.shape({width:sd.a.number,height:sd.a.number}).isRequired,smallResolution:sd.a.bool.isRequired};var PS=Object(cd.b)(function(e){return{volume:e.player.volume,playerSize:Object(y.b)(e),smallResolution:Object(y.d)(e)}},function(e){return{setCurrentVolume:Object(pd.bindActionCreators)(Z.e,e)}})(_S);function IS(){return rd.a.createElement("div",{id:"SeekBar",className:"seekbar component live"},rd.a.createElement("div",{className:"loadingBar"}))}IS.defaultProps={},IS.propTypes={};var LS=IS,RS=n(49);function AS(e){var t=e.duration,n=e.markers,r=e.activeMarker;return rd.a.createElement("div",{className:"videoComponent captionSearchMarkerContainer"},n.map(function(e,n){var o=r===n,a="".concat(e.start_sec/t*100,"%");return rd.a.createElement("div",{key:n,className:ld()("caption-search-marker",{"active-marker":o}),style:{left:a}})}))}AS.defaultProps={markers:[],activeMarker:-1},AS.propTypes={duration:sd.a.number.isRequired,markers:sd.a.arrayOf(sd.a.shape({start_sec:sd.a.number})),activeMarker:sd.a.number};var kS=AS;function NS(){return(NS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function DS(e){return(DS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function MS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function US(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xS(e,t,n){return t&&US(e.prototype,t),n&&US(e,n),e}function jS(e,t){return!t||"object"!==DS(t)&&"function"!=typeof t?FS(e):t}function FS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VS(e){return(VS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&HS(e,t)}function HS(e,t){return(HS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function GS(e,t){if(!e)return!1;var n,r,o=e.getBoundingClientRect(),a=o.left,i=o.right;return(n={left:a,right:i}).right>(r=t).left&&n.left<r.right}var qS=function(e){function t(e){var n;return MS(this,t),(n=jS(this,VS(t).call(this,e))).ref=Object(nd.createRef)(),n}return BS(t,nd["PureComponent"]),xS(t,[{key:"isCovered",value:function(){var e=this.props,t=e.seekProgressVisible,n=e.seekProgressTextStart,r=e.seekProgressTextEnd;return!!t&&GS(this.ref.current,{left:n,right:r})}},{key:"isProgressTextVisible",value:function(){return!!this.ref.current&&this.props.videoProgressWidth<this.ref.current.getBoundingClientRect().width+20}},{key:"render",value:function(){var e=this.props.currentTime;return rd.a.createElement("div",{className:ld()("videoComponent videoProgressLength firstProgressText length",{covered:this.isCovered()||!this.isProgressTextVisible()}),ref:this.ref},Object(RS.a)(e))}}]),t}();qS.propTypes={currentTime:sd.a.number.isRequired,seekProgressVisible:sd.a.bool.isRequired,seekProgressTextStart:sd.a.number.isRequired,seekProgressTextEnd:sd.a.number.isRequired,videoProgressWidth:sd.a.number.isRequired};var zS=function(e){function t(e){var n;return MS(this,t),(n=jS(this,VS(t).call(this,e))).progressRef=Object(nd.createRef)(),n.innerProgressTextRef=Object(nd.createRef)(),n}return BS(t,nd["PureComponent"]),xS(t,[{key:"componentDidUpdate",value:function(e){this.props.progress!==e.progress&&(this.progressRef.current&&(0,this.props.onVideoProgressChange)(this.progressRef.current.getBoundingClientRect()))}},{key:"isCovered",value:function(){var e=this.props,t=e.seekProgressVisible,n=e.seekProgressTextStart,r=e.seekProgressTextEnd;return!!t&&GS(this.innerProgressTextRef.current,{left:n,right:r})}},{key:"isProgressTextVisible",value:function(){return!(!this.progressRef.current||!this.innerProgressTextRef.current)&&this.progressRef.current.getBoundingClientRect().width>this.innerProgressTextRef.current.getBoundingClientRect().width+20}},{key:"render",value:function(){var e=this.props,t=e.duration,n=e.progress,r=t*n,o={width:"".concat(100*n,"%")};return rd.a.createElement("div",{ref:this.progressRef,className:"videoComponent progress",style:o},rd.a.createElement("div",{ref:this.innerProgressTextRef,className:ld()("videoComponent videoProgressLength length",{covered:this.isCovered()||!this.isProgressTextVisible()})},Object(RS.a)(r)))}}]),t}();function WS(e){var t=e.progress,n={left:"".concat(100*t,"%")};return rd.a.createElement("div",{className:"loadingBar",style:n})}zS.propTypes={duration:sd.a.number.isRequired,progress:sd.a.number.isRequired,seekProgressVisible:sd.a.bool.isRequired,seekProgressTextStart:sd.a.number.isRequired,seekProgressTextEnd:sd.a.number.isRequired,onVideoProgressChange:sd.a.func.isRequired},WS.propTypes={progress:sd.a.number.isRequired};var KS=function(e){function t(e){var n;return MS(this,t),(n=jS(this,VS(t).call(this,e))).state={coveredComponent:"first"},n.firstProgressTextRef=Object(nd.createRef)(),n.innerProgressTextRef=Object(nd.createRef)(),n}return BS(t,nd["PureComponent"]),xS(t,[{key:"componentDidMount",value:function(){this.updateCoveredComponent()}},{key:"componentDidUpdate",value:function(){this.updateCoveredComponent()}},{key:"updateCoveredComponent",value:function(){var e=this.firstProgressTextRef.current,t=this.innerProgressTextRef.current;if(e&&t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=r.left<n.left?"inner":"first";this.state.currentProgress!==o&&this.setState({coveredComponent:o}),(0,this.props.onProgressComponentMoved)("first"===o?r:n)}}},{key:"render",value:function(){var e=this.props,t=e.progress,n=e.duration,r=this.state.coveredComponent,o=Object(RS.a)(n*t),a={width:"".concat(100*t,"%")};return rd.a.createElement("div",{className:"videoComponent seekProgress progress",style:a},rd.a.createElement("div",{className:ld()("seekLength firstProgressText",{covered:"first"===r}),ref:this.firstProgressTextRef},o),rd.a.createElement("div",{className:ld()("seekLength",{covered:"inner"===r}),ref:this.innerProgressTextRef},o),rd.a.createElement("div",{className:"knob"}))}}]),t}();KS.propTypes={progress:sd.a.number.isRequired,duration:sd.a.number.isRequired,onProgressComponentMoved:sd.a.func.isRequired};var YS=function(e){function t(e){var n;return MS(this,t),(n=jS(this,VS(t).call(this,e))).ref=Object(nd.createRef)(),n}return BS(t,nd["PureComponent"]),xS(t,[{key:"isCovered",value:function(){if(!this.ref.current)return!1;var e=this.props.componentDimension;if(!e)return!1;var t=this.props.videoProgressWidth,n=this.ref.current.getBoundingClientRect().width;if(e.width-t<n+20)return!0;var r=this.props,o=r.seekProgressVisible,a=r.seekProgressTextStart,i=r.seekProgressTextEnd;return!!o&&GS(this.ref.current,{left:a,right:i})}},{key:"render",value:function(){var e=this.props.duration;return rd.a.createElement("div",{ref:this.ref,className:ld()("videoComponent videoLength length",{covered:this.isCovered()})},e?Object(RS.a)(e):"--:--")}}]),t}();YS.defaultProps={componentDimension:null},YS.propTypes={duration:sd.a.number.isRequired,seekProgressVisible:sd.a.bool.isRequired,seekProgressTextStart:sd.a.number.isRequired,seekProgressTextEnd:sd.a.number.isRequired,videoProgressWidth:sd.a.number.isRequired,componentDimension:sd.a.instanceOf(DOMRect)};var QS=function(e){function t(e){var n;return MS(this,t),(n=jS(this,VS(t).call(this,e))).componentRef=Object(nd.createRef)(),n.state={hover:!1,mouseDown:!1,dragging:!1,cursorX:0,seekProgressTextStart:0,seekProgressTextEnd:0,videoProgressWidth:0,isAriaLiveOn:!1},n.onKeyDown=n.onKeyDown.bind(FS(n)),n.onMouseDown=n.onMouseDown.bind(FS(n)),n.onMouseUp=n.onMouseUp.bind(FS(n)),n.onMouseMove=n.onMouseMove.bind(FS(n)),n.onMouseLeave=n.onMouseLeave.bind(FS(n)),n.onProgressComponentMoved=n.onProgressComponentMoved.bind(FS(n)),n.onVideoProgressChange=n.onVideoProgressChange.bind(FS(n)),n.onBlur=n.onBlur.bind(FS(n)),n}return BS(t,nd["PureComponent"]),xS(t,[{key:"componentDidMount",value:function(){k.a.on(k.a.types.UI,"keyDown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.UI,"keyDown",this.onKeyDown)}},{key:"onKeyDown",value:function(e){var t=e.key;if(["ArrowRight","ArrowLeft"].includes(t)){this.setState({isAriaLiveOn:!0}),e.preventDefault();var n=this.props,r=n.progress,o=n.duration,a=n.onSeekRequest,i="ArrowRight"===t?1:-1,s=Math.min(10,o/10)/o;a(Object(jd.a)(r+i*s,{lower:0,upper:1}))}}},{key:"onBlur",value:function(){this.setState({isAriaLiveOn:!1})}},{key:"onMouseDown",value:function(){this.setState({mouseDown:!0})}},{key:"onMouseUp",value:function(e){var t="clientX"in e?e.clientX:e.changedTouches[0].clientX,n=this.getCursorPositionInPercent(t);(0,this.props.onSeekRequest)(n),this.setState({hover:!1,dragging:!1,mouseDown:!1})}},{key:"onMouseMove",value:function(e){var t="clientX"in e?e.clientX:e.touches[0].clientX,n=this.state.mouseDown;this.setState({hover:!0,dragging:n,cursorX:t})}},{key:"onMouseLeave",value:function(){this.setState({hover:!1})}},{key:"onProgressComponentMoved",value:function(e){var t=e.left,n=e.right;this.setState({seekProgressTextStart:t-20,seekProgressTextEnd:n+20})}},{key:"onVideoProgressChange",value:function(e){var t=e.width;this.setState({videoProgressWidth:t,isAriaLiveOn:!1})}},{key:"getComponentDimension",value:function(){return this.componentRef.current?this.componentRef.current.getBoundingClientRect():null}},{key:"getCursorPositionInPercent",value:function(e){var t=this.getComponentDimension();return t&&0!==t.width?(e-t.left)/t.width:0}},{key:"render",value:function(){var e=this.props,t=e.playing,n=e.duration,r=e.progress,o=e.markers,a=e.activeMarker,s=this.state,u=s.cursorX,l=s.hover,c=s.dragging,f=s.seekProgressTextStart,d=s.seekProgressTextEnd,p=s.videoProgressWidth,h=s.isAriaLiveOn,m=n*r,v=function(e,t){if(0===e)return"Seekbar, press Left or Right to seek";var n="At position ".concat(Object(RS.a)(e),".");return t?n:"".concat(n," Press space to play")}(m,t),y=this.getComponentDimension(),g=l&&!c,b=this.getCursorPositionInPercent(u),E=i.a.ios?{onTouchStart:this.onMouseDown,onTouchMove:this.onMouseMove,onTouchEnd:this.onMouseUp}:{onMouseDown:this.onMouseDown,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave},S=h?"polite":"off";return rd.a.createElement("div",NS({id:"SeekBar",ref:this.componentRef,className:"seekbar component video",tabIndex:"0","aria-label":v,onBlur:this.onBlur},E),rd.a.createElement("p",{className:"off-screen",role:"region","aria-atomic":"true","aria-live":S,"aria-labelledby":"SeekBar"},v),rd.a.createElement(qS,{currentTime:m,seekProgressVisible:g,seekProgressTextStart:f,seekProgressTextEnd:d,videoProgressWidth:p}),rd.a.createElement(zS,{duration:n,progress:c?b:r,seekProgressVisible:g,seekProgressTextStart:f,seekProgressTextEnd:d,onVideoProgressChange:this.onVideoProgressChange}),rd.a.createElement(WS,{progress:r}),o.length>0&&rd.a.createElement(kS,{duration:n,markers:o,activeMarker:a}),g&&rd.a.createElement(KS,{progress:b,duration:n,onProgressComponentMoved:this.onProgressComponentMoved}),rd.a.createElement(YS,{duration:n,seekProgressVisible:g,seekProgressTextStart:f,seekProgressTextEnd:d,videoProgressWidth:p,componentDimension:y}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.hover?null:{cursorX:0,seekProgressTextStart:0,seekProgressTextEnd:0}}}]),t}();QS.defaultProps={playing:!1,duration:0,progress:0,onSeekRequest:function(){},markers:[],activeMarker:-1},QS.propTypes={playing:sd.a.bool,duration:sd.a.number,progress:sd.a.number,onSeekRequest:sd.a.func,markers:sd.a.arrayOf(sd.a.shape({start_sec:sd.a.number})),activeMarker:sd.a.number};var ZS=QS;function XS(e){var t=e.mediaType,n=e.trimmedDuration,r=e.playing,o=e.progress,a=e.markers,i=e.activeMarker;if(!t)return null;if(t===Ca.a.live)return rd.a.createElement(LS,null);return rd.a.createElement(ZS,{onSeekRequest:function(e){v.send({message:"Seek",data:{category:"Interaction",item:"seekbar",action:"seek"}});var t={from:o,to:e,duration:n};k.a.send(k.a.types.EVENT,"setSeek",t),k.a.send(k.a.types.UI,"hoverWithTimeout")},duration:n,playing:r,progress:o,markers:a,activeMarker:i})}XS.defaultProps={mediaType:null,playing:!1,trimmedDuration:0,progress:0,markers:[],activeMarker:-1},XS.propTypes={mediaType:sd.a.oneOf(Object.values(Ca.a)),playing:sd.a.bool,trimmedDuration:sd.a.number,progress:sd.a.number,markers:sd.a.arrayOf(sd.a.shape({start_sec:sd.a.number})),activeMarker:sd.a.number};var JS=Object(cd.b)(function(e){var t=e.content,n=e.playback,r=e.captionSearch,o=e.seekbar;return{mediaType:t.mediaType,playing:n.playing,trimmedDuration:t.trimmedDuration,progress:n.progress,markers:r.searchResult,activeMarker:o.activeMarkerIndex}})(XS);function $S(e){var t=e.onClick,n=e.onMouseMove,r=e.onMouseLeave;return rd.a.createElement("div",{className:"clickContainer",onClick:t,onMouseMove:n,onMouseLeave:r})}$S.defaultProps={onClick:function(){},onMouseMove:function(){},onMouseLeave:function(){}},$S.propTypes={onClick:sd.a.func,onMouseMove:sd.a.func,onMouseLeave:sd.a.func};var eT=$S;function tT(e,t,n){if(e.classList.contains("popover-opened"))k.a.send(k.a.types.UI,"closePopovers");else if(l.a.isContentPlayable()&&!n){var r,o,a=t?"pause":"play";o="play"===(r=a)?"Play":"Pause",v.send({message:o,data:{category:"Interaction",item:r,action:r}}),k.a.send(k.a.types.COMMAND,a),k.a.send(k.a.types.UI,"showStatusAnimation",a)}}function nT(e){k.a.send(k.a.types.UI,"onClickOverlayMouseMove",e)}function rT(e){k.a.send(k.a.types.UI,"onClickOverlayMouseLeave",e)}function oT(e){var t=e.body,n=e.playing,r=e.smallResolution;return rd.a.createElement(eT,{onClick:function(){return tT(t,n,r)},onMouseMove:nT,onMouseLeave:rT})}oT.defaultProps={body:document.getElementById("PlayerOne")},oT.propTypes={playing:sd.a.bool.isRequired,smallResolution:sd.a.bool.isRequired,body:sd.a.instanceOf(HTMLElement)};var aT=Object(cd.b)(function(e){return{playing:e.playback.playing,smallResolution:Object(y.d)(e)}})(oT);function iT(e){return(iT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uT(e){return(uT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cT(e,t){return(cT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fT=rd.a.createElement("svg",{preserveAspectRatio:"xMidYMid",width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{d:"M13.425,12.013 C13.425,12.013 16.729,15.317 16.729,15.317 C17.120,15.707 17.120,16.340 16.729,16.731 C16.339,17.122 15.705,17.122 15.315,16.731 C15.315,16.731 12.000,13.416 12.000,13.416 C12.000,13.416 8.685,16.731 8.685,16.731 C8.295,17.122 7.661,17.122 7.271,16.731 C6.880,16.340 6.880,15.707 7.271,15.317 C7.271,15.317 10.575,12.013 10.575,12.013 C10.575,12.013 7.271,8.683 7.271,8.683 C6.880,8.293 6.880,7.660 7.271,7.269 C7.661,6.879 8.295,6.879 8.685,7.269 C8.685,7.269 12.000,10.610 12.000,10.610 C12.000,10.610 15.315,7.269 15.315,7.269 C15.705,6.879 16.339,6.879 16.729,7.269 C17.120,7.660 17.120,8.293 16.729,8.683 C16.729,8.683 13.425,12.013 13.425,12.013 Z",fill:"#ffffff",fillRule:"evenodd"})),dT=rd.a.createElement("svg",{width:"24",height:"24"},rd.a.createElement("path",{d:"M6.41421356,8 L10.363961,11.9497475 C10.7544853,12.3402718 10.7544853,12.9734367 10.363961,13.363961 C9.97343674,13.7544853 9.34027176,13.7544853 8.94974747,13.363961 L5,9.41421356 L5,12 C5,12.5522847 4.55228475,13 4,13 C3.44771525,13 3,12.5522847 3,12 L3,7 C3,6.44771525 3.44771525,6 4,6 L9,6 C9.55228475,6 10,6.44771525 10,7 C10,7.55228475 9.55228475,8 9,8 L6.41421356,8 Z M17.5857864,16 L13.636039,12.0502525 C13.2455147,11.6597282 13.2455147,11.0265633 13.636039,10.636039 C14.0265633,10.2455147 14.6597282,10.2455147 15.0502525,10.636039 L19,14.5857864 L19,12 C19,11.4477153 19.4477153,11 20,11 C20.5522847,11 21,11.4477153 21,12 L21,17 C21,17.5522847 20.5522847,18 20,18 L15,18 C14.4477153,18 14,17.5522847 14,17 C14,16.4477153 14.4477153,16 15,16 L17.5857864,16 Z",fill:"#fff"})),pT=rd.a.createElement("svg",{preserveAspectRatio:"xMidYMid",width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{className:"full",d:"M16.383,8.969 C16.383,8.969 19.000,8.969 19.000,8.969 C19.552,8.969 20.000,9.416 20.000,9.969 C20.000,10.521 19.552,10.969 19.000,10.969 C19.000,10.969 14.088,10.969 14.088,10.969 C13.802,11.005 13.506,10.928 13.286,10.708 C13.093,10.514 13.002,10.258 13.007,10.004 C13.007,9.992 13.000,9.981 13.000,9.969 C13.000,9.969 13.000,4.969 13.000,4.969 C13.000,4.416 13.448,3.969 14.000,3.969 C14.552,3.969 15.000,4.416 15.000,4.969 C15.000,4.969 15.000,7.615 15.000,7.615 C15.000,7.615 18.348,4.253 18.348,4.253 C18.725,3.874 19.337,3.874 19.714,4.253 C20.091,4.631 20.091,5.245 19.714,5.624 C19.714,5.624 16.383,8.969 16.383,8.969 ZM10.000,19.969 C9.448,19.969 9.000,19.521 9.000,18.969 C9.000,18.969 9.000,16.345 9.000,16.345 C9.000,16.345 5.652,19.708 5.652,19.708 C5.275,20.087 4.663,20.087 4.286,19.708 C3.909,19.329 3.909,18.715 4.286,18.336 C4.286,18.336 7.640,14.969 7.640,14.969 C7.640,14.969 5.000,14.969 5.000,14.969 C4.448,14.969 4.000,14.521 4.000,13.969 C4.000,13.416 4.448,12.969 5.000,12.969 C5.000,12.969 10.000,12.969 10.000,12.969 C10.005,12.969 10.010,12.972 10.015,12.972 C10.268,12.968 10.521,13.059 10.714,13.253 C10.904,13.444 10.997,13.695 10.995,13.945 C10.995,13.953 11.000,13.960 11.000,13.969 C11.000,13.969 11.000,18.969 11.000,18.969 C11.000,19.521 10.552,19.969 10.000,19.969 Z",fillRule:"evenodd",fill:"#ffffff"})),hT=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==iT(t)&&"function"!=typeof t?lT(e):t}(this,uT(t).call(this,e))).state={mobileFullScreen:!1},n.desktopThumbnailComponentRef=Object(nd.createRef)(),n.desktopControlsOverlayComponentRef=Object(nd.createRef)(),n.onResize=n.onResize.bind(lT(n)),n.onSlideDeckDesktopSwitchClick=n.onSlideDeckDesktopSwitchClick.bind(lT(n)),n.onClose=n.onClose.bind(lT(n)),n.minifyThumbnail=n.minifyThumbnail.bind(lT(n)),n.fullscreenThumbnail=n.fullscreenThumbnail.bind(lT(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cT(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){k.a.on(k.a.types.EVENT,"resize",this.onResize)}},{key:"componentDidUpdate",value:function(){var e=this;setTimeout(function(){return e.updateControlsOverlay()},0)}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.EVENT,"resize",this.onResize)}},{key:"onResize",value:function(){this.props.smallResolution&&this.handleOrientationClass()}},{key:"onSlideDeckDesktopSwitchClick",value:function(){var e=this,t=this.props,n=t.onSwitchClick,r=t.body,o=r.classList.contains("slide-deck-slide-active");r.addEventListener("transitionend",function(){o?(r.classList.remove("slide-deck-slide-active"),r.classList.add("slide-deck-video-active")):(r.classList.add("slide-deck-slide-active"),r.classList.remove("slide-deck-video-active")),setTimeout(function(){e.updateControlsOverlay(),r.classList.remove("fade-out-slides")},100)}),r.classList.add("fade-out-slides"),n(o)}},{key:"onClose",value:function(e){var t=this.props,n=t.onThumbnailCloseClick,r=t.body,o=r.classList.contains("slide-deck-slide-active");e.stopPropagation(),r.classList.add("slide-deck-full"),n(o)}},{key:"getViewportOrientationClassName",value:function(){return this.state.mobileFullScreen?"full-screen-"+(window.innerHeight>window.innerWidth?"portrait":"landscape"):""}},{key:"handleOrientationClass",value:function(){this.state.mobileFullScreen&&this.minifyThumbnail()}},{key:"fullscreenThumbnail",value:function(){this.setState({mobileFullScreen:!0})}},{key:"minifyThumbnail",value:function(){this.setState({mobileFullScreen:!1})}},{key:"getVideoDimensions",value:function(){var e=document.getElementById("ViewerContainer"),t=e.getElementsByTagName("video")[0],n=e.getElementsByTagName("object")[0],r=!!n,o=r?n:t;if(o){var a;if(r){var i=this.props.videoSize,s=i.width,u=i.height;a=s&&u?u/s:0}else a=o.videoWidth&&o.videoHeight?o.videoHeight/o.videoWidth:0;var l=o.getBoundingClientRect&&o.getBoundingClientRect();if(l)return{width:l.width,height:l.width*a}}}},{key:"fitOverlayToVideo",value:function(){var e=this.getVideoDimensions();e&&this.fitOverlayToComponent(e)}},{key:"fitOverlayToSlide",value:function(){var e=this.desktopThumbnailComponentRef.current.getBoundingClientRect();this.fitOverlayToComponent(e)}},{key:"fitOverlayToComponent",value:function(e){null!==e&&0!==e.height&&this.desktopControlsOverlayComponentRef.current&&(this.desktopControlsOverlayComponentRef.current.style.width="".concat(2+e.width,"px"),this.desktopControlsOverlayComponentRef.current.style.height="".concat(2+e.height,"px"))}},{key:"updateControlsOverlay",value:function(){var e=this.props,t=e.smallResolution,n=e.body;if(!t){var r;n.classList.contains("slide-deck-slide-active")?r="slide":n.classList.contains("slide-deck-video-active")&&(r="video");var o="video"===r;"slide"===r?this.fitOverlayToVideo():o?this.fitOverlayToSlide():(n.classList.add("slide-deck-slide-active"),this.fitOverlayToVideo())}}},{key:"render",value:function(){var e=this.props,t=e.currentSlideUrl,n=e.smallResolution,r=this.state.mobileFullScreen,o={backgroundImage:t?"url(".concat(t,")"):""};return rd.a.createElement("div",null,n&&rd.a.createElement("div",{className:ld()("slide-deck-mobile",this.getViewportOrientationClassName())},rd.a.createElement("div",{className:"slide-deck-mobile-thumbnail",style:o,onClick:this.fullscreenThumbnail}),r&&rd.a.createElement("div",{className:"slide-deck-mobile-minify",onClick:this.minifyThumbnail},pT)),!n&&rd.a.createElement("div",{className:"slide-deck-desktop"},rd.a.createElement("div",{className:"slide-deck-desktop-controls",ref:this.desktopControlsOverlayComponentRef,onClick:this.onSlideDeckDesktopSwitchClick},rd.a.createElement("button",{type:"button","aria-label":"Switch",className:"slide-deck-desktop-switch component trigger"},dT),rd.a.createElement("button",{type:"button","aria-label":"Close",className:"slide-deck-desktop-close component trigger",onClick:this.onClose},fT)),rd.a.createElement("div",{className:"slide-deck-desktop-thumbnail-container"},rd.a.createElement("img",{className:"slide-deck-desktop-thumbnail",alt:"",src:t,ref:this.desktopThumbnailComponentRef}))))}}])&&sT(n.prototype,r),o&&sT(n,o),t}();hT.defaultProps={currentSlideUrl:"",body:document.getElementById("PlayerOne")},hT.propTypes={currentSlideUrl:sd.a.string,onSwitchClick:sd.a.func.isRequired,onThumbnailCloseClick:sd.a.func.isRequired,body:sd.a.instanceOf(HTMLElement),smallResolution:sd.a.bool.isRequired};var mT=hT,vT=n(52);var yT={disable:function(){return g.a.dispatch({type:vT.a.disable})},setSlides:function(e){return g.a.dispatch({type:vT.a.setSlides,payload:{slides:e}})},setCurrentSlide:function(e){return g.a.dispatch({type:vT.a.setCurrentSlide,payload:{slide:e}})},setOnboarding:function(e){var t;return window.sessionStorage.getItem("onboarding_value")?t=!1:(t=e,window.sessionStorage.setItem("onboarding_value",!0)),g.a.dispatch({type:vT.a.setOnboarding,payload:{onboarding:t}})},toggleSlideIndexPanel:function(e){return g.a.dispatch({type:vT.a.toggleSlideIndexPanel,payload:e})}};function gT(e){return(gT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ET(e){return(ET=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ST(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TT(e,t){return(TT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function OT(e){v.send({data:{category:"Slides",item:"thumbnail",action:"switch",content:e?"video":"slide"}})}var CT=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==gT(t)&&"function"!=typeof t?ST(e):t}(this,ET(t).call(this,e))).state={firstSlide:!1},n.hideSlideDeckComponent=n.hideSlideDeckComponent.bind(ST(n)),n.onThumbnailCloseClick=n.onThumbnailCloseClick.bind(ST(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&TT(e,t)}(t,nd["PureComponent"]),n=t,(r=[{key:"componentDidUpdate",value:function(){var e=this,t=this.props,n=t.currentSlide,r=t.smallResolution,o=this.state.firstSlide,a=this.props.body;n?(o||(v.send({data:{category:"Slides",item:"slide",action:"started"}}),requestAnimationFrame(function(){e.setState({firstSlide:!0})})),r?(a.classList.add("slide-deck-mobile-active"),a.classList.remove("slide-deck-desktop-active")):(a.classList.add("slide-deck-desktop-active"),a.classList.remove("slide-deck-mobile-active")),a.classList.contains("slide-deck-visible")||a.classList.add("slide-deck-visible")):this.hideSlideDeckComponent()}},{key:"hideSlideDeckComponent",value:function(){var e=this.props.body;e.classList.remove("slide-deck-desktop-active"),e.classList.remove("slide-deck-mobile-active"),e.classList.remove("slide-deck-visible")}},{key:"onThumbnailCloseClick",value:function(e){var t=this.props.setOnboarding,n=e?"Show video again":"Show slide again";v.send({data:{category:"Slides",item:"thumbnail",action:"close",content:e?"video":"slide"}}),t(n),k.a.send(k.a.types.UI,"slideDeckThumbnailClosed")}},{key:"render",value:function(){var e=this.props,t=e.currentSlide,n=e.enabled,r=e.smallResolution,o=e.videoSize;return null!==t&&n&&rd.a.createElement(mT,{currentSlideUrl:t.url,onSwitchClick:OT,onThumbnailCloseClick:this.onThumbnailCloseClick,smallResolution:r,videoSize:o})}}])&&bT(n.prototype,r),o&&bT(n,o),t}();CT.defaultProps={enabled:!1,currentSlide:null,body:document.getElementById("PlayerOne"),setOnboarding:function(){}},CT.propTypes={enabled:sd.a.bool,currentSlide:sd.a.shape({url:sd.a.string}),body:sd.a.instanceOf(HTMLElement),setOnboarding:sd.a.func,smallResolution:sd.a.bool.isRequired,videoSize:sd.a.shape({width:sd.a.number,height:sd.a.number}).isRequired};var wT=Object(cd.b)(function(e){var t=e.slideDeck;return{enabled:t.isEnabled,currentSlide:t.currentSlide,smallResolution:Object(y.d)(e),videoSize:Object(y.c)(e)}},function(e){return{setOnboarding:Object(pd.bindActionCreators)(yT.setOnboarding,e)}})(CT),_T=rd.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{d:"M15.5142139,16 L17.6390035,18.1247896 C18.0946152,18.5804012 18.1473789,19.26633 17.7568546,19.6568542 C17.3663303,20.0473785 16.6804016,19.9946148 16.2247899,19.5390031 L13,16.3142132 L13,19.1428571 C13,19.6162441 12.5522847,20 12,20 C11.4477153,20 11,19.6162441 11,19.1428571 L11,16.2781746 L7.73917147,19.5390031 C7.2835598,19.9946148 6.59763107,20.0473785 6.20710678,19.6568542 C5.81658249,19.26633 5.86934624,18.5804012 6.32495791,18.1247896 L8.44974747,16 L4,16 C3.44771525,16 3,15.5522847 3,15 L3,5 C3,4.44771525 3.44771525,4 4,4 L20,4 C20.5522847,4 21,4.44771525 21,5 L21,15 C21,15.5522847 20.5522847,16 20,16 L15.5142139,16 Z M19,14 L19,6 L5,6 L5,14 L19,14 Z",fill:"#fff"})),PT="Slide index";function IT(e){var t=e.toggleSlideIndexPanel;return rd.a.createElement("div",{className:"slideIndexOpener component"},rd.a.createElement(Rd,{ariaLabel:PT,icon:_T,onToggle:function(){k.a.send(k.a.types.UI,"closePopovers"),k.a.send(k.a.types.UI,"closeOverlays"),t(!0)},label:PT}))}IT.defaultProps={toggleSlideIndexPanel:function(){}},IT.propTypes={toggleSlideIndexPanel:sd.a.func};var LT=Object(cd.b)(null,function(e){return{toggleSlideIndexPanel:Object(pd.bindActionCreators)(yT.toggleSlideIndexPanel,e)}})(IT);function RT(e){return(RT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function AT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kT(e){return(kT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function NT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DT(e,t){return(DT=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var MT=rd.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{transform:"translate(-3, 0)",fill:"#fff",d:"M20,18 L4,18 C3.44771525,18 3,17.5522847 3,17 L3,7 C3,6.44771525 3.44771525,6 4,6 L20,6 C20.5522847,6 21,6.44771525 21,7 L21,17 C21,17.5522847 20.5522847,18 20,18 Z M19,16 L19,8 L5,8 L5,16 L19,16 Z M18.006,13.25 C18.006,13.6642136 17.7258422,14 17.38025,14 L13.62575,14 C13.2801578,14 13,13.6642136 13,13.25 L13,10.75 C13,10.3357864 13.2801578,10 13.62575,10 L17.38025,10 C17.7258422,10 18.006,10.3357864 18.006,10.75 L18.006,13.25 Z"})),UT=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==RT(t)&&"function"!=typeof t?NT(e):t}(this,kT(t).call(this,e))).state={opened:!1,onboardingShown:!1,aria:"Hide thumbnail"},n.triggerRef=Object(nd.createRef)(),n.onSlideDeckThumbnailClosed=n.onSlideDeckThumbnailClosed.bind(NT(n)),n.onSlideDeckThumbnailToggleClick=n.onSlideDeckThumbnailToggleClick.bind(NT(n)),n.onCloseRequest=n.onCloseRequest.bind(NT(n)),n.onCloseIconClick=n.onCloseIconClick.bind(NT(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&DT(e,t)}(t,nd["Component"]),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.opened,r=t.onboardingShown;return!e.onboarding||n||r?null:{opened:!0,onboardingShown:!0}}}],(r=[{key:"componentDidMount",value:function(){k.a.on(k.a.types.UI,"slideDeckThumbnailClosed",this.onSlideDeckThumbnailClosed)}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.UI,"slideDeckThumbnailClosed",this.onSlideDeckThumbnailClosed)}},{key:"onSlideDeckThumbnailClosed",value:function(){this.updateAriaLabel()}},{key:"onSlideDeckThumbnailToggleClick",value:function(){var e=this.props.body,t=e.classList.contains("slide-deck-full")?"show":"hide";v.send({data:{category:"Slides",item:"slide button",action:t}}),e.classList.contains("slide-deck-full")?e.classList.remove("slide-deck-full"):e.classList.add("slide-deck-full"),this.updateAriaLabel()}},{key:"onCloseRequest",value:function(){}},{key:"updateAriaLabel",value:function(){var e=this.props.body.classList.contains("slide-deck-full");this.setState({aria:"".concat(e?"Show":"Hide"," thumbnail")})}},{key:"onCloseIconClick",value:function(){this.setState({opened:!1})}},{key:"render",value:function(){var e=this.props,t=e.onboarding,n=e.playerSize,r=e.smallResolution,o=this.state,a=o.opened,i=o.aria;return rd.a.createElement("div",{className:"component slideDeckThumbnailToggle"},rd.a.createElement(Rd,{ariaLabel:i,icon:MT,ref:this.triggerRef,onToggle:this.onSlideDeckThumbnailToggleClick,label:i}),rd.a.createElement(ip,{placement:"top",opened:a,icon:MT,ariaLabel:i,onToggle:this.onToggle,onCloseRequest:this.onCloseRequest,target:this.triggerRef.current,showCloseIcon:!0,onCloseIconClick:this.onCloseIconClick,playerHeight:n.height,smallResolution:r},rd.a.createElement("label",{className:"onboarding"},t)))}}])&&AT(n.prototype,r),o&&AT(n,o),t}();UT.defaultProps={onboarding:!1,body:document.getElementById("PlayerOne")},UT.propTypes={onboarding:sd.a.oneOfType([sd.a.bool,sd.a.string]),playerSize:sd.a.shape({width:sd.a.number,height:sd.a.number}).isRequired,body:sd.a.instanceOf(HTMLElement),smallResolution:sd.a.bool.isRequired};var xT=Object(cd.b)(function(e){return{onboarding:e.slideDeck.onboarding,playerSize:Object(y.b)(e),smallResolution:Object(y.d)(e)}})(UT),jT=n(51);var FT={toggleCaptionSearch:function(e){return g.a.dispatch({type:jT.a.toggleCaptionSearchComponent,payload:{visibility:e}})},toggleCaptionSearchPanel:function(e){return g.a.dispatch({type:jT.a.toggleCaptionSearchPanel,payload:{panelVisibility:e}})},setSearchText:function(e){return g.a.dispatch({type:jT.a.setSearchText,payload:{searchText:e}})},setSearchResult:function(e){return g.a.dispatch({type:jT.a.setSearchResult,payload:{searchResult:e}})},setCaptionModule:function(e){var t=!u.a.disableCaptionSearch,n=!1;return"boolean"==typeof e?n=e:e.token&&(n=!0),n=n&&t,g.a.dispatch({type:jT.a.setCaptionModule,payload:{module:e,visibility:n}})}},VT="Search in video",BT=rd.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{d:"M15.7479652,14.3359652 L19.575,18.163 L18.161,19.577 L14.3331901,15.749996 C13.2585028,16.5359974 11.9334382,17 10.5,17 C6.91014913,17 4,14.0898509 4,10.5 C4,6.91014913 6.91014913,4 10.5,4 C14.0898509,4 17,6.91014913 17,10.5 C17,11.9346723 16.5351981,13.2607843 15.7479652,14.3359652 Z M10.5,6 C8.01471863,6 6,8.01471863 6,10.5 C6,12.9852814 8.01471863,15 10.5,15 C12.9852814,15 15,12.9852814 15,10.5 C15,8.01471863 12.9852814,6 10.5,6 Z",fill:"#fff"}));function HT(e){var t=e.onClick;return rd.a.createElement("div",{className:"captionSearchOpener component"},rd.a.createElement(Rd,{ariaLabel:VT,icon:BT,onToggle:t,label:VT}))}HT.defaultProps={onClick:function(){}},HT.propTypes={onClick:sd.a.func};var GT=HT;function qT(e){var t=e.panelVisibility,n=e.toggleCaptionSearchPanel,r=e.searchResult;return rd.a.createElement(GT,{onClick:function(){n(!t);var e=!!r&&r.length>0;v.send({message:"Viewer clicks on Search icon",data:{category:"Search in Video",item:"search icon",action:"click",state:e}})}})}qT.defaultProps={searchResult:[],panelVisibility:!1,toggleCaptionSearchPanel:function(){}},qT.propTypes={searchResult:sd.a.arrayOf(sd.a.shape({start_sec:sd.a.number,caption:sd.a.string})),panelVisibility:sd.a.bool,toggleCaptionSearchPanel:sd.a.func};var zT=Object(cd.b)(function(e){var t=e.captionSearch;return{searchResult:t.searchResult,panelVisibility:t.panelVisibility}},function(e){return{toggleCaptionSearchPanel:Object(pd.bindActionCreators)(FT.toggleCaptionSearchPanel,e)}})(qT),WT=n(85);function KT(e){return{type:WT.a.setActiveMarker,payload:{activeMarkerIndex:e}}}function YT(){return{type:WT.a.clearActiveMarker}}function QT(e){return(QT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ZT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function XT(e){return(XT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function JT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $T(e,t){return($T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var eO=rd.a.createElement("svg",{preserveAspectRatio:"xMidYMid",width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{d:"M13.425,12.013 C13.425,12.013 16.729,15.317 16.729,15.317 C17.120,15.707 17.120,16.340 16.729,16.731 C16.339,17.122 15.705,17.122 15.315,16.731 C15.315,16.731 12.000,13.416 12.000,13.416 C12.000,13.416 8.685,16.731 8.685,16.731 C8.295,17.122 7.661,17.122 7.271,16.731 C6.880,16.340 6.880,15.707 7.271,15.317 C7.271,15.317 10.575,12.013 10.575,12.013 C10.575,12.013 7.271,8.683 7.271,8.683 C6.880,8.293 6.880,7.660 7.271,7.269 C7.661,6.879 8.295,6.879 8.685,7.269 C8.685,7.269 12.000,10.610 12.000,10.610 C12.000,10.610 15.315,7.269 15.315,7.269 C15.705,6.879 16.339,6.879 16.729,7.269 C17.120,7.660 17.120,8.293 16.729,8.683 C16.729,8.683 13.425,12.013 13.425,12.013 Z",fill:"#ffffff",fillRule:"evenodd"})),tO=rd.a.createElement("svg",{className:"search-icon",width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{d:"M15.7479652,14.3359652 L19.575,18.163 L18.161,19.577 L14.3331901,15.749996 C13.2585028,16.5359974 11.9334382,17 10.5,17 C6.91014913,17 4,14.0898509 4,10.5 C4,6.91014913 6.91014913,4 10.5,4 C14.0898509,4 17,6.91014913 17,10.5 C17,11.9346723 16.5351981,13.2607843 15.7479652,14.3359652 Z M10.5,6 C8.01471863,6 6,8.01471863 6,10.5 C6,12.9852814 8.01471863,15 10.5,15 C12.9852814,15 15,12.9852814 15,10.5 C15,8.01471863 12.9852814,6 10.5,6 Z",fill:"#fff"})),nO=400,rO=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==QT(t)&&"function"!=typeof t?JT(e):t}(this,XT(t).call(this,e))).inputRef=Object(nd.createRef)(),n.onInputChange=n.onInputChange.bind(JT(n)),n.debouncedOnInputChange=Jf(n.onInputChange,nO),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$T(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidUpdate",value:function(e){var t=this,n=this.props.opened;n&&n!==e.opened&&setTimeout(function(){t.inputRef.current.focus()},100)}},{key:"onInputChange",value:function(){(0,this.props.onSearchTextChange)(this.inputRef.current.value)}},{key:"getSummaryTag",value:function(){var e=this.props,t=e.searchResult,n=e.module.language;return void 0!==t?rd.a.createElement(rd.a.Fragment,null,rd.a.createElement("mark",null,"".concat(t.length," occurrences"))," in ".concat(n," captions")):rd.a.createElement(rd.a.Fragment,null,"Please note that you can only search in ",rd.a.createElement("strong",null,n)," captions")}},{key:"render",value:function(){var e=this,t=this.props,n=t.onCloseRequest,r=t.searchText,o=t.searchResult,a=t.onResultItemClick,i=t.onResultItemMouseEnter,s=t.onResultItemMouseLeave,u=t.defaultLang,l=void 0!==o,c=this.getSummaryTag(),f=l?"".concat(r,", ").concat(o.length," occurrences"):"";return rd.a.createElement("div",{className:"captionSearchPanel animated container component",role:"dialog","aria-label":"Search in captions"},rd.a.createElement("div",{id:"captionSearchInput",className:"container component"},tO,rd.a.createElement("input",{ref:this.inputRef,placeholder:"Search in captions","aria-controls":"searchInfo","aria-label":"Search in captions",tabIndex:"0",onChange:function(){return e.debouncedOnInputChange()}})),rd.a.createElement("div",{id:"captionSearchResultPanel",className:"container component"},rd.a.createElement("p",{role:"region","aria-labelledby":"caption-search-summary",id:"searchInfo",className:"off-screen","aria-atomic":"true","aria-live":"polite"},f),rd.a.createElement("p",{id:"caption-search-summary",className:"summary"},c),l&&rd.a.createElement("div",{className:"results",lang:u},rd.a.createElement("ul",null,o.map(function(e,t){return rd.a.createElement("li",{onClick:function(){return Jf(a(e.start_sec),200)},onMouseEnter:function(){return i(t)},onMouseLeave:s,onKeyPress:function(t){"Enter"===t.key&&(t.preventDefault(),a(e.start_sec))},tabIndex:"0",key:""+e.start_sec+t},rd.a.createElement("div",null,rd.a.createElement("p",{className:"caption-time"},Object(RS.a)(e.start_sec)),rd.a.createElement("p",{className:"caption-text",dangerouslySetInnerHTML:{__html:e.caption}})))})))),rd.a.createElement("a",{tabIndex:"0",className:"close-icon",role:"button","aria-label":"Close",onClick:n,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),n())}},eO))}}])&&ZT(n.prototype,r),o&&ZT(n,o),t}();rO.defaultProps={onCloseRequest:function(){},onSearchTextChange:function(){},searchText:void 0,searchResult:void 0,module:{},opened:!1,defaultLang:void 0},rO.propTypes={onCloseRequest:sd.a.func,onSearchTextChange:sd.a.func,searchText:sd.a.string,searchResult:sd.a.arrayOf(sd.a.shape({start_sec:sd.a.number,caption:sd.a.string})),module:sd.a.shape({language:sd.a.string}),onResultItemClick:sd.a.func.isRequired,onResultItemMouseEnter:sd.a.func.isRequired,onResultItemMouseLeave:sd.a.func.isRequired,opened:sd.a.bool,defaultLang:sd.a.string};var oO=rO;function aO(e){var t=e.searchText,n=e.searchResult,r=e.module,o=e.visibility,a=e.opened,i=e.defaultLang;return r&&o?rd.a.createElement(oO,{searchText:t,searchResult:n,onCloseRequest:function(){(0,e.toggleCaptionSearchPanel)(!1),function(){var t=e.searchResult,n=!!t&&t.length>0;v.send({message:"Viewer closes Search panel",data:{category:"Search in Video",item:"close button",action:"click",state:n}})}()},onSearchTextChange:function(t){var n=e.setSearchText;""===t?n(void 0):(n(t),v.send({message:"Viewer types in search field",data:{category:"Search in Video",item:"search input field",action:"type"}}))},module:r,onResultItemClick:function(e){var t=function(e){var t=1e3*e;return l.a.getAbsoluteSeekPositionInMs(t)}(e);k.a.send(k.a.types.COMMAND,"seek",[t/1e3]),v.send({message:"Viewer seeks to the selected result cue",data:{category:"Search in Video",item:"search result",action:"click"}})},onResultItemMouseEnter:function(t){(0,e.setActiveMarker)(t)},onResultItemMouseLeave:function(){(0,e.clearActiveMarker)()},opened:a,defaultLang:i}):null}aO.defaultProps={visibility:!1,searchText:void 0,searchResult:void 0,module:{},toggleCaptionSearchPanel:function(){},setSearchText:function(){},clearActiveMarker:function(){},setActiveMarker:function(){},opened:!1,defaultLang:void 0},aO.propTypes={searchText:sd.a.string,searchResult:sd.a.arrayOf(sd.a.shape({start_sec:sd.a.number,caption:sd.a.string})),toggleCaptionSearchPanel:sd.a.func,setSearchText:sd.a.func,clearActiveMarker:sd.a.func,setActiveMarker:sd.a.func,module:sd.a.shape({language:sd.a.string}),visibility:sd.a.bool,opened:sd.a.bool,defaultLang:sd.a.string};var iO=Object(cd.b)(function(e){var t=e.captionSearch,n=e.content;return{searchText:t.searchText,searchResult:t.searchResult,module:t.module,visibility:t.visibility,opened:t.panelVisibility,defaultLang:n.defaultLang}},function(e){return{toggleCaptionSearchPanel:Object(pd.bindActionCreators)(FT.toggleCaptionSearchPanel,e),setSearchText:Object(pd.bindActionCreators)(FT.setSearchText,e),setActiveMarker:Object(pd.bindActionCreators)(KT,e),clearActiveMarker:Object(pd.bindActionCreators)(YT,e)}})(aO),sO=rd.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{d:"M14,6 C14,7.1045695 13.1045695,8 12,8 C10.8954305,8 10,7.1045695 10,6 C10,4.8954305 10.8954305,4 12,4 C13.1045695,4 14,4.8954305 14,6 Z M14,12 C14,13.1045695 13.1045695,14 12,14 C10.8954305,14 10,13.1045695 10,12 C10,10.8954305 10.8954305,10 12,10 C13.1045695,10 14,10.8954305 14,12 Z M14,18 C14,19.1045695 13.1045695,20 12,20 C10.8954305,20 10,19.1045695 10,18 C10,16.8954305 10.8954305,16 12,16 C13.1045695,16 14,16.8954305 14,18 Z",fill:"#fff"})),uO="Overflow menu",lO=Object(nd.createRef)();function cO(e){var t=e.controls,n=e.onToggle,r=e.opened,o=e.visible,a=e.onTriggerToggle,i=e.onCloseRequest,s=e.popoverId,u=e.playerHeight,l=e.smallResolution;return rd.a.createElement("div",{className:"component"},rd.a.createElement(Rd,{onToggle:a,icon:sO,ref:lO,hasPopup:!0,ariaLabel:uO,label:uO}),rd.a.createElement(Zd,{onToggle:n,placement:"bottom",opened:r,icon:sO,ariaLabel:uO,className:"overflow-popover",onCloseRequest:i,target:lO.current,visibleOutside:o,id:s,playerHeight:u,smallResolution:l},rd.a.createElement(Ed,{className:"list triggerList",ariaLabel:"Overflow menu, press Up and Down to navigate over items"},t)))}cO.defaultProps={opened:!1,controls:[],visible:!0,onTriggerToggle:function(){},onCloseRequest:function(){},playerHeight:0},cO.propTypes={opened:sd.a.bool,onToggle:sd.a.func.isRequired,controls:sd.a.arrayOf(sd.a.node),visible:sd.a.bool,onTriggerToggle:sd.a.func,onCloseRequest:sd.a.func,popoverId:sd.a.string.isRequired,playerHeight:sd.a.number,smallResolution:sd.a.bool.isRequired};var fO=cO;function dO(e){return(dO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hO(e){return(hO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vO(e,t){return(vO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yO=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==dO(t)&&"function"!=typeof t?mO(e):t}(this,hO(t).call(this,e))).state={opened:!1,visible:!0},n.onToggle=n.onToggle.bind(mO(n)),n.onPopoverOpen=n.onPopoverOpen.bind(mO(n)),n.onPopoverClose=n.onPopoverClose.bind(mO(n)),n.onTriggerToggle=n.onTriggerToggle.bind(mO(n)),n.onCloseRequest=n.onCloseRequest.bind(mO(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vO(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.UI,"onPopoverOpen",this.onPopoverOpen),k.a.off(k.a.types.UI,"onPopoverClose",this.onPopoverClose)}},{key:"onTriggerToggle",value:function(){k.a.send(k.a.types.UI,"closePopovers"),k.a.on(k.a.types.UI,"onPopoverOpen",this.onPopoverOpen),this.setState({opened:!0,visible:!0})}},{key:"onPopoverClose",value:function(){k.a.off(k.a.types.UI,"onPopoverClose",this.onPopoverClose),this.setState({opened:!1,visible:!0})}},{key:"onPopoverOpen",value:function(e){var t=this.state,n=t.opened,r=t.visible;"overflowPopover"!==e&&n&&r&&(k.a.off(k.a.types.UI,"onPopoverOpen",this.onPopoverOpen),k.a.on(k.a.types.UI,"onPopoverClose",this.onPopoverClose),this.setState({visible:!1}))}},{key:"onToggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.state.opened;k.a.off(k.a.types.UI,"onPopoverOpen",this.onPopoverOpen),this.setState({opened:e})}},{key:"onCloseRequest",value:function(){this.onToggle(!1)}},{key:"render",value:function(){var e=this.state,t=e.opened,n=e.visible,r=this.props,o=r.controls,a=r.playerSize,i=r.smallResolution;return rd.a.createElement(fO,{controls:o,opened:t,onToggle:this.onToggle,visible:n,onTriggerToggle:this.onTriggerToggle,onCloseRequest:this.onCloseRequest,popoverId:"overflowPopover",playerHeight:a.height,smallResolution:i})}}])&&pO(n.prototype,r),o&&pO(n,o),t}();yO.defaultProps={controls:[]},yO.propTypes={controls:sd.a.arrayOf(sd.a.node),playerSize:sd.a.shape({width:sd.a.number,height:sd.a.number}).isRequired,smallResolution:sd.a.bool.isRequired};var gO=Object(cd.b)(function(e){return{playerSize:Object(y.b)(e),smallResolution:Object(y.d)(e)}})(yO),bO=rd.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{d:"M14.4893593,13.1418395 L12.3657042,11.5618589 L10.358,14.472 C10.0459251,14.9235266 9.42823425,15.0391205 8.974,14.731 L9.014,14.759 C8.79363094,14.6092371 8.64214022,14.3777231 8.59314,14.1158254 C8.54413978,13.8539277 8.60168221,13.5833043 8.753,13.364 L11.286,9.691 C11.5877484,9.25364068 12.1761528,9.13087956 12.6257317,9.40264811 L12.6366516,9.40934391 C12.6478593,9.41631408 12.6589777,9.42353236 12.67,9.431 L12.63,9.404 C12.651953,9.41889284 12.6732238,9.43459662 12.6937793,9.45106066 L14.8296279,11.0107358 L17.272,7.348 C17.5838111,6.89551257 18.202314,6.77940373 18.657,7.088 L18.617,7.061 C18.8373691,7.21076287 18.9888598,7.44227685 19.03786,7.70417458 C19.0868602,7.96607231 19.0293178,8.23669572 18.878,8.456 L15.908,12.91 C15.6189265,13.3287496 15.0671151,13.4588772 14.6261896,13.2305138 L14.6166705,13.2365579 L14.5479001,13.1853933 C14.5395479,13.1800683 14.531247,13.1746041 14.523,13.169 L14.563,13.197 C14.5375145,13.1796801 14.5129503,13.1612667 14.4893593,13.1418395 Z M7,17 L18,17 C18.5522847,17 19,17.4477153 19,18 C19,18.5522847 18.5522847,19 18,19 L6,19 C5.44771525,19 5,18.5522847 5,18 L5,6 C5,5.44771525 5.44771525,5 6,5 C6.55228475,5 7,5.44771525 7,6 L7,17 Z",fill:"#fff"})),EO="Display stats";function SO(e){var t=e.onClick;return rd.a.createElement("div",{id:"StatsOverlayOpener",role:"button",className:"component shown"},rd.a.createElement(Rd,{ariaLabel:EO,icon:bO,onToggle:t,label:EO}))}SO.defaultProps={onClick:function(){}},SO.propTypes={onClick:sd.a.func};var TO=SO;function OO(e){var t=e.toggleStatsOverlay;return rd.a.createElement(TO,{onClick:function(){return t(!0)}})}OO.defaultProps={toggleStatsOverlay:function(){}},OO.propTypes={toggleStatsOverlay:sd.a.func};var CO=Object(cd.b)(null,function(e){return{toggleStatsOverlay:Object(pd.bindActionCreators)(Z.j,e)}})(OO),wO=rd.a.createElement("svg",{viewBox:"0 0 24 24",height:"24",width:"24"},rd.a.createElement("path",{d:"M17,18 L17,22 L12,18 L6,18 C4.8954305,18 4,17.1045695 4,16 L4,7 C4,5.8954305 4.8954305,5 6,5 L18,5 C19.1045695,5 20,5.8954305 20,7 L20,16 C20,17.1045695 19.1045695,18 18,18 L17,18 Z M10.985,14 C10.985,14.5522847 11.4327153,15 11.985,15 L12.011,15 C12.5632847,15 13.011,14.5522847 13.011,14 C13.011,13.4477153 12.5632847,13 12.011,13 L11.985,13 C11.4327153,13 10.985,13.4477153 10.985,14 Z M12,8 C11.4477153,8 11,8.44771525 11,9 L11,11 C11,11.5522847 11.4477153,12 12,12 C12.5522847,12 13,11.5522847 13,11 L13,9 C13,8.44771525 12.5522847,8 12,8 Z",fill:"#fff"}));function _O(e){var t=e.onClick,n=e.label;return rd.a.createElement("div",{id:"LogSendingOpener",className:"component shown"},rd.a.createElement(Rd,{ariaLabel:n,icon:wO,onToggle:t,label:n}))}_O.defaultProps={label:"Report playback issue",onClick:function(){}},_O.propTypes={label:sd.a.string,onClick:sd.a.func};var PO=_O;function IO(){return rd.a.createElement(PO,{onClick:function(){return k.a.send(k.a.types.EVENT,"showReportIssueDialog")}})}IO.defaultProps={},IO.propTypes={};var LO=Rp.getText("ui.watchingNums").replace("&#149;","");function RO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function AO(e){var t=e/1e6,n=e/1e3;return t>1?"".concat(RO(t,1)).concat(Rp.getText("ui.millions")):n>1?"".concat(RO(n,1)).concat(Rp.getText("ui.thousands")):e}function kO(e){var t=e.totalViewers,n=e.currentViewers,r=e.visible,o=py(LO,{all:AO(t),current:AO(n)});return rd.a.createElement("div",{className:ld()("viewerInfo",{shown:r})},o)}kO.defaultProps={totalViewers:null,currentViewers:null,visible:!0},kO.propTypes={totalViewers:sd.a.number,currentViewers:sd.a.number,visible:sd.a.bool};var NO=kO;function DO(e){var t=e.totalViewers,n=e.currentViewers,r=e.mediaType,o="number"==typeof n&&"number"==typeof t&&r===Ca.a.live;return rd.a.createElement(NO,{totalViewers:o?t:null,currentViewers:o?n:null,visible:o})}DO.defaultProps={mediaType:null,totalViewers:null,currentViewers:null},DO.propTypes={mediaType:sd.a.oneOf(Object.values(Ca.a)),totalViewers:sd.a.oneOfType([sd.a.number,sd.a.bool]),currentViewers:sd.a.oneOfType([sd.a.number,sd.a.bool])};var MO=Object(cd.b)(function(e){var t=e.content,n=e.viewers;return{totalViewers:n.allTimeTotal,currentViewers:n.viewers,mediaType:t.mediaType}})(DO),UO="Flag content";function xO(e){var t=e.opened,n=e.id,r=e.reasons,o=e.onSubmit,a=e.selectReason,i=e.onCloseRequest;return rd.a.createElement(bh,{opened:t,onCloseRequest:i,id:n,wide:!0,title:UO},rd.a.createElement("h3",{className:"flag-overlay-title",dangerouslySetInnerHTML:{__html:Rp.getText("ui.flag.title")}}),rd.a.createElement("p",{dangerouslySetInnerHTML:{__html:Rp.getText("ui.flag.text")}}),rd.a.createElement("form",{onSubmit:o},rd.a.createElement("select",{onChange:a,name:"reason",id:"VideoFlagReason","aria-labelledby":"defaultFlagReason"},rd.a.createElement("option",{id:"defaultFlagReason",value:""},Rp.getText("ui.flag.defaultReason")),r.map(function(e){return rd.a.createElement("option",{value:e.id,key:e.reason_default},e.reason_default)})),rd.a.createElement("div",null,rd.a.createElement("button",{className:"bttn",tabIndex:"0",type:"submit"},Rp.getText("ui.flag.button")),rd.a.createElement("button",{className:"bttn-link mr-5",tabIndex:"0",onClick:i,type:"button"},Rp.getText("ui.flag.cancel")))))}xO.propTypes={opened:sd.a.bool,id:sd.a.string.isRequired,reasons:sd.a.arrayOf(sd.a.shape({id:sd.a.number,reason_default:sd.a.string})),onSubmit:sd.a.func.isRequired,selectReason:sd.a.func.isRequired,onCloseRequest:sd.a.func.isRequired},xO.defaultProps={opened:!1,reasons:[]};var jO=xO;function FO(e){return(FO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function BO(e){return(BO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GO(e,t){return(GO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qO=Object(s.a)("ui/components/FlagContainer"),zO=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==FO(t)&&"function"!=typeof t?HO(e):t}(this,BO(t).call(this,e))).state={reason:""},n.onSubmit=n.onSubmit.bind(HO(n)),n.selectReason=n.selectReason.bind(HO(n)),n.submitForm=n.submitForm.bind(HO(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&GO(e,t)}(t,nd["Component"]),n=t,(r=[{key:"onSubmit",value:function(e){e.preventDefault(),f.a.loggedInUserId?this.submitForm():window.$&&(window.$.dispatch("REQUIRELOGIN"),window.$.capture("LOGINSUCCESS",this.submitForm))}},{key:"submitForm",value:function(){var e="recorded"===l.a.getType()?"video":l.a.getType(),t=this.state.reason,n=this.props.toggleFlagOverlay;return fetch(f.a.flagUrl,{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"targetId=".concat(l.a.id(),"&targetType=").concat(e,"&reason=").concat(t,"&userId=").concat(f.a.loggedInUserId)}).then(function(e){return e.json()}).then(function(e){n(!1);var t=e.error?e.error.message:Rp.getText("ui.flag.success");k.a.send(k.a.types.UI,"showMessage",t)}).catch(function(e){qO.warn("user could not report content",e),n(!1),k.a.send(k.a.types.UI,"showMessage","Something went wrong")})}},{key:"selectReason",value:function(e){this.setState({reason:e.target.value})}},{key:"render",value:function(){var e=this.props,t=e.flagOverlayVisible,n=e.toggleFlagOverlay;return rd.a.createElement(jO,{id:"FlagOverlay",opened:t,onCloseRequest:function(){return n(!1)},reasons:f.a.flagReasons,onSubmit:this.onSubmit,selectReason:this.selectReason})}}])&&VO(n.prototype,r),o&&VO(n,o),t}();zO.defaultProps={flagOverlayVisible:!1,toggleFlagOverlay:function(){}},zO.propTypes={flagOverlayVisible:sd.a.bool,toggleFlagOverlay:sd.a.func};var WO=Object(cd.b)(function(e){return{flagOverlayVisible:e.player.flagOverlayVisible}},function(e){return{toggleFlagOverlay:Object(pd.bindActionCreators)(Z.h,e)}})(zO);function KO(e){return(KO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function QO(e){return(QO=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ZO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XO(e,t){return(XO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var JO=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==KO(t)&&"function"!=typeof t?ZO(e):t}(this,QO(t).call(this,e))).embedCodeTextArea=Object(nd.createRef)(),n.state={opened:!1,embedCode:""},n.onTextAreaClick=n.onTextAreaClick.bind(ZO(n)),n.onEmbedCopyClick=n.onEmbedCopyClick.bind(ZO(n)),n.onShow=n.onShow.bind(ZO(n)),n.onCloseRequest=n.onCloseRequest.bind(ZO(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&XO(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){k.a.on(k.a.types.UI,"showEmbedOverlay",this.onShow)}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.UI,"showEmbedOverlay",this.onShow)}},{key:"onShow",value:function(){var e=this,t="".concat(l.a.getUrl(!1,!0)),n='<iframe width="480" height="270" src="'.concat(t,'" scrolling="no" allowfullscreen webkitallowfullscreen frameborder="0" style="border: 0 none transparent;"></iframe>');v.send({message:"Share",data:{category:"Interaction",item:"share",action:"share",target:"embed"}}),this.setState({opened:!0,embedCode:n}),requestAnimationFrame(function(){e.embedCodeTextArea.current.focus()})}},{key:"onEmbedCopyClick",value:function(){Dy(this.embedCodeTextArea.current),this.onCloseRequest(),this.showMessage(Rp.getText("ui.embedCopied")),k.a.send(k.a.types.UI,"show")}},{key:"onTextAreaClick",value:function(){this.embedCodeTextArea.current.focus(),this.embedCodeTextArea.current.select()}},{key:"onCloseRequest",value:function(){var e=this;requestAnimationFrame(function(){e.setState({opened:!1})})}},{key:"showMessage",value:function(e){k.a.send(k.a.types.UI,"showMessage",e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.opened,r=t.embedCode;return rd.a.createElement(bh,{opened:n,onCloseRequest:this.onCloseRequest,title:"Copy embed code"},rd.a.createElement("h3",{id:"embed-overlay-title"},Rp.getText("ui.embedCode")),rd.a.createElement("div",null,rd.a.createElement("textarea",{ref:this.embedCodeTextArea,readOnly:!0,onClick:this.onTextAreaClick,tabIndex:"-1",value:r,"aria-labelledby":"embed-overlay-title"})),rd.a.createElement("button",{type:"button",tabIndex:"0",onClick:this.onEmbedCopyClick,onKeyPress:function(t){"Enter"===t.key&&(t.preventDefault(),e.onEmbedCopyClick())}},Rp.getText("ui.copyEmbedCode")))}}])&&YO(n.prototype,r),o&&YO(n,o),t}();JO.propTypes={};var $O=JO;function eC(e){return(eC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nC(e){return(nC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oC(e,t){return(oC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var aC=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==eC(t)&&"function"!=typeof t?rC(e):t}(this,nC(t).call(this,e))).copyLinkInput=Object(nd.createRef)(),n.state={opened:!1,link:""},n.onLinkCopyClick=n.onLinkCopyClick.bind(rC(n)),n.onShow=n.onShow.bind(rC(n)),n.onCloseRequest=n.onCloseRequest.bind(rC(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oC(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidMount",value:function(){k.a.on(k.a.types.UI,"showCopyOverlay",this.onShow)}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.UI,"showCopyOverlay",this.onShow)}},{key:"onShow",value:function(){var e=this,t=l.a.getUrl();v.send({message:"Share",data:{category:"Interaction",item:"share",action:"share",target:"copy url"}}),this.setState({opened:!0,link:t}),requestAnimationFrame(function(){e.copyLinkInput.current.focus()})}},{key:"onLinkCopyClick",value:function(){Dy(this.copyLinkInput.current),this.onCloseRequest(),this.showMessage(Rp.getText("ui.videoLinkCopied"))}},{key:"onCopyLinkInputClick",value:function(){this.copyLinkInput.current.focus(),this.copyLinkInput.current.select()}},{key:"onCloseRequest",value:function(){this.setState({opened:!1})}},{key:"showMessage",value:function(e){k.a.send(k.a.types.UI,"showMessage",e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.opened,r=t.link;return rd.a.createElement(bh,{opened:n,onCloseRequest:this.onCloseRequest,title:"Copy link"},rd.a.createElement("h3",{id:"copy-overlay-title"},Rp.getText("ui.linkVideo")),rd.a.createElement("div",null,rd.a.createElement("input",{tabIndex:"-1",type:"text",readOnly:!0,ref:this.copyLinkInput,onClick:this.onCopyLinkInputClick,value:r,"aria-labelledby":"copy-overlay-title"})),rd.a.createElement("button",{type:"button",tabIndex:"0",onClick:this.onLinkCopyClick,onKeyPress:function(t){"Enter"===t.key&&(t.preventDefault(),e.onLinkCopyClick())}},Rp.getText("ui.copyLink")))}}])&&tC(n.prototype,r),o&&tC(n,o),t}();aC.propTypes={};var iC=aC;function sC(e){return(sC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lC(e){return(lC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fC(e,t){return(fC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var dC=rd.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},rd.a.createElement("path",{d:"M13.425,12.013 C13.425,12.013 16.729,15.317 16.729,15.317 C17.120,15.707 17.120,16.340 16.729,16.731 C16.339,17.122 15.705,17.122 15.315,16.731 C15.315,16.731 12.000,13.416 12.000,13.416 C12.000,13.416 8.685,16.731 8.685,16.731 C8.295,17.122 7.661,17.122 7.271,16.731 C6.880,16.340 6.880,15.707 7.271,15.317 C7.271,15.317 10.575,12.013 10.575,12.013 C10.575,12.013 7.271,8.683 7.271,8.683 C6.880,8.293 6.880,7.660 7.271,7.269 C7.661,6.879 8.295,6.879 8.685,7.269 C8.685,7.269 12.000,10.610 12.000,10.610 C12.000,10.610 15.315,7.269 15.315,7.269 C15.705,6.879 16.339,6.879 16.729,7.269 C17.120,7.660 17.120,8.293 16.729,8.683 C16.729,8.683 13.425,12.013 13.425,12.013 Z",fill:"#ffffff",fillRule:"evenodd"}));var pC=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==sC(t)&&"function"!=typeof t?cC(e):t}(this,lC(t).call(this,e))).containerRef=Object(nd.createRef)(),n.setSeek=Jf(n.setSeek,200),n.onSlideClick=n.onSlideClick.bind(cC(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fC(e,t)}(t,nd["PureComponent"]),n=t,(r=[{key:"onSlideClick",value:function(e){this.setSeek(e)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.visible,n=e.body;t?(n.classList.add("slide-index-panel-visible"),this.containerRef.current.focus()):n.classList.remove("slide-index-panel-visible")}},{key:"setSeek",value:function(e){var t=e.start;k.a.send(k.a.types.COMMAND,"seek",[t/1e3])}},{key:"render",value:function(){var e=this,t=this.props,n=t.slides,r=t.visible,o=t.toggleSlideIndexPanel,a=t.body;return r&&rd.a.createElement(xd,{appendTarget:a},rd.a.createElement("div",{className:"container component slideIndexPanel side-panel",role:"dialog","aria-label":"Slide index",tabIndex:"0",ref:this.containerRef},rd.a.createElement("div",null,rd.a.createElement("ul",null,n.map(function(t,n){var r,o,a={backgroundImage:"url(".concat(t.url,")")};return rd.a.createElement("li",{key:t.start,onClick:function(){return e.onSlideClick(t)},onKeyPress:function(n){"Enter"===n.key&&(n.preventDefault(),e.onSlideClick(t))},tabIndex:"0"},rd.a.createElement("p",null,n+1),rd.a.createElement("div",{className:"slide",style:a},rd.a.createElement("span",null,(r=t.start,o=r/1e3,Object(RS.a)(o)))))})),rd.a.createElement("button",{type:"button",className:"trigger close-icon",tabIndex:"0",onClick:function(){return o(!1)},"aria-label":"Close"},dC))))}}])&&uC(n.prototype,r),o&&uC(n,o),t}();pC.defaultProps={slides:[],visible:!1,body:document.getElementById("PlayerOne"),toggleSlideIndexPanel:function(){}},pC.propTypes={slides:sd.a.arrayOf(sd.a.shape({start:sd.a.number,url:sd.a.string})),visible:sd.a.bool,body:sd.a.instanceOf(HTMLElement),toggleSlideIndexPanel:sd.a.func};var hC=Object(cd.b)(function(e){var t=e.slideDeck;return{slides:t.slides,visible:t.slideIndexPanelVisible}},function(e){return{toggleSlideIndexPanel:Object(pd.bindActionCreators)(yT.toggleSlideIndexPanel,e)}})(pC);function mC(e){return(mC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yC(e,t){return!t||"object"!==mC(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gC(e){return(gC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bC(e,t){return(bC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var EC=Object(s.a)("ui/ErrorBoundary"),SC=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=yC(this,gC(t).call(this,e))).state={hasError:!1},n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bC(e,t)}(t,nd["Component"]),n=t,(r=[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0});var n=e&&e.toString();EC.error("Something went wrong: ".concat(n),t.componentStack)}},{key:"render",value:function(){return this.state.hasError?null:this.props.children}}])&&vC(n.prototype,r),o&&vC(n,o),t}();SC.defaultProps={children:null},SC.propTypes={children:sd.a.node};var TC=SC,OC=rd.a.createElement("svg",{width:"20px",height:"20px",viewBox:"0 0 24 24"},rd.a.createElement("path",{d:"M12,13.416 L8.685,16.731 C8.29262111,17.1099722 7.66891522,17.1045524 7.28318142,16.7188186 C6.89744763,16.3330848 6.89202779,15.7093789 7.271,15.317 L10.5747585,12.0132415 L7.271,8.683 C6.89202779,8.29062111 6.89744763,7.66691522 7.28318142,7.28118142 C7.66891522,6.89544763 8.29262111,6.89002779 8.685,7.269 L12,10.6097363 L15.315,7.269 C15.7073789,6.89002779 16.3310848,6.89544763 16.7168186,7.28118142 C17.1025524,7.66691522 17.1079722,8.29062111 16.729,8.683 L13.4248261,12.0128261 L16.729,15.317 C17.1079722,15.7093789 17.1025524,16.3330848 16.7168186,16.7188186 C16.3310848,17.1045524 15.7073789,17.1099722 15.315,16.731 L12,13.416 Z",fill:"#fff"})),CC=function(e){var t=e.onCloseRequest,n=e.icon,r=e.title,o=e.children;return rd.a.createElement("div",{className:"notification"},rd.a.createElement("div",{className:"icon"},n),rd.a.createElement("div",{className:"content"},rd.a.createElement("h4",null,r),o),rd.a.createElement("button",{"aria-label":"Close notification",className:"bttn-link notification-close",onClick:t,onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),t())}},OC))};CC.defaultProps={children:null,onCloseRequest:function(){}},CC.propTypes={children:sd.a.node,onCloseRequest:sd.a.func};var wC=CC,_C=rd.a.createElement("svg",{width:"16px",height:"15px",viewBox:"0 0 16 15"},rd.a.createElement("g",{fillRule:"evenodd",fill:"none",strokeWidth:"1",stroke:"none"},rd.a.createElement("g",{transform:"translate(-14.000000, -286.000000)"},rd.a.createElement("g",{transform:"translate(0.000000, 265.000000)"},rd.a.createElement("g",{transform:"translate(10.000000, 16.500000)"},rd.a.createElement("path",{d:"M19.732,16.766 L13.268,6.047 C12.568,4.67 11.43,4.67 10.733,6.047 L4.269,16.766 C3.569,18.143 4.277,19.02 5.835,19.02 L18.165,19.02 C19.724,19.02 20.429,18.143 19.732,16.766 Z M13.021,13 C13.021,13.5522847 12.5732847,14 12.021,14 L11.977,14 C11.4247153,14 10.977,13.5522847 10.977,13 L10.977,10.008 C10.977,9.45571525 11.4247153,9.008 11.977,9.008 L12.021,9.008 C12.5732847,9.008 13.021,9.45571525 13.021,10.008 L13.021,13 Z M10.985,16 C10.985,15.4477153 11.4327153,15 11.985,15 L12.011,15 C12.5632847,15 13.011,15.4477153 13.011,16 L13.011,16 C13.011,16.5522847 12.5632847,17 12.011,17 L11.985,17 C11.4327153,17 10.985,16.5522847 10.985,16 L10.985,16 Z",fill:"#fff"})))))),PC=Rp.getText("ui.browserold.link"),IC=" ".concat(Rp.getText("ui.browserold.label")),LC=Rp.getText("ui.browserold.title"),RC=function(e){var t=e.onCloseRequest,n=e.onLinkClick,r=rd.a.createElement("p",null,rd.a.createElement("a",{href:"https://support.video.ibm.com/hc/en-us/articles/360000403129-Supported-Browsers-for-IBM-Watson-Media",target:"_blank",onClick:n,rel:"noopener noreferrer"},PC),IC);return rd.a.createElement(wC,{title:LC,icon:_C,onCloseRequest:t},r)};RC.defaultProps={onCloseRequest:function(){},onLinkClick:function(){}},RC.propTypes={onCloseRequest:sd.a.func,onLinkClick:sd.a.func};var AC=RC;function kC(e){return(kC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function DC(e){return(DC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function MC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UC(e,t){return(UC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xC=[43412305,43412303,39514323,1615961];function jC(){v.send({message:"Outdated browser notification open",data:{category:"OutdatedBrowserNotification",item:"notification",action:"open"}})}function FC(){v.send({message:"Outdated browser notification link clicked",data:{category:"OutdatedBrowserNotification",item:"link",action:"click"}})}var VC=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==kC(t)&&"function"!=typeof t?MC(e):t}(this,DC(t).call(this,e))).state={visible:!1},n.onCloseRequest=n.onCloseRequest.bind(MC(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UC(e,t)}(t,nd["Component"]),n=t,o=[{key:"getDerivedStateFromProps",value:function(e){var t=e.isBrowserOldNotificationVisible,n=e.playerWidth,r=f.a.ownerId;return{visible:!(-1!==xC.indexOf(r))&&n>=480&&t}}}],(r=[{key:"componentDidMount",value:function(){this.state.visible&&jC()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.visible;n&&n!==t.visible&&jC()}},{key:"onCloseRequest",value:function(){var e=this.props.hideNotification;v.send({message:"Outdated browser notification closed",data:{category:"OutdatedBrowserNotification",item:"close button",action:"click"}}),e(Z.a.oldBrowser)}},{key:"render",value:function(){return this.state.visible&&rd.a.createElement(AC,{onCloseRequest:this.onCloseRequest,onLinkClick:FC})}}])&&NC(n.prototype,r),o&&NC(n,o),t}();VC.defaultProps={hideNotification:function(){},isBrowserOldNotificationVisible:!1},VC.propTypes={hideNotification:sd.a.func,playerWidth:sd.a.number.isRequired,isBrowserOldNotificationVisible:sd.a.bool};var BC=Object(cd.b)(function(e){return{isBrowserOldNotificationVisible:e.player.isBrowserOldNotificationVisible,playerWidth:Object(y.b)(e).width}},function(e){return{hideNotification:Object(pd.bindActionCreators)(Z.b,e)}})(VC),HC={audio:rd.a.createElement(Lp,{id:"Audio",key:"Audio"}),cc:rd.a.createElement(qp,{id:"CC",className:"cc",key:"CC"}),share:rd.a.createElement(Ny,{id:"Share",placement:"bottom",key:"ShareContainer"}),captionSearch:rd.a.createElement(zT,{id:"CaptionSearchOpener",key:"CaptionSearch"}),slide:rd.a.createElement(xT,{id:"SlideDeckThumbnailToggle",key:"SlideDeckToggle"}),slideIndex:rd.a.createElement(LT,{id:"SlideIndexOpener",key:"SlideIndex"}),flag:rd.a.createElement(dh,{id:"Flag",key:"Flag"}),playbackSpeed:rd.a.createElement(Cv,{id:"PlaybackSpeed",key:"PlaybackSpeed"}),quality:rd.a.createElement(Vv,{id:"Quality",key:"Quality"}),theater:rd.a.createElement(th,{id:"Theater",key:"Theater"}),popout:rd.a.createElement(Db,{id:"Popout",key:"Popout"}),fullscreen:rd.a.createElement(sE,{id:"FullScreen",key:"FullScreen"}),stats:rd.a.createElement(CO,{key:"StatsOverlay"}),report:rd.a.createElement(IO,{key:"LogSending"})};function GC(e){return HC[e]}function qC(e){var t=e.top,n=e.overflow,r=e.bottom,o=e.onKeyDown,a=t.map(function(e){return rd.a.createElement(TC,{key:e},GC(e))}),i=n.map(function(e){return rd.a.createElement(TC,{key:e},GC(e))}),s=r.map(function(e){return rd.a.createElement(TC,{key:e},GC(e))});return rd.a.createElement("div",{id:"App",onKeyDown:o,tabIndex:"-1"},rd.a.createElement(TC,null,rd.a.createElement(aT,{id:"ClickContainer"})),rd.a.createElement(TC,null,rd.a.createElement(Wg,{id:"lockContainer"})),rd.a.createElement(TC,null,rd.a.createElement(Kb,{id:"Thumbnail"})),rd.a.createElement(TC,null,rd.a.createElement(_g,{id:"StatusAnimation"})),rd.a.createElement(TC,null,rd.a.createElement(Mg,{id:"Spinner"})),rd.a.createElement(TC,null,rd.a.createElement(Pb,{id:"SlideShow"})),rd.a.createElement(TC,null,rd.a.createElement(dd,{id:"AdContainer"})),rd.a.createElement(TC,null,rd.a.createElement(dg,{id:"AudioOnly"})),rd.a.createElement("div",{id:"middleOverlay",className:"container"},rd.a.createElement("div",{id:"middleContainer",className:"container text-center"},rd.a.createElement(TC,null,rd.a.createElement(PS,{id:"MiddleVolume",horizontal:!0})),rd.a.createElement(TC,null,rd.a.createElement(jb,{id:"MiddlePlay"})),rd.a.createElement(TC,null,rd.a.createElement(sE,{id:"MiddleFullScreen"})))),rd.a.createElement(TC,null,rd.a.createElement(Jy,{id:"ContextMenu"})),rd.a.createElement(TC,null,rd.a.createElement(nb,{id:"playScreen"})),rd.a.createElement(TC,null,rd.a.createElement(sg,{id:"MessageScreeen"})),rd.a.createElement(TC,null,rd.a.createElement($v,{id:"CustomLogo"})),rd.a.createElement(TC,null,rd.a.createElement(uv,{id:"debugOverlay"})),rd.a.createElement(TC,null,rd.a.createElement(Rm,{id:"statsOverlay"})),rd.a.createElement(TC,null,rd.a.createElement(WO,null)),rd.a.createElement(TC,null,rd.a.createElement(xg,{id:"forceProviderNotification"})),rd.a.createElement(TC,null,rd.a.createElement(XE,{id:"logSending"})),rd.a.createElement(TC,null,rd.a.createElement(wT,{id:"slideDeckViewer"})),rd.a.createElement(TC,null,rd.a.createElement(EE,{id:"Poll"})),rd.a.createElement(TC,null,rd.a.createElement(db,{id:"LiveCta"})),rd.a.createElement(TC,null,rd.a.createElement(iO,{id:"CaptionSearchPanel"})),rd.a.createElement(TC,null,rd.a.createElement(hC,null)),rd.a.createElement("div",{id:"bottomContainer",className:"container panel"},rd.a.createElement("div",{id:"controlsContainer",className:"container"},rd.a.createElement("div",{id:"controlPanelLeft",className:"container flex-fit"},rd.a.createElement(TC,null,rd.a.createElement(jb,{id:"Play"})),rd.a.createElement(TC,null,rd.a.createElement(PS,null))),rd.a.createElement("div",{className:"flex-full"},rd.a.createElement(TC,null,rd.a.createElement(JS,{id:"SeekBar"}))),rd.a.createElement("div",{id:"controlPanelRight",className:"container text-right flex-fit"},s))),rd.a.createElement("div",{id:"topContainer",className:"container"},rd.a.createElement("div",{id:"topPanelLeft",className:"container half-width component"},rd.a.createElement("div",{className:"flex"},rd.a.createElement(TC,null,rd.a.createElement(gb,{id:"LiveBadge"})),rd.a.createElement(TC,null,rd.a.createElement(qv,{id:"Title"}))),rd.a.createElement(TC,null,rd.a.createElement(MO,null))),rd.a.createElement("div",{id:"topPanelRight",className:"container half-width text-right component"},rd.a.createElement("div",{id:"topControls"},a,i.length>0&&rd.a.createElement(TC,null,rd.a.createElement(gO,{controls:i}))),rd.a.createElement(TC,null,rd.a.createElement(Qv,{id:"Logo"})))),rd.a.createElement(TC,null,rd.a.createElement($O,null)),rd.a.createElement(TC,null,rd.a.createElement(iC,null)),rd.a.createElement("div",{id:"NotificationContainer"},rd.a.createElement(TC,null,rd.a.createElement(BC,null))))}qC.defaultProps={components:[],top:[],overflow:[],bottom:[],onKeyDown:function(){}},qC.propTypes={components:sd.a.arrayOf(sd.a.shape({name:sd.a.string,visible:sd.a.bool})),top:sd.a.arrayOf(sd.a.string),overflow:sd.a.arrayOf(sd.a.string),bottom:sd.a.arrayOf(sd.a.string),onKeyDown:sd.a.func};var zC=qC;function WC(e){return(WC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function YC(e){return(YC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZC(e,t){return(ZC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var XC=["slide","audio","cc","playbackSpeed","quality","theater","popout","fullscreen"],JC=["slideIndex","captionSearch","share","flag","report","stats"],$C=["slide","audio","cc","playbackSpeed","quality","theater","popout","slideIndex","captionSearch","share","flag","report","stats"];var ew=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==WC(t)&&"function"!=typeof t?QC(e):t}(this,YC(t).call(this,e))).state={hasQualities:!1,visibility:{audio:!1,cc:!1,share:!1,captionSearch:!1,slide:!1,slideIndex:!1,flag:!1,playbackSpeed:!1,quality:!1,theater:!1,popout:!1,fullscreen:!0,stats:!0,report:!0},top:[],overflow:[],bottom:[]},n.onAvailableQualitiesChange=n.onAvailableQualitiesChange.bind(QC(n)),n.onViewModeChange=n.onViewModeChange.bind(QC(n)),n.onKeyDown=n.onKeyDown.bind(QC(n)),n}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ZC(e,t)}(t,nd["Component"]),n=t,o=[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.playerWidth,r=function(e,t){var n=e.audioTracks,r=e.closedCaptionTracks,o=e.shareEnabled,a=e.captionSearchEnabled,i=e.slideEnabled,s=e.slides,c=e.isFullScreen,f=e.theaterVisible,d=e.currentSlide,p=e.mediaType,h=e.isMulticastActive,m=e.smallResolution,v=n.filter(function(e){return!!e.label}),y=p===Ca.a.recorded||p===Ca.a.offairVideo,g=v.length>1,b=!!r.length,E=i&&s.length>0&&l.a.isVid(),S=u.a.viewingexperience,T=f&&!c,O=!(!u.a.popoutVisible&&(u.a.popout||!u.a.sitemode)||c),C=i&&null!=d&&!m,w=a&&y,_=t.hasQualities&&!h,P=y;return{audio:g,cc:b,fullscreen:t.visibility.fullscreen,playbackSpeed:P,quality:_,share:o,captionSearch:w,slide:C,slideIndex:E,flag:S,theater:T,popout:O,stats:t.visibility.stats,report:t.visibility.report}}(e,t);if(n<320)return{top:[],overflow:[],bottom:[]};if(n<=480){var o=$C.filter(function(e){return!0===r[e]});return{top:o.slice(0,3),overflow:o.slice(3),bottom:[]}}var a=JC.filter(function(e){return!0===r[e]});return{top:a.slice(0,3),overflow:a.slice(3),bottom:XC.filter(function(e){return!0===r[e]}),visibility:r}}}],(r=[{key:"onAvailableQualitiesChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({hasQualities:e.length>0})}},{key:"componentDidMount",value:function(){k.a.on(k.a.types.EVENT,"quality",this.onAvailableQualitiesChange),k.a.on(k.a.types.UI,"viewMode",this.onViewModeChange)}},{key:"componentWillUnmount",value:function(){k.a.off(k.a.types.EVENT,"quality",this.onAvailableQualitiesChange),k.a.off(k.a.types.UI,"viewMode",this.onViewModeChange)}},{key:"onKeyDown",value:function(e){k.a.send(k.a.types.UI,"appkeydown",e)}},{key:"onViewModeChange",value:function(e){var t=this.state.visibility,n=!["discovery","explore"].includes(e);this.setState({visibility:Object.assign({},t,{popout:n})})}},{key:"render",value:function(){var e=this.state,t=e.top,n=e.overflow,r=e.bottom;return rd.a.createElement(zC,{top:t,overflow:n,bottom:r,onKeyDown:this.onKeyDown})}}])&&KC(n.prototype,r),o&&KC(n,o),t}();ew.defaultProps={},ew.propTypes={audioTracks:sd.a.arrayOf(sd.a.shape({id:sd.a.number,label:sd.a.string})).isRequired,closedCaptionTracks:sd.a.arrayOf(sd.a.shape({id:sd.a.number,label:sd.a.string})).isRequired,shareEnabled:sd.a.bool.isRequired,captionSearchEnabled:sd.a.bool.isRequired,slideEnabled:sd.a.bool.isRequired,slides:sd.a.arrayOf(sd.a.shape({start:sd.a.number})).isRequired,isFullScreen:sd.a.bool.isRequired,theaterVisible:sd.a.bool.isRequired,mediaType:sd.a.oneOf(Object.values(Ca.a)),isMulticastActive:sd.a.bool.isRequired,smallResolution:sd.a.bool.isRequired};var tw=Object(cd.b)(function(e){var t=e.player,n=e.playback,r=e.share,o=e.captionSearch,a=e.slideDeck,i=e.content,s=e.provider;return{playerWidth:Object(y.b)(e).width,audioTracks:n.audioTracks,closedCaptionTracks:n.closedCaptionTracks,shareEnabled:r.enabled,captionSearchEnabled:o.visibility,slideEnabled:a.isEnabled,currentSlide:a.currentSlide,slides:a.slides,isFullScreen:t.fullScreen,theaterVisible:t.theaterMode.visible,mediaType:i.mediaType,isMulticastActive:Object(Go.a)(s,"currentProvider.isMulticastProvider",!1),smallResolution:Object(y.d)(e)}})(ew),nw=n(115);var rw={init:function(e){!function(e){ad.a.unmountComponentAtNode(e)}(e),function(e,t){var n=document.createElement("span");t.appendChild(n),ad.a.render(rd.a.createElement(cd.a,{store:nw.a},rd.a.createElement(nd.StrictMode,null,rd.a.createElement(TC,null,e))),t)}(rd.a.createElement(tw,null),e)}},ow={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38};function aw(e){return(aw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var uw="ui-controls-hidden",lw="user-is-tabbing",cw="loading",fw="buffering",dw=5e3;function pw(){this.chromeThrottleOn||(this.body.classList.remove("slideshow"),this.body.classList.remove("ui-hidden"),Ew.call(this))}function hw(){k.a.send(k.a.types.UI,"closePopovers")}function mw(){hw(),this.body.classList.add("ui-hidden")}function vw(){this.params.controls&&"native"!==this.params.controls&&this.body.classList.remove(uw)}function yw(){this.body.classList.add(uw)}function gw(e){this.dragging=e}function bw(){this.componentContainer.classList.contains("hovered")||this.body.classList.contains("autoplay-false")||this.componentContainer.classList.add("hovered")}function Ew(){bw.call(this),Sw.call(this)}function Sw(){clearTimeout(this.hoverTimeout),g.a.getState().captionSearch&&!g.a.getState().captionSearch.panelVisibility&&(this.hoverTimeout=setTimeout(Tw.bind(this),dw))}function Tw(){var e=g.a.getState().playback.playing;this.dragging||document.getElementsByClassName("popover-container opened").length>0||g.a.getState().player.statsOverlayVisible||Ow.call(this)||e&&setTimeout(Cw.bind(this),200)}function Ow(){return this.body.classList.contains(lw)&&this.body.contains(document.activeElement)}function Cw(){this.componentContainer.classList.remove("hovered"),hw()}function ww(){this.body.classList.remove("size-small","size-medium","size-big","size-large"),this.body.clientWidth<=240?this.body.classList.add("size-small"):this.body.clientWidth<=360?this.body.classList.add("size-medium"):this.body.clientWidth<=480?this.body.classList.add("size-big"):this.body.clientWidth<=640&&this.body.classList.add("size-large")}function _w(){this.body.classList.add("ui-enabled"),this.params.sitemode&&this.body.classList.add("site-mode"),this.params.viewingexperience&&this.body.classList.add("viewingexperience"),this.params.controls||this.body.classList.add(uw),"native"===this.params.controls&&(this.body.classList.add(uw),this.body.classList.add("ui-native")),(i.a.ios||i.a.android||i.a.black)&&this.body.classList.add("mobile-ui"),this.body.classList.add("html-playback"),i.a.ios&&this.body.classList.add("ios"),ww.call(this)}function Pw(){this.middleContainer&&this.middleContainer.addClass("popover-opened")}function Iw(){this.middleContainer&&this.middleContainer.removeClass("popover-opened")}function Lw(e){var t=Date.now();this.prevMouseMoveTimestamp&&t-this.prevMouseMoveTimestamp>dw?this.prevMouseMoveTimestamp=!1:(this.prevMouseMoveTimestamp=Date.now(),bw.call(this),clearTimeout(this.hoverTimeout),e&&this.bottomContainer&&this.bottomContainer.contains(e.target)||Sw.call(this))}function Rw(){clearTimeout(this.hoverTimeout)}function Aw(e){e?Sw.call(this):(this.prevMouseMoveTimestamp=void 0,bw.call(this),kw.call(this))}function kw(){Nw.call(this)?this.componentContainer.classList.add(cw):this.componentContainer.classList.remove(cw),this.componentContainer.classList.remove(fw)}function Nw(){return g.a.getState().playback.isBufferEmpty&&this.content.isContentPlayable()}function Dw(){this.body.classList.add("slideshow"),Cw.call(this),kw.call(this)}function Mw(e){"image"===e.itemType&&Cw.call(this)}function Uw(){var e=this;if(this.clickTimeout)return clearTimeout(this.clickTimeout),void(this.clickTimeout=!1);this.clickTimeout=setTimeout(function(){e.clickTimeout=!1},200),hw(),Tw.call(this)}function xw(e){e.stopPropagation(),hw(),this.middleContainer&&this.middleContainer.offsetWidth>0&&this.middleContainer.offsetHeight>0?Tw.call(this):Sw.call(this)}function jw(e){var t=e.nativeEvent;if(!t||!t.target||"TEXTAREA"!==t.target.nodeName&&"INPUT"!==t.target.nodeName&&"OBJECT"!==t.target.nodeName){if(t.which!==ow.TAB)return t.keyCode===ow.SPACE?(t.preventDefault(),void Fw.call(this)):void(document.getElementsByClassName("overlay-container shown").length>0||k.a.send(k.a.types.UI,"keyDown",t));Ew.call(this)}}function Fw(){if(this.content.isContentPlayable()){var e=g.a.getState().playback.playing,t=e?"pause":"play";v.send({message:e?"Pause":"Play",data:{category:"Interaction",item:t,action:t}}),k.a.send(k.a.types.COMMAND,t),k.a.send(k.a.types.UI,"showStatusAnimation",t)}}function Vw(e){g.a.getState().playback.playing&&e?this.componentContainer.classList.add(fw):this.componentContainer.classList.remove(fw),this.componentContainer.classList.remove(cw)}function Bw(e){this.chromeThrottleOn=e,e?this.body.classList.add("ui-hidden"):this.body.classList.remove("ui-hidden")}function Hw(e){e?(this.body.classList.add("advert-shown"),this.body.classList.add("ui-hidden")):(this.body.classList.remove("advert-shown"),this.body.classList.remove("ui-hidden"))}function Gw(){var e=this.params.getByContent("meta"),t=this.content.getUrl(!0),n=e.adFree||this.params.adFree?411:500;window.open(t,"ChannelVideoPopup","width=730,height=".concat(n,",scrollbars=no,resizable=no")),k.a.send(k.a.types.COMMAND,"pause")}function qw(e){Yw(),e(),k.a.send(k.a.types.EVENT,"resize"),ww.call(this)}function zw(){var e=Object(y.b)(g.a.getState()),t=e.width,n=e.height;v.send({message:"Resize",data:{category:"Interaction",item:"resize",action:"change",width:t,height:n}})}function Ww(){var e=!!(document.fullScreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement);e?this.body.classList.add("fullscreen-mode"):this.body.classList.remove("fullscreen-mode"),g.a.dispatch(Object(Z.i)(e));var t=Object(y.b)(g.a.getState()),n=t.width,r=t.height;v.send({message:"Toggle fullscreen",data:{category:"Interaction",item:"fullscreen",action:"toggle",fullscreen:e?"on":"off",width:n,height:r}})}function Kw(){var e=this;k.a.on(k.a.types.UI,"show",pw.bind(this)),k.a.on(k.a.types.UI,"hide",mw.bind(this)),k.a.on(k.a.types.UI,"showControls",vw.bind(this)),k.a.on(k.a.types.UI,"hideControls",yw.bind(this)),k.a.on(k.a.types.UI,"dragging",gw.bind(this)),k.a.on(k.a.types.UI,"hover",bw.bind(this)),k.a.on(k.a.types.UI,"hoverWithTimeout",Ew.bind(this)),k.a.on(k.a.types.EVENT,"ready",pw.bind(this)),k.a.on(k.a.types.UI,"onPopoverOpen",Pw.bind(this)),k.a.on(k.a.types.UI,"onPopoverClose",Iw.bind(this)),k.a.on(k.a.types.UI,"onClickOverlayMouseMove",Lw.bind(this)),k.a.on(k.a.types.UI,"onClickOverlayMouseLeave",Rw.bind(this)),k.a.on(k.a.types.EVENT,"createSlideShow",Dw.bind(this)),k.a.on(k.a.types.EVENT,"currentOffairSlide",Mw.bind(this)),k.a.on(k.a.types.UI,"appkeydown",jw.bind(this)),k.a.on(k.a.types.EVENT,"contentUpdate",pw.bind(this)),k.a.on(k.a.types.UI,"loading",kw.bind(this)),k.a.on(k.a.types.EVENT,"buffering",Vw.bind(this)),k.a.on(k.a.types.UI,"chromeThrottle",Bw.bind(this)),k.a.on(k.a.types.EVENT,"videoAdPlaying",Hw.bind(this)),k.a.on(k.a.types.EVENT,"popoutClick",Gw.bind(this)),g.a.subscribe("playback.playing",Aw.bind(this)),this.body.addEventListener("mouseleave",xw.bind(this)),this.viewerContainer.addEventListener("click",Uw.bind(this));var t=r.bind(this),n=function(){this.body.classList.remove(lw),this.body.removeEventListener("mousedown",n),this.body.addEventListener("keydown",r)}.bind(this);function r(e){e.keyCode===ow.TAB&&(this.body.classList.add(lw),this.body.removeEventListener("keydown",t),this.body.addEventListener("mousedown",n))}this.body.addEventListener("keydown",t);var o,a,i=Jf(zw,200);window.addEventListener("resize",qw.bind(this,i)),o=Ar.b.get(Ar.c),a=/((CPU[ +]OS|iPhone[ +]OS|CPU[ +]iPhone|CPU IPhone OS)[ +]+(12[_\.]0|12[_\.]([1-9]|\d{2,})|(1[3-9]|[2-9]\d|\d{3,})[_\.]\d+)(?:[_\.]\d+)?)|(OperaMini(?:\/att)?\/?(\d+)?(?:\.\d+)?(?:\.\d+)?)|(Opera\/.+Opera Mobi.+Version\/(12\.1|12\.([2-9]|\d{2,})|(1[3-9]|[2-9]\d|\d{3,})\.\d+|46\.0|46\.([1-9]|\d{2,})|(4[7-9]|[5-9]\d|\d{3,})\.\d+))|(Opera\/(12\.1|12\.([2-9]|\d{2,})|(1[3-9]|[2-9]\d|\d{3,})\.\d+|46\.0|46\.([1-9]|\d{2,})|(4[7-9]|[5-9]\d|\d{3,})\.\d+).+Opera Mobi)|(Opera Mobi.+Opera(?:\/|\s+)(12\.1|12\.([2-9]|\d{2,})|(1[3-9]|[2-9]\d|\d{3,})\.\d+|46\.0|46\.([1-9]|\d{2,})|(4[7-9]|[5-9]\d|\d{3,})\.\d+))|(SamsungBrowser\/(8\.2|8\.([3-9]|\d{2,})|(9|\d{2,})\.\d+))|(Edge\/(17(?:\.0)?|17(?:\.([1-9]|\d{2,}))?|(1[8-9]|[2-9]\d|\d{3,})(?:\.\d+)?))|(HeadlessChrome((?:\/74\.0\.\d+)?|(?:\/74\.([1-9]|\d{2,})\.\d+)?|(?:\/(7[5-9]|[8-9]\d|\d{3,})\.\d+\.\d+)?))|((Chromium|Chrome)\/(74\.0|74\.([1-9]|\d{2,})|(7[5-9]|[8-9]\d|\d{3,})\.\d+)(?:\.\d+)?)|(IEMobile[ \/](10\.0|10\.([1-9]|\d{2,})|(1[1-9]|[2-9]\d|\d{3,})\.\d+))|(PlayBook.+RIM Tablet OS (7\.0|7\.([1-9]|\d{2,})|([8-9]|\d{2,})\.\d+|10\.0|10\.([1-9]|\d{2,})|(1[1-9]|[2-9]\d|\d{3,})\.\d+)\.\d+)|((Black[bB]erry|BB10).+Version\/(7\.0|7\.([1-9]|\d{2,})|([8-9]|\d{2,})\.\d+|10\.0|10\.([1-9]|\d{2,})|(1[1-9]|[2-9]\d|\d{3,})\.\d+)\.\d+)|(Version\/(12\.0|12\.([1-9]|\d{2,})|(1[3-9]|[2-9]\d|\d{3,})\.\d+)(?:\.\d+)?.*Safari\/)|(Firefox\/(60\.0|60\.([1-9]|\d{2,})|(6[1-9]|[7-9]\d|\d{3,})\.\d+|67\.0|67\.([1-9]|\d{2,})|(6[8-9]|[7-9]\d|\d{3,})\.\d+)\.\d+)|(Firefox\/(60\.0|60\.([1-9]|\d{2,})|(6[1-9]|[7-9]\d|\d{3,})\.\d+|67\.0|67\.([1-9]|\d{2,})|(6[8-9]|[7-9]\d|\d{3,})\.\d+)(pre|[ab]\d+[a-z]*)?)/.test(navigator.userAgent),o||a||g.a.dispatch(Object(Z.f)(Z.a.oldBrowser));["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].forEach(function(t){return document.addEventListener(t,Ww.bind(e),!1)})}function Yw(){var e=Object(y.b)(g.a.getState()),t=e.width,n=e.height,r=sw($f(),2),o=r[0],a=r[1];t===o&&n===a||g.a.dispatch(Object(Z.c)({width:o,height:a}))}var Qw=function(){function e(t){var n=t.content,r=t.params;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.content=n,this.params=r,this.body=document.getElementById("PlayerOne"),this.viewerContainer=document.getElementById("ViewerContainer"),this.componentContainer=document.getElementById("ComponentsContainer"),this.middleContainer=document.getElementById("middleContainer"),this.bottomContainer=document.getElementById("bottomContainer"),this.chromeThrottleOn=!1,this.dragging=!1,this.hoverTimeout=void 0,this.clickTimeout=void 0,this.prevMouseMoveTimestamp=void 0,_w.call(this),Kw.call(this),Yw(),rw.init(this.componentContainer)}var t,n,r;return t=e,(n=[{key:"getBody",value:function(){return this.body}},{key:"setDuration",value:function(){var e=this.content.getTrimmedDurationInMillisec();if(e){var t=this.params.getByContent("startAt");if(t){var n=1e3*t/e;this.setSeek(n)}else 0!==this.content.getCutStart()&&this.setSeek(0)}}},{key:"setProgress",value:function(e){e>=1&&k.a.send(k.a.types.EVENT,"videoFinished")}},{key:"setAtlasProgress",value:function(e){k.a.send(k.a.types.EVENT,"atlasPositionUpdate",e)}},{key:"setLive",value:function(e){k.a.send(k.a.types.EVENT,"live",e)}},{key:"setHighlight",value:function(e){this.params.ignoretrim||(this.content.setHighlight(e),this.setDuration())}},{key:"setMeta",value:function(e){k.a.send(k.a.types.EVENT,"meta",e)}},{key:"setQuality",value:function(e){k.a.send(k.a.types.EVENT,"quality",e)}},{key:"setSeek",value:function(e){var t;t="object"===aw(e)&&Object.prototype.hasOwnProperty.call(e,"to")?e.to:"number"==typeof e?e:0;var n=this.content.getAbsoluteSeekPositionInMs(t*this.content.getTrimmedDurationInMillisec());k.a.send(k.a.types.COMMAND,"seek",[n/1e3])}},{key:"startSlideShow",value:function(e){k.a.send(k.a.types.EVENT,"createSlideShow",e)}},{key:"setCurrentOffairSlide",value:function(e){k.a.send(k.a.types.EVENT,"currentOffairSlide",e)}},{key:"stopSlideShow",value:function(){k.a.send(k.a.types.EVENT,"destroySlideShow"),this.params.autoplay&&k.a.send(k.a.types.COMMAND,"play"),k.a.send(k.a.types.UI,"showControls")}},{key:"setLoading",value:function(e){k.a.send(k.a.types.UI,ed,e)}},{key:"setAudioLoading",value:function(e){k.a.send(k.a.types.UI,td,e)}},{key:"setThrottle",value:function(e){k.a.send(k.a.types.UI,"chromeThrottle",e)}},{key:"setUiVisibility",value:function(e){k.a.send(k.a.types.UI,e?"show":"hide")}},{key:"setPMPromoVisibility",value:function(e){k.a.send(k.a.types.EVENT,"videoAdPlaying",e)}},{key:"hidePlayScreen",value:function(){k.a.send(k.a.types.EVENT,"hidePlayScreen")}},{key:"showPlayScreen",value:function(){k.a.send(k.a.types.EVENT,"showPlayScreen")}},{key:"setLogSendingStarted",value:function(){k.a.send(k.a.types.EVENT,"logSendingStarted")}},{key:"setLogSendingCompleted",value:function(e){k.a.send(k.a.types.EVENT,"logSendingComplete",e)}},{key:"triggerLogSending",value:function(){return new Promise(function(e){k.a.on(k.a.types.EVENT,"logSendingComplete",function t(n){k.a.off(k.a.types.EVENT,"logSendingComplete",t),e("Log sending complete. Issue ID: ".concat(n))}),k.a.send(k.a.types.EVENT,"sendLog")})}},{key:"showViewerContainer",value:function(){this.viewerContainer.classList.contains("hidden")&&this.viewerContainer.classList.remove("hidden")}},{key:"hideViewerContainer",value:function(){this.viewerContainer.classList.contains("hidden")||this.viewerContainer.classList.add("hidden")}},{key:"setContentAvailable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e?this.body.classList.add("content-available"):this.body.classList.remove("content-available")}},{key:"showPermanentMessage",value:function(e){k.a.send(k.a.types.UI,"showPermanentMessage",e)}},{key:"hideMessage",value:function(){k.a.send(k.a.types.UI,"hideMessage")}}])&&iw(t.prototype,n),r&&iw(t,r),e}(),Zw=n(106),Xw={FATAL:100,ERROR:200,WARN:300,INFO:400,DEBUG:500};function Jw(e){return(Jw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $w(e){var t=Object(Go.a)(e,"streamFormats");return"object"!==Jw(t)||null===t||(!(!e.contentAvailable||0!==Object.keys(t).length)||Object.values(t).some(function(e){return"object"!==Jw(e)||null===e||0===Object.keys(e).length}))}var e_,t_,n_,r_,o_="reloadTime",a_=!1,i_=!1,s_={},u_={buffer:1e4,progress:7e3,playing:15e3,logsend:29e3,heartbeat:3e4,reload:3e4,unrecoveredStalled:5e3},l_={},c_=[{msg:"unrecognized data format",logLevel:Xw.FATAL},{msg:"invalid content type",logLevel:Xw.FATAL},{msg:"no bytes",logLevel:Xw.WARN},{msg:"unable to get segmentId",logLevel:Xw.ERROR},{msg:"VideoPlayer.stalled",logLevel:Xw.WARN}],f_=Object(s.a)("logic/errorWatcher/watcherHtmlplayback");function d_(e,t,n){var r,o=(new Date).getTime(),a=e.replace(/(?:^\s+)|(?:\s+$)/g,"").replace(/[^\w]+/g,"_").replace(/[_]{2,}/g,"_");i_||(Object.prototype.hasOwnProperty.call(s_,e)||(s_[e]=0),o-s_[e]<u_.logsend||(s_[e]=o,n=Object(Zw.a)({category:"Error",item:a,action:"",level:Xw.INFO},n),n_&&(n.provider=n_),r={message:t,data:n},v.send(r)))}function p_(e){var t;switch(e.status){case Cc.status.ERROR:t="server error";break;case Cc.status.TIMEOUT:t="timeout";break;default:t="unknown error"}d_("tcdn_error",t,Xw.WARN)}function h_(){var e={level:Xw.INFO};"number"==typeof e_&&(e.position=Math.round(e_)),d_("heartbeat","heartbeat",e),l_.heartbeat=setTimeout(h_,u_.heartbeat)}function m_(){r_=clearTimeout(r_)}function v_(e,t){r_&&m_(),r_=setTimeout(function(){d_(e,t,Xw.FATAL),f_.fatal(t)},5e3)}function y_(e){$w(e)?v_("empty_stream_module","empty stream module received"):m_()}function g_(){m_();var e="browser does not support the content type";d_("unsupported_content",e,Xw.FATAL),f_.fatal(e)}var b_={start:function(){var e;f_.debug("start error watcher"),i_=!1,a_||(e=Ar.b.get(o_),a_=!0,h_(),T.a.on(T.a.types.REPORT,T.a.events.REPORT_BUFFER_EMPTY,function(){l_.buffer||(l_.buffer=setTimeout(function(){t_&&d_("long buffer empty","buffer empty more than "+u_.buffer+"ms",Xw.FATAL)},u_.buffer))}),T.a.on(T.a.types.REPORT,T.a.events.REPORT_BUFFER_FULL,function(){l_.buffer=clearTimeout(l_.buffer)}),T.a.on(T.a.types.EVENT,T.a.events.PLAYING,function(e){(t_=e)?e_||(l_.playing=clearTimeout(l_.playing),l_.playing=setTimeout(function(){var e="playback has not begun for "+u_.playing+"ms";d_("playback has not begun",e,Xw.FATAL),f_.fatal(e)},u_.playing)):(l_.progress=clearTimeout(l_.progress),l_.buffer=clearTimeout(l_.buffer),l_.playing=clearTimeout(l_.playing))}),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_PROGRESS,function(e){e_!==e&&(l_.playing=clearTimeout(l_.playing),l_.unrecoveredStalled=clearTimeout(l_.unrecoveredStalled),l_.progress=clearTimeout(l_.progress),l_.progress=setTimeout(function(){if(t_){var e="progress stalled more than "+u_.progress+"ms";d_("progress stalled",e,Xw.FATAL),f_.fatal(e)}},u_.progress)),e_=e}),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_ERROR,function(e){if(e.error!==j.a.errors.PLAY_ERROR){var t="atlas_"+e.error+"_error",n="",r={level:Xw.WARN};switch(e.error){case j.a.errors.UNSUPPORTED:case j.a.errors.INVALID_OPTIONS:r.level=Xw.FATAL;break;case j.a.errors.VIDEO_PLAYER:n=e.details.message,r.level=Xw.ERROR;break;case j.a.errors.UNRECOVERED_STALLED:r.level=Xw.ERROR;break;case j.a.errors.SEGMENT_LOAD_FAILED:n=e.details.reason||"UNKNOWN",r.http_status=e.details.status,r.level=Xw.ERROR;break;case j.a.errors.SEGMENT_NOT_FOUND:n=e.details.reason||"UNKNOWN",r.http_status=e.details.status,r.level=Xw.WARN;break;case j.a.errors.CAN_NOT_CREATE_URL:n=e.details.reason,r.level=Xw.ERROR;break;case j.a.errors.NEW_REPRESENTATION:r.level=Xw.ERROR}e.error===j.a.errors.UNRECOVERED_STALLED?l_.unrecoveredStalled||(l_.unrecoveredStalled=setTimeout(function(){d_(t,n,r)},u_.unrecoveredStalled)):d_(t,n,r)}}),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_LOG,function(e){c_.forEach(function(t){var n=t.msg,r=t.logLevel;e.line.indexOf(n)>-1&&d_(n,e.line,{level:r})})}),T.a.on(T.a.types.EVENT,T.a.events.PLAY_OPTIONS,function(e){if(e.baseUrl){var t=new URL(e.baseUrl);n_=t.protocol+"//"+t.hostname}}),window.addEventListener("beforeunload",function(){Ar.b.set(o_,{time:(new Date).getTime(),mid:l.a.getMid()})}),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_CLEANUP,function(e){e.indexOf("Unrecoverable atlas error")>-1?d_("atlas_reset",e,{level:Xw.FATAL}):e.indexOf("segment not found error")>-1?d_("atlas_reset",e,{level:Xw.WARN}):d_("atlas_reset",e,{level:Xw.INFO})}),T.a.on(T.a.types.EVENT,T.a.events.URL_RESOLVE_FAILURE,p_),T.a.on(T.a.types.EVENT,T.a.events.PROVIDER_CHANGE,function(e){var t=new URL(e.to);n_=t.protocol+"//"+t.hostname}),d_("load","Error logger loaded",{level:Xw.INFO}),e&&(new Date).getTime()-e.time<u_.reload&&e.mid===l.a.getMid()&&d_("reload","reload",{level:Xw.WARN}),T.a.on(T.a.types.DATA,T.a.events.STREAM_UPDATE,y_),T.a.on(T.a.types.EVENT,T.a.events.UNSUPPORTED,g_),v_("zero_stream_module","zero stream module received"))},stop:function(){i_=!0,s_={},Object.getOwnPropertyNames(l_).forEach(function(e){clearTimeout(l_[e])}),l_={},f_.debug("stop error watcher")}},E_=Object(s.a)("logic/errorWatcher/watcher");var S_={start:function(){b_.start(),E_.debug("Error watcher started.")},stop:function(){b_.stop(),E_.debug("Error watcher stopped.")}},T_="api.ustream.tv",O_=Object(s.a)("logic/captionSearch/captionSearchService");function C_(e){O_.error("searchOnError",e),FT.setSearchResult(void 0)}function w_(e,t){var n=new XMLHttpRequest;function r(){return C_(n.status+" "+n.statusText)}n.addEventListener("load",function(){if(200===n.status)try{!function(e){return t=e,O_.debug("searchOnSuccess",t.caption_matches),void FT.setSearchResult(t.caption_matches);var t}(JSON.parse(n.responseText))}catch(e){C_("Response JSON parse failed")}else r()}),n.addEventListener("error",r),n.open("GET",function(e){var t=new URL("https://"+T_),n=l.a.isOffairVid()?l.a.offairVid():l.a.id();return t.pathname="videos/"+n+"/captions/search.json",t.searchParams.set("q",function(e){return e.replace(/\s/g,"+")}(e)),t.searchParams.set("highlight",!0),t.toString()}(e),!0),n.setRequestHeader("Authorization","Bearer "+t),n.send()}var __={search:function(e,t){e?w_(e,t):C_("Cannot call search api with empty search text.")}},P_=Object(s.a)("logic/captionSearch/captionSearchHandler");function I_(e){var t=or().getBody();e?(t.classList.add("caption-search-enabled"),u.a.findText&&(FT.setSearchText(decodeURIComponent(u.a.findText)),FT.toggleCaptionSearchPanel(!0))):t.classList.remove("caption-search-enabled")}function L_(e){var t=or().getBody();e?(t.classList.add("caption-search-panel-open"),k.a.send(k.a.types.UI,"closePopovers"),k.a.send(k.a.types.UI,"closeOverlays")):t.classList.remove("caption-search-panel-open"),k.a.send(k.a.types.UI,"hover")}function R_(e){var t=or().getBody();e&&e.length>0?t.classList.add("caption-search-has-result"):t.classList.remove("caption-search-has-result")}function A_(e){var t=g.a.getState().captionSearch.module;t?void 0!==t.token?__.search(e,t.token):P_.error("There is no token for search api."):P_.error("There is no module for search api")}var k_,N_={init:function(){P_.debug("init"),g.a.subscribe("captionSearch.visibility",I_),g.a.subscribe("captionSearch.panelVisibility",L_),g.a.subscribe("captionSearch.searchResult",R_),g.a.subscribe("captionSearch.searchText",A_)},reset:function(){FT.setSearchText(void 0),FT.toggleCaptionSearch(!1),FT.toggleCaptionSearchPanel(!1)}},D_=n(189),M_=n.n(D_),U_=Object(s.a)("logic/slideDeck/slideDeckHandler"),x_=!i.a.ie||i.a.ie[0]&&i.a.ie[0]>9,j_=(k_=[],function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map(function(e){return Object(Go.a)(e,"url","")}),n=k_.filter(function(e){return!t.includes(e)});n.forEach(URL.revokeObjectURL),k_=t});function F_(e){var t=new Blob([e],{type:"image/jpeg"});return URL.createObjectURL(t)}var V_=function(){if(!x_)return function(){var e=new Error("Browser not supported");return Promise.reject(e)};var e=null,t=null;return function(n){return null===t&&(e=new Map,(t=new M_.a).addEventListener("message",function(t){var n=t.data,r=n.url,o=n.error,a=n.buffer,i=e.get(r);i&&(e.delete(r),o?i(new Error(o),null):i(null,a))}),t.addEventListener("error",function(e){e.preventDefault(),U_.error(e.message)})),new Promise(function(r,o){var a=n.url,i=n.secret;e.set(a,function(e,t){if(e)o(e);else{var a=Object.assign({},n,{url:F_(t)});r(a)}}),t.postMessage({url:a,secret:i})})}}();function B_(e){return Object.assign({start:-1/0,end:1/0},e)}function H_(e){if(0!==e.length){var t=[];e.forEach(function(e){Promise.resolve().then(function(){return function(e){return!!Object(Go.a)(e,"url")}(e)?V_(e):e}).then(function(e){t.push(e),yT.setSlides(t)}).catch(function(e){U_.error('Decoding error: "'.concat(e.message,'"'))})})}else yT.setSlides([])}g.a.subscribe("slideDeck.slides",j_);var G_={slidesModuleUpdate:function(e){x_&&(!Array.isArray(e)||e.length>0)&&(e?H_(function(e){if(Array.isArray(e))return e.map(B_);if(e.show){var t=e.show;return[B_({url:t.url,secret:t.secret})]}return[]}(e)):yT.disable())},timeUpdate:function(e){var t=1e3*e,n=g.a.getState().slideDeck,r=n.slides.find(function(e){var n=e.start,r=e.end;return n<=t&&t<=r});Object(Go.a)(r,"url")!==Object(Go.a)(n.currentSlide,"url")&&(U_.info("slide update",r),yT.setCurrentSlide(r))},reset:function(){yT.disable()}},q_=n(48),z_=n(108);function W_(e,t){return(e.data||[]).map(function(t){return Object.assign({name:e.name},t)}).map(function(e){return e.sites.map(function(t){return Object.assign({name:e.name,location:e.location},t)})}).reduce(function(e,t){return e.concat(t)},[]).map(function(e){var n=function(e){var t=i.a.ssl?12350:12345;return"".concat(e,":").concat(t)}(e.host);return{location:"".concat(e.name,"/").concat(e.location),name:e.host,url:"".concat(t,"://").concat(n).concat(e.path)}})}function K_(e,t){var n=Object(Go.a)(e,"providers.0.url");if(!n)return[];var r=Object(Go.a)(e,"streamFormats.mp4/segmented");if(!r)return[];var o=Object(Go.a)(r,"contentAccess.accessList.0.data.path"),a=Object(Go.a)(r,"streams",[]).map(function(e){var t=e.initUrl,n=e.segmentUrl;return t||n}).find(function(e){return/\.m4[av]h?$/.test(e)});if(!o||!a)return[];var i,s,u="".concat(n).concat(o).concat(a),l=r.hashes,c=r.chunkId;return l&&"number"==typeof c?(i=c,s=c+t,Array.from({length:Math.abs(i-s)},function(e,t){return i+t})).map(function(e){var t=function(e,t){return e[10*Math.floor(t/10)]}(l,e);return t?{urlPattern:u,hash:t,chunkId:e}:null}).filter(function(e){return!!e}):[]}function Y_(e,t){var n="streamFormats.mp4/segmented.chunkId";return void 0===Object(Go.a)(e,n)?e:Object(z_.a)(e,n,t)}var Q_=n(112),Z_=n(143);function X_(e,t,n,r,o,a,i){try{var s=e[a](i),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function J_(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var $_=Object(s.a)("multicast/rampClient");function eP(e){var t=e.match(/(\w+)\.(\d+)/);if(null!==t)return t[2]}function tP(e,t){var n,r,o,a,i=t.timeoutInMs,s=(r=(n=e).urlPattern,o=n.hash,a=n.chunkId,r.replace("%",a).replace("%",o));return new Promise(function(t,n){var r=new XMLHttpRequest;function o(){var e="".concat(r.status," ").concat(r.statusText);return n(new Error(e))}return r.open("GET",s,!0),r.timeout=i,r.addEventListener("load",function(){200===r.status?t(e):o()}),r.addEventListener("error",o),r.addEventListener("timeout",o),r.send()})}function nP(e,t){var n=t.timeoutInMs,r=t.pingDelayInMs,o=J_(e),a=o[0],i=o.slice(1);return tP(a,{timeoutInMs:n}).catch(function(){return 0===i.length?Promise.reject(new Error("ping failed")):new Promise(function(e,t){setTimeout(function(){nP(i,{timeoutInMs:n,pingDelayInMs:r}).then(e).catch(t)},r)})})}function rP(e){return new Promise(function(t){var n={i_param:{verbose:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];$_.debug("receiver interface log",t)},allowFallback:!1,onDone:function(e,n){return $_.debug("receiverInterfaceDone",{obj:n,text:"".concat(e.interpretResponse(n),"\n").concat(e.interpretState(n))}),t()}},r_param:{host:"ustream.multicast-receiver-altitudecdn.net",maddr:"0",streamKey:eP(e),multiStream:!0,verbose:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];$_.debug("receiver log",t)},onDone:function(){$_.debug("receiverDone")},onReady:function(e,t){t&&$_.debug("receiverReady",t)},onPGReady:function(e,t){"success"===t.reason&&e.streamKey&&$_.debug("receiverProgramGuideReady",t)}},o_param:null};return Z_.RcvrInterface.GetQueryParams(n),$_.debug("Create receiver interface",n),new Z_.RcvrInterface(n.i_param,n.r_param,n.o_param)})}function oP(){var e;return e=regeneratorRuntime.mark(function e(t,n){var r,o,a=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},o=Object.assign({timeoutInMs:1e3,pingDelayInMs:200},r||{}),e.next=4,rP(t);case 4:if(0!==n.length){e.next=6;break}return e.abrupt("return",[]);case 6:return e.abrupt("return",nP(n,o));case 7:case"end":return e.stop()}},e)}),(oP=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){X_(a,r,o,i,s,"next",e)}function s(e){X_(a,r,o,i,s,"throw",e)}i(void 0)})}).apply(this,arguments)}var aP,iP="Please stand by while we're loading your Multicast stream.",sP=Object(s.a)("multicast/multicast"),uP={},lP=!1;function cP(){return lP}function fP(){var e=g.a.getState();return Object(Go.a)(e,"provider.currentProvider.isMulticastProvider",!1)}function dP(){return!aP||Date.now()-aP>6e4}function pP(e,t){var n=function(e){var t=function(e){return(e.data||[]).findIndex(function(e){return"multicast"===e.name})}(e);if(-1===t)return{multicastProviderGroup:null,restOfTheCdnConfig:e};var n=e.data,r=n[t];return n.splice(t,1),{multicastProviderGroup:r,restOfTheCdnConfig:Object.assign({},e,{data:n})}}(t),r=n.multicastProviderGroup,o=n.restOfTheCdnConfig;if(!r)return t;var a=Object(Q_.b)();return a&&function(e,t,n){var r=i.a.ssl?"https":"http";uP[e]={protocol:t||r,providerGroup:n}}(e,t.protocol,r),sP.info("Multicast provider detected",{mid:e,multicastProviderGroup:r,isSupported:a}),o}function hP(e,t,n){return function(e,t,n){var r=W_(e,t),o=n.providers||[];return o=r.concat(o),Object.assign({},n,{providers:o})}(n.providerGroup,n.protocol,t)}function mP(e,t){sP.debug("Warm up the RAMP client",{mid:e,lastWarmUp:aP,testURLs:t});var n,r=!aP;return r&&(n=setTimeout(function(){or().showPermanentMessage(iP)},500)),lP=!0,function(e,t){return oP.apply(this,arguments)}(e,t,{timeoutInMs:3e3,pingDelayInMs:200}).finally(function(){lP=!1,aP=Date.now(),r&&(clearTimeout(n),or().hideMessage())})}var vP,yP,gP,bP,EP,SP,TP,OP=1e3,CP=3e3,wP=Object(s.a)("playback/hlsWatcher");function _P(e){yP=e,AP()}function PP(e){bP=e}function IP(e){EP=e,clearInterval(SP),AP(),vP&&EP&&(SP=setInterval(LP,OP))}function LP(){bP&&bP.url&&bP.format===ti.a.HLS&&(gP&&gP===yP&&EP?(wP.debug("hls playback stalled"),TP||(TP=setTimeout(RP,CP))):AP(),gP=yP)}function RP(){bP.url&&Lo.isEcdnProvider(bP.url)?(Lo.onProviderFailure(bP),AP()):wP.debug("non ecdn provider failure.")}function AP(){TP=clearTimeout(TP)}var kP={init:function(){vP||(wP.debug("init"),vP=!0,T.a.on(T.a.types.EVENT,T.a.events.ATLAS_PROGRESS,_P),T.a.on(T.a.types.EVENT,T.a.events.PLAYING,IP),T.a.on(T.a.types.EVENT,T.a.events.PLAY_OPTIONS,PP))}};function NP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var DP=Object(s.a)("logic/ums/connectionParams"),MP="mte_use_longpoll";function UP(){return l.a.isOffairVid()&&Object.values(u.a.uumfOffairVods).includes(l.a.offairVid())}function xP(){if(j.a.capabilities.includes(j.a.formats.FLV_SEGMENTED)||j.a.capabilities.includes(j.a.formats.MP4_SEGMENTED)&&(l.a.isLiveContent()||l.a.isVid()||UP()))return{appId:3,appVersion:2};if(j.a.capabilities.includes(j.a.formats.HLS))return kP.init(),{appId:11,appVersion:3};if(j.a.capabilities.includes(j.a.formats.MP4_MOVIE))return{appId:3,appVersion:2};var e="Can not play media";throw DP.info(e,{atlasCapabilities:j.a.capabilities,isVid:l.a.isVid(),isOffairVid:l.a.isOffairVid(),isOffairVod:UP()}),new Error(e)}function jP(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||VP(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function FP(e){return function(e){if(Array.isArray(e))return e}(e)||VP(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function VP(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}var BP=Object(s.a)("logic/ums/umsHandler"),HP="mte_use_lonpoll";function GP(e,t){S.reportUmsConnectionFinished(e),q_.a.set(HP,t.longpoll?"1":"0",{expires:30}),u.a.getByContent("channelPassword")&&v.send({message:"Viewer passes lock",data:{category:"Interaction",item:"lock",action:"pass",lock_type:"passwordlock"}}),T.a.send(T.a.types.REPORT,T.a.events.UMS_CONNECTED,e)}function qP(e){var t={code:Object(Go.a)(e,"closeEvent.code",-1),closeReason:Object(Go.a)(e,"closeEvent.reason",-1)};v.send({message:"UMS connection lost",data:{category:"Playback",item:"UMS connection",action:"lost",reason:t}})}function zP(e,t){var n=t[0]||t;!function(e,t,n){t.cdnConfig?(t.cdnConfig=pP(e,t.cdnConfig),n(t)):n(t)}(e,n,function(t){Lo.onStat=WP,Lo.onComplete=KP,Lo.update(e,t)})}function WP(e){switch(e.type){case"overlay":return g.a.dispatch((t=e.data,{type:Ro.a.setProvidersStats,payload:{stats:t}}));case"report":T.a.send(T.a.types.REPORT,T.a.events.REPORT_ECDN_TESTS,e.data);break;default:BP.debug("Unexpected command from sdcdn stats reporting",e.type)}var t}function KP(e,t){!function(e,t,n){if(!t.stream)return n(t);sP.debug("Process stream module after sdcdn",{mid:e,isMulticastActive:fP(),canRetry:dP(),isWarmUpInProgress:cP()});var r=t.stream,o=uP[e];if(!o)return n(Object.assign({},t,{stream:r}));var a=hP(0,t.stream,o);if(fP())return n(Object.assign({},t,{stream:a}));if(cP())return delete t.stream,n(t);if(!dP())return n(Object.assign({},t,{stream:r}));var i=K_(a,5);if(0===i.length)return n(Object.assign(t,{stream:r}));mP(e,i).then(function(r){sP.debug("Successful warm up",{mid:e,reachableURL:r}),setTimeout(function(){var e=o.providerGroup.name;Ho.select(e)},200);var i=r.chunkId;return n(Object.assign({},t,{stream:Y_(a,i)}))}).catch(function(o){return sP.debug("Unsuccessful warm up",{mid:e,error:o?o.message:null}),n(Object.assign({},t,{stream:r}))})}(e,t,function(t){R.update(e,t)})}function YP(e,t){BP.debug("ums reject. mid: ".concat(e),{mid:e,updates:t}),vi(e,t)}var QP={createUms:function(e){S.reportUmsConnectionStart(e);var t=function(e){var t=NP(e.split("."),3),n={app:t[0],id:t[1],hid:t[2],referrer:he.a,connectParams:xP(),longpoll:u.a.useLongpoll||"1"===q_.a.get(MP),sessionId:f.a.sessionId,ignoreTrim:u.a.ignoretrim,hash:g.a.getState().ums.hash,password:g.a.getState().ums.password,flotAddress:!!u.a.flot&&decodeURI(u.a.flot),bdtools:u.a.bdtools,buildNumber:c.BUILD_NUMBER,clusterHost:Ce.config.ums,isOffairRecorded:l.a.isOffairVid()};return DP.debug("create ums connection. mid: ".concat(e),{umsParams:n}),n}(e),n=gr()(t);n.on(n.event.OPEN,GP.bind(null,e)),n.on(n.event.REJECT,YP.bind(null,e)),n.on(n.event.UPDATE,zP.bind(null,e)),n.on(n.event.LOG,function(t){var n=FP(t),r=n[0],o=n.slice(2);T.a.send(T.a.types.EVENT,T.a.events.DEBUG_FLOT_LOG,[r].concat(jP(o))),BP.debug("ums.log ".concat(e),o)}),n.on(n.event.CLOSE,qP),T.a.send(T.a.types.REPORT,T.a.events.UMS_CONNECT_START,e),n.connect()}},ZP=n(29),XP=function(e){return{type:ZP.a.addFlotDisconnectError,payload:e}},JP=function(e){return{type:ZP.a.addFlotRejectError,payload:e}},$P=function(e){return{type:ZP.a.addFlotTimingDiagnostics,payload:e}},eI=function(e){return{type:ZP.a.addFlotInitDiagnostics,payload:e}},tI=function(e){return{type:ZP.a.addFlotEmptyStreamModuleError,payload:e}},nI=function(e){return{type:ZP.a.addSlowChunkWarning,payload:e}},rI=function(e){return{type:ZP.a.addAtlasWarning,payload:e}},oI=function(e){return{type:ZP.a.addAtlasError,payload:e}},aI=function(e){return{type:ZP.a.addChunkEmptyWarning,payload:e}},iI=function(e){return{type:ZP.a.addKeyFrameDiagnostics,payload:e}},sI=function(){return{type:ZP.a.resetDebugOverlay}};function uI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var lI={CLOSE_NORMAL:1e3,CLOSE_GOING_AWAY:1001,CLOSE_PROTOCOL_ERROR:1002,CLOSE_UNSUPPORTED:1003,CLOSE_NO_STATUS:1005,CLOSE_ABNORMAL:1006,CLOSE_INCONSISTENT_DATA_RECEIVED:1007,CLOSE_POLICY_VIOLATE:1008,CLOSE_TOO_LARGE:1009,CLOSE_MISSING_EXTENSION:1010,CLOSE_UNEXPECTED_CONDITION:1011,CLOSE_FAILED_TLS_HANDSHAKE:1015},cI=20,fI=5e3,dI=5e3,pI=3,hI=null,mI=null,vI=null,yI=!1,gI=null,bI=null,EI=0,SI=[];function TI(e){e&&Array.isArray(e)&&(function(e){var t=uI(e,2)[1],n=Date.now();"string"==typeof t&&"opened"===t.trim()&&(n-bI<fI&&clearTimeout(gI),g.a.dispatch(eI({inited:!0})))}(e),function(e){var t=uI(e,3),n=t[0],r=t[1],o=t[2];if("string"!=typeof r||"opening"!==r.trim()||hI||(hI=n),"string"==typeof r&&r.includes("message")){var a=Object(Go.a)(o,"1.0",{});!mI&&a.meta&&(mI=n),vI||!a.stream||$w(a.stream)||(vI=n)}if(!yI&&mI&&vI&&hI){yI=!0;var i=Math.max(mI,vI)-hI;g.a.dispatch($P({timeToStartInMs:i}))}}(e),function(e){var t=uI(e,3),n=t[1],r=t[2];if("string"==typeof n&&"closed"===n.trim()&&r){var o=uI(r,2),a=o[0],i=o[1],s="".concat(lI[a]," ").concat(a);i&&(s="".concat(s," ").concat(i)),g.a.dispatch(XP({level:km.a.WARNING,timeStamp:Date.now(),msg:s}))}}(e),function(e){var t=uI(e,3),n=t[1],r=t[2];if("string"==typeof n&&"message"===n.trim()&&"reject"===Object(Go.a)(r,"cmd")){EI+=1;var o=r&&r.args?Object.keys(r.args[0])[0]:"unknown";"cluster"===o.trim()&&g.a.dispatch(JP({level:km.a.ERROR,timeStamp:Date.now(),msg:o})),EI>pI&&g.a.dispatch(JP({level:km.a.ERROR,timeStamp:Date.now(),msg:o}))}}(e),function(e){var t=uI(e,3),n=t[0],r=t[1],o=t[2];if("string"==typeof r&&r.includes("message")){var a=Object(Go.a)(o,"1.0",{});a.stream&&$w(a.stream)&&g.a.dispatch(tI({level:km.a.ERROR,timeStamp:n,msg:"Stream module empty"}))}}(e))}function OI(e){var t=e.performance,n=e.url;if(0===e.size){var r="unknown";/\.m4a$/.test(n)&&(r="Audio chunk empty"),/\.m4v$/.test(n)&&(r="Video chunk empty"),g.a.dispatch(aI({level:km.a.WARNING,timeStamp:Date.now(),msg:r}))}if(t){var o=t.requestStart,a=t.responseStart,i=t.responseEnd;if(o&&a&&i){var s=Math.round(a-o),u=Math.round(i-a),l=s+u,c=Lo.isEcdnProvider(n);if(l>dI){var f="Total: ".concat(l,"ms Req: ").concat(s,"ms Res: ").concat(u,"ms");g.a.dispatch(nI({level:km.a.WARNING,timeStamp:Date.now(),msg:f,request:s,response:u,total:l,isEcdn:c}))}}}}function CI(e){if(e){var t=e.error,n=e.recoverable;t&&"playError"!==t&&(n?g.a.dispatch(rI({level:km.a.WARNING,timeStamp:Date.now(),msg:t})):g.a.dispatch(oI({level:km.a.ERROR,timeStamp:Date.now(),msg:t})))}}function wI(e){if(e){var t=e.line;if("string"==typeof t&&t.includes("process segment")){SI.push(e.data);var n=function(e){var t=e.filter(function(e){var t=e.streamId,n=e.keyFrames;return t.includes("video")&&n.length}).reduce(function(e,t){return e.find(function(e){return e.segmentId===t.segmentId})?e:(e.push(t),e)},[]).sort(function(e,t){return e.segmentId-t.segmentId}).reduce(function(e,t){var n=e[e.length-1],r=n[n.length-1];return r&&r.segmentId!==t.segmentId-1?e.push([t]):n.push(t),e},[[]]).map(function(e){return e.reduce(function(e,t){return e.concat(t.keyFrames)},[]).reduce(function(e,t,n,r){if(n>0){var o=r[n-1];e.push(t-o)}return e},[])}).reduce(function(e,t){return e.concat(t)},[]),n=t.reduce(function(e,n){return e+n/t.length},0);return{keyframeIntervals:t,avg:n}}(SI=SI.splice(-cI)).avg;g.a.dispatch(iI({keyFrameInterval:n/1e3}))}}}function _I(){null===gI&&(bI=Date.now(),gI=setTimeout(function(){g.a.dispatch(eI({inited:!1}))},fI)),T.a.on(T.a.types.EVENT,T.a.events.DEBUG_FLOT_LOG,TI),T.a.on(T.a.types.REPORT,T.a.events.REPORT_BANDWIDTH,OI),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_ERROR,CI),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_LOG,wI)}function PI(e){var t=e.date,n=e.source,r=e.line,o=e.data,a=e.level;if(void 0!==window.console){var u=[t=new Date(t).toISOString().slice(-13,-1),"[ "+n+" ]",r];u=i.a.ie?[u.join(" ")]:["%c "+u.join("%c "),"color: #cecece","font-weight:    bold",""],void 0!==o&&u.push(o),a<200&&window.console.error&&window.console.error.apply(console,u),300===a&&window.console.warn&&window.console.warn.apply(console,u),400===a&&window.console.info&&window.console.info.apply(console,u),500===a&&window.console.debug?window.console.debug.apply(console,u):window.console.log.apply(console,u),window.getUstreamPlayerLog||(window.getUstreamPlayerLog=function(){return s.b.getLogs()})}}var II;g.a.getState().settings.debug;function LI(){var e=Object(s.a)("viewer/htmlplayback");e.debug("enviroment variables: ",i.a,!0);var t,n,r,o,a,c={featured:!1},f=null,d=!1,p=!1,h=!1,m=!1;function b(){g.a.dispatch(Oa.a.setLockInfo({type:"unsupported"}))}function E(e){e.error===j.a.errors.UNSUPPORTED&&b()}function S(){g.a.getState().playback.playing||(g.a.dispatch(W(!0)),D.a.send("playing",!0),T.a.send(T.a.types.COMMAND,T.a.events.PLAY))}function O(){e.debug("onContentAvailable");var t=g.a.getState().content.trimInfo;t&&!m&&(II.setHighlight(t),m=!0);var n=l.a.getTrimmedDurationInMillisec()/1e3;g.a.dispatch(Object(Ca.h)(n)),!0===u.a.autoplay?(U(),II.setContentAvailable(!0)):II.showPlayScreen()}function C(){II.showPlayScreen()}function w(){e.info("setup FacadeHandlers"),T.a.on(T.a.types.EVENT,T.a.events.LIVE,function(e){e!==f&&(v.send({message:"Live status changed",data:{category:"Playback",item:"live status",action:"changed",status:e?"live":"off air"}}),"boolean"==typeof f&&G_.reset());if(II.setLive(e),D.a.send("live",e),u.a.isLive=e,f=e,rr.isStarted()&&rr.destroy(),f){n=l.a.getMid();var t=gr()(n);g.a.dispatch(Oa.a.setUmsInfo({umsInfo:t.internals})),g.a.dispatch(Object(Ca.d)(Ca.a.live))}ci.setHasLiveStatus()}),T.a.on(T.a.types.EVENT,T.a.events.CREATE_SLIDESHOW,function(e){II.startSlideShow(e),rr.isStarted()&&rr.destroy(),v.send({message:"Offiar content displayed",data:{category:"Playback",item:"off air content",action:"displayed",offair_content_type:"image"}}),g.a.dispatch(Object(Ca.d)(Ca.a.offairSlide))}),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_THROTTLE,function(e){II.setThrottle(e)}),T.a.on(T.a.types.EVENT,T.a.events.DESTROY_SLIDESHOW,function(){II.stopSlideShow()}),T.a.on(T.a.types.EVENT,T.a.events.CREATE_OFFAIR_VIDEO,function(t){n="recorded.".concat(t),setTimeout(function(){l.a.setDurationInMillisec(0),wl.reset(),R.create(n),ci.setHasMeta(!1),ci.setHasPlayBackData(!1);try{QP.createUms(n);var r=gr()(n);k.a.send(k.a.types.EVENT,"content",["recorded",t]),g.a.dispatch(Oa.a.setUmsInfo({umsInfo:r.internals})),v.send({message:"Offair content displayed",data:{category:"Playback",item:"off air content",action:"displayed",offair_content_type:"video"}}),g.a.dispatch(Object(Ca.d)(Ca.a.offairVideo))}catch(t){e.error("Unexpected side effect has been occured while creating ums. Message ".concat(t.message))}},100)}),T.a.on(T.a.types.EVENT,T.a.events.DESTROY_OFFAIR_VIDEO,function(e){gr()("recorded.".concat(e)).destroy()}),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_STORED_UPDATE,function(e){g.a.dispatch(z(e))}),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_BUFFERED_UPDATE,function(e){g.a.dispatch(z(e))}),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_PROGRESS,function(e){II.setAtlasProgress(e);var t=e/1e3;G_.timeUpdate(t)}),T.a.on(T.a.types.DATA,T.a.events.THUMBNAIL_UPDATE,function(e){D.a.send("thumbnail",e)}),T.a.on(T.a.types.DATA,T.a.events.BROADCASTER_UPDATE,function(e){e.featured&&(c.featured=!0)}),T.a.on(T.a.types.DATA,T.a.events.META_UPDATE,function(e){e.title&&(g.a.dispatch(Object(Ca.f)(e.title)),D.a.send("title"),c.title=e.title),c.homepage=!1,c.autoplay=u.a.autoplay,c.proBroadcaster=e.adFree,c.mobile=A,c.categories=e.category,c.userName=e.userName,c.contentLength=e.videoLength||555555;var t=Object(y.b)(g.a.getState()),n=t.width,r=t.height;rr.initialize({countryCode:e.countryCode,adIntegration:e.adIntegration,width:n,height:r}),rr.update(c),II.setMeta(e),D.a.send("meta",e),ci.setHasMeta()}),T.a.on(T.a.types.DATA,T.a.events.SHARE_UPDATE,function(e){D.a.send("share",e)}),T.a.on(T.a.types.EVENT,"loading",function(e){II.setLoading(e)}),T.a.on(T.a.types.EVENT,T.a.events.DURATION,function(e){var t=l.a.getDurationInMillisec()/1e3;g.a.dispatch(Object(Ca.b)(t)),II.setDuration(e),D.a.send("duration",t)}),T.a.on(T.a.types.EVENT,T.a.events.PLAYING,function(e){g.a.dispatch(W(e)),D.a.send("playing",e),T.a.send(T.a.types.REPORT,T.a.events.PLAYING,{mid:n,playing:e})}),T.a.on(T.a.types.EVENT,T.a.events.PROGRESS,function(e){var t=function(e){if(l.a.isHLS())return e;var t=l.a.getCutStart();return(e-t)/(l.a.getCutEnd()-t)}(e);II.setProgress(t),g.a.dispatch(K(t))}),T.a.on(T.a.types.EVENT,T.a.events.RECORDED_READY,function(){ci.setHasLiveStatus()}),T.a.on(T.a.types.EVENT,N.AD_EVENT,M),T.a.on(T.a.types.REPORT,T.a.events.REPORT_BUFFER_EMPTY,I),T.a.on(T.a.types.REPORT,T.a.events.REPORT_BUFFER_FULL,L),T.a.on(T.a.types.EVENT,T.a.events.VIDEO_FINISHED,P),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_DOWNLOAD_ERROR,Lo.onProviderFailure),T.a.on(T.a.types.EVENT,T.a.events.CONTENT_AVAILABLE,O),T.a.on(T.a.types.EVENT,T.a.events.AD_AVAILABLE,C),T.a.on(T.a.types.DATA,T.a.events.LIVE_CTA_UPDATE,function(e){D.a.send("liveCtaUpdate",e)}),T.a.on(T.a.types.DATA,T.a.events.CAPTION_UPDATE,function(e){FT.setCaptionModule(e)}),T.a.on(T.a.types.DATA,T.a.events.SLIDES_UPDATE,function(e){G_.slidesModuleUpdate(e)}),T.a.on(T.a.types.EVENT,T.a.events.UNSUPPORTED,b),T.a.on(T.a.types.EVENT,T.a.events.ATLAS_ERROR,E)}function _(){u.a.disableEosSeek||(II.setSeek(0),g.a.dispatch(K(0)))}function P(){Qa.isStoppable()&&(g.a.dispatch(W(!1)),D.a.send("playing",!1)),-1!==n.indexOf("recorded")?l.a.isOffairVid()?Qa.hasNextVideo()?T.a.send(T.a.types.EVENT,T.a.events.NEXT_OFFAIR_VIDEO):Qa.isStoppable()&&(e.debug("All offair videos played"),_(),B()):i.a.ios?(_(),B()):rr.playPostroll():-1!==n.indexOf("channel")&&e.info("previous content has just finished and the current is live (channel)")}function I(){var e=lc.getAverageBandwidth(2),t=lc.getSelectedStreamVerison(),n=t&&t.video,a={category:"Loading",item:"buffering",action:"started",segment_size:e?Math.round(e.size):-1,net_speed:e?Math.round(e.speed):-1,current_kbps:Object(Go.a)(n,"bitrate",void 0),current_height:Object(Go.a)(n,"height",void 0)};v.send({message:"Buffering started",data:a}),o=(new Date).getTime(),clearTimeout(r),r=setTimeout(function(){return II.setLoading(!0)},3e3)}function L(){var e=lc.getAverageBandwidth(2),t=lc.getSelectedStreamVerison(),n=t&&t.video;if(o){var i={category:"Loading",item:"buffering",action:"completed",time_spent:(new Date).getTime()-o,segment_size:e?Math.round(e.size):-1,net_speed:e?Math.round(e.speed):-1,current_kbps:Object(Go.a)(n,"bitrate",void 0),current_height:Object(Go.a)(n,"height",void 0)};v.send({message:"Buffering completed",data:i}),o=null}if(!a){a=!0;var s=l.a.getStreamType()||"unknown";v.send({message:"Playback started",data:{category:"Playback",item:"playback",action:"started",stream_type:s}})}clearTimeout(r),II.setLoading(!1)}function M(t){if(e.debug("onAdEvent",t),t.type===N.types.POSTROLL_FINISHED)return _(),g.a.dispatch(W(!1)),D.a.send("playing",!1),II.setPMPromoVisibility(!1),void B();void 0===t.contentPlaying||i.a.ios||(t.contentPlaying?U():B()),void 0!==t.controls&&II.setUiVisibility(t.controls),t.type===N.types.VIDEO_STARTED&&II.setPMPromoVisibility(!0),t.type===N.types.VIDEO_FINISHED&&II.setPMPromoVisibility(!1),t.type===N.types.PREROLL_DONE&&(e.debug("onPreRollDone"),ci.setPreRollDone())}function U(){e.debug("onPlaycall",{prerollDone:rr.isPrerollDone()}),p?S():d?V():(T.a.on(T.a.types.EVENT,"onAtlasSeekable",F),S())}function x(){d||(h=!0),U()}function F(){d||(d=!0,e.debug("onAtlasSeekable"),h&&(V(),h=!1))}function V(){var e=!1===f&&!l.a.isVid()&&!l.a.isOffairVid();p=!0,e?rr.destroy():rr.startPlayingAds()}function B(){e.debug("onPause",{prerollDone:rr.isPrerollDone()}),g.a.dispatch(W(!1)),T.a.send(T.a.types.COMMAND,T.a.events.PAUSE)}function q(e){T.a.send(T.a.types.COMMAND,T.a.events.SEEK,e)}function Y(e){II.setSeek(e),T.a.send(T.a.types.REPORT,T.a.events.SEEK,{mid:n,send:e})}function Q(){var e=Object(y.b)(g.a.getState()),t=e.width,n=e.height;rr.resize(t,n)}function X(e){T.a.send(T.a.types.COMMAND,T.a.events.SET_CAPTION_POSITION,e)}function J(){if(t){!function(){n=l.a.getMid();var e=gr()(n);e&&e.destroy()}(),u.a.autoplay?II.hidePlayScreen():II.showPlayScreen(),Ks.init(n),R.create(n),wl.reset();try{QP.createUms(n)}catch(t){e.error("Unexpected side effect has been occured while creating ums. Message: ".concat(t.message))}k.a.send(k.a.types.EVENT,"content",[l.a.app(),l.a.id()])}}window.addEventListener("unload",function(){v.send({message:"Player closed",data:{category:"Playback",item:"playback",action:"player closed"}})}),k.a.on(k.a.types.COMMAND,"load",function(t){var r,o,a=t[0],i=[];i=t[2]&&"boolean"!=typeof t[2]?[t[1],t[2]]:[t[1]],e.debug("Load media: ".concat(t[0],".").concat(t[1]),{type:a,contentParams:i}),g.a.dispatch(Object(Ca.f)()),g.a.dispatch(Object(Ca.b)()),g.a.dispatch(Object(Ca.h)()),l.a.update(a,i),g.a.dispatch(Object(Ca.c)(l.a.getMid())),g.a.dispatch(Object(Ca.g)()),hI=null,mI=null,vI=null,yI=!1,SI=[],null!==gI&&clearTimeout(gI),gI=null,bI=null,EI=0,g.a.dispatch(sI()),n!==l.a.getMid()&&(N_.reset(),G_.reset(),g.a.dispatch(H([])),g.a.dispatch(G([])),u.a.autoplay=!0,r=n,o=gr()(r),e.debug("dispose",{mid:r}),f=null,d=!1,p=!1,h=!1,m=!1,II.setLive(!1),D.a.send("live",!1),II.setContentAvailable(!1),R.destroy(r),Qa.destroy(),o&&o.destroy(),Ks.reset("Media change")),Xf.reset(),rr.destroy(),ci.reset();var s=l.a.isVid()?Ca.a.recorded:Ca.a.live;g.a.dispatch(Object(Ca.d)(s)),J()}),g.a.subscribe("ums.password",J),g.a.subscribe("ums.hash",J),function(e){$n=e}(II=new Qw({content:l.a,params:u.a})),N_.init(),vr.init(),v.isLoggingEnabled()?S_.start():S_.stop(),ci.init(),function(){t=!0,e.debug("ui loaded"),g.a.dispatch(Object(Ca.c)(l.a.getMid()));var n=l.a.isVid()?Ca.a.recorded:Ca.a.live;g.a.dispatch(Object(Ca.d)(n)),Ta.init(),Xf.init(u.a.initialQuality,u.a.forcedQuality),wl.init(),Qa.init(),w(),e.debug("setup UiHandlers"),k.a.on(k.a.types.COMMAND,"playScreenClicked",x),k.a.on(k.a.types.COMMAND,"play",U),k.a.on(k.a.types.COMMAND,"pause",B),k.a.on(k.a.types.COMMAND,"seek",q),k.a.on(k.a.types.EVENT,"setSeek",Y),k.a.on(k.a.types.EVENT,"videoFinished",P),k.a.on(k.a.types.UI,"toggleCC",function(e){T.a.send(T.a.types.COMMAND,T.a.events.TOGGLE_CC,e)}),k.a.on(k.a.types.UI,"sendPollAnswer",function(e){var t=l.a.getMid();gr()(t).send("api/poll/vote",[e])}),k.a.on(k.a.types.COMMAND,"setCaptionPosition",X),g.a.subscribe("player.playerSize",Q),pe.init(),_I(),u.a.externalvtt&&ei.init(),J(),II.setUiVisibility(!0),k.a.send(k.a.types.EVENT,"ready",!0),II.hidePlayScreen(),v.send({message:"Initial loading completed",data:{category:"Loading",item:"initial loading",action:"completed"}}),u.a.autoplay&&!a&&v.send({message:"Playback requested",data:{category:"Playback",item:"playback",action:"requested - autoplay"}}),u.a.volume<100&&setTimeout(function(){return g.a.dispatch(Z.e(u.a.volume))},0)}()}function RI(){LI(),S.cleanup(),S.setInitStart()}!function(){var e,t=arguments;he.a.indexOf(Ce.config.siteLocal+"/embed/test")>-1&&s.b.addTransport(function(){var e;try{e=new URL(he.a).origin}catch(t){e=""}window.parent.postMessage(JSON.stringify({mte:[].splice.call(t,0)}),e)}),g.a.getState().settings.debug&&s.b.addTransport(PI),e=window.onerror,window.onerror=function(t,n,r){return s.b.fatal({source:"jserror",line:"".concat(t," Cannot continue."),data:{url:n,lineNumber:r}}),!!e&&e(t,n,r)}}(),g.a.subscribe("settings.debug",function(e){e?s.b.addTransport(PI):s.b.removeTransport(PI)}),n.d(t,"initialize",function(){return RI})},function(e,t,n){"use strict";n.r(t);n(190),n(192),n(193),n(195),n(196),n(198),n(199),n(124),n(202),n(203),n(205),n(206),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(239),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(264),n(265),n(266),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(163),n(280),n(282),n(283),n(284),n(285),n(286),n(287),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=t,this.y=n,this.width=r,this.height=o}var t,n,o;return t=e,o=[{key:"fromRect",value:function(t){return new e(t.x,t.y,t.width,t.height)}}],(n=[{key:"top",get:function(){return this.y}},{key:"right",get:function(){return this.x+this.width}},{key:"bottom",get:function(){return this.y+this.height}},{key:"left",get:function(){return this.x}}])&&r(t.prototype,n),o&&r(t,o),e}();function a(){n(344).initialize()}window.DOMRect=window.DOMRect||o,n.d(t,"initialize",function(){return a})},function(e,t,n){var r={"./Ban":173,"./Ban.jsx":173,"./Flash":174,"./Flash.jsx":174,"./Geolock":175,"./Geolock.jsx":175,"./Hashlock":176,"./Hashlock.jsx":176,"./Iplock":177,"./Iplock.jsx":177,"./NonExistent":178,"./NonExistent.jsx":178,"./NotUUMF":179,"./NotUUMF.jsx":179,"./Offair":104,"./Offair.jsx":104,"./OffairContainer":180,"./OffairContainer.jsx":180,"./PasswordLock":181,"./PasswordLock.jsx":181,"./Referrerlock":182,"./Referrerlock.jsx":182,"./UnAuthorized":183,"./UnAuthorized.jsx":183,"./Unsupported":184,"./Unsupported.jsx":184,"./ViewerHourLimitlock":105,"./ViewerHourLimitlock.jsx":105};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=346}])});