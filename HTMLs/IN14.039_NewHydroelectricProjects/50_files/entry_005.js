(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{1060:function(e,n,t){function r(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var n=this,t=arguments;return new Promise(function(i,o){var a=e.apply(n,t);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})}}var o=t(37),a=t(539),s=t(158),c=t(74),u="app-ui-search",l=350,f=10;e.exports={bindSearch:function(e){var n=this,t=e.find(".field-wrap, .results-wrap"),r=t.find(".field input"),o=function(){var e=i(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.search(r,1);case 2:t.addClass("started"),t.removeClass("loading");case 4:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}();r.focus(function(){t.addClass("focused")}).blur(function(){""===$.trim(r.val())&&r.val(""),t.removeClass("focused")}).keydown(function(e){e.metaKey&&65===e.keyCode&&r.select()}).keyup(function(){t.addClass("loading");var e=$.trim(r.val());""===e?(t.removeClass("populated"),o(e),window.clearTimeout(t.SEARCH)):(t.addClass("populated"),window.clearTimeout(t.SEARCH),t.SEARCH=window.setTimeout(function(){o(e)},l))}).unbind("paste").bind("paste",function(){window.setTimeout(function(){r.keyup()},50)}).click(function(e){e.stopPropagation()})},generate:function(){var e=Modernizr.backdropfilter?"frosted":null;e=e||Modernizr.cssfilters?"filtered":"";var n=$('\n            <div id="'.concat(u,'">\n                <a class="close">\n                    <i class="fa fa-times" aria-hidden="true"></i>\n                </a>\n                <div class="container">\n                    <div class="field-wrap">\n                        <div class="field">\n                            <i class="icon fa fa-search" aria-hidden="true"></i>\n                            <i class="loading fa fa-circle-o-notch fa-spin" aria-hidden="true"></i>\n                            <input type="text" placeholder="Search BusinessLIVE" />\n                        </div>\n                    </div>\n                </div>\n                <div class="results-wrap">\n                    <i class="main-loading fa fa-circle-o-notch fa-spin" aria-hidden="true"></i>\n                    <span class="no-results">No results found.</span>\n                    <div class="results">\n                        <div class="container">\n                            <div class="row">\n                                <div class="col-lg-8 offset-lg-2">\n                                    <div class="results-content"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ')).addClass(e);return n.find("a.close").click(this.hide.bind(this)),this.bindSearch(n),n},getParent:function(){return $("#".concat(u))},hide:function(){$("nav .icon-links li.search a").removeClass("hovered"),$("body").css("overflow",""),this.getParent().is(".filtered")&&$("#content").removeClass("blur"),o.get("edit")&&$("nav").css("position",""),this.getParent().removeClass("visible"),this.resize()},initialize:function(){var e=this;if(0===this.getParent().length){var n=$("nav .icon-links li.search a, footer .wrap .section .footer-search");$("body").append(this.generate()),$(window).resize(this.resize.bind(this)),n.click(function(n){return e.toggle(),n.preventDefault(),!1})}},renderResult:function(e){var n=$("<span class='no-image'></span>");e.image&&(n=$("<span class='image'></span>")).css({"background-image":"url('".concat(e.image.filepath,"=s400')"),"background-position":"".concat(e.image.focal_x,"% ").concat(e.image.focal_y,"%")});var t=$("<div />").append(n).html(),r=e.subsection?'\n            /\n            <span\n                href="'.concat(e.subsection.link,'"\n                rel="').concat(e.subsection.id,'"\n                ').concat(e.publication.link?"target='new'":"","\n            >\n                ").concat(e.subsection.name,"\n            </span>\n        "):"",i="premium"===e.content_type?"<div class='premium-icon'><i class='fa fa-lock'></i> BL PREMIUM</div>":"",o=e.sponsor?"<div class='rosnops-text'>SPONSORED</div>":"";return $('\n            <a class="result" href="'.concat(e.pub_url,'">\n                ').concat(t,"\n                <h2>").concat(e.title,"</h2>\n                <p>").concat(e.synopsis,'</p>\n                <div class="section">\n                    <span class="').concat(e.publication.id,'">\n                        <i class="fa fa-square" aria-hidden="true"></i>\n                        <span\n                            href="').concat(e.section.link,'"\n                            rel="').concat(e.section.id,'"\n                            ').concat(e.publication.link?"target='new'":"","\n                        >\n                            ").concat(e.section.name,"\n                        </span>\n                        ").concat(r,'\n                    </span>\n                </div>\n                <div class="publication">\n                    <span class="publication-icon-type publication-icon-').concat(e.publication.id,'"></span>\n                </div>\n                <div class="date-stamp">').concat(a.ago(e.published),"</div>\n                ").concat(i,"\n                ").concat(o,"\n            </a>\n        "))},renderResults:function(e,n,t){var r=this,o=$("<div class='result-set' />");(e||[]).forEach(function(e){o.append(r.renderResult(e))});var a=$('\n            <div class="more">\n                <span class="loading">\n                    <i class="fa fa-circle-o-notch fa-spin" aria-hidden="true"></i>\n                </span>\n                <a rel="'.concat((t||1)+1,'">More</a>\n            </div>\n        '));return a.find("a").click(function(){var e=i(regeneratorRuntime.mark(function e(t){var i,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Number($(t.currentTarget).attr("rel")),a.addClass("loading"),a.find("a").remove(),e.next=5,s.search({limit:f,page:i,query:n});case 5:(c=e.sent)&&c.length>0?(a.removeClass("loading"),300,r.getParent().find(".results-wrap").animate({scrollTop:a.position().top},300),(u=r.renderResults(c,n,i)).hide(),o.after(u),u.slideDown()):a.remove();case 7:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()),e.length<f&&a.find("a").remove(),o.append(a),o},resize:function(){var e=$(window),n=$("nav").height(),t=(window.innerHeight?window.innerHeight:e.height())-n;this.getParent().css({height:this.getParent().is(".visible")?t:0,top:n,width:e.width()}),this.getParent().find("div.results-wrap").css({height:t-70,top:70})},search:function(){var e=i(regeneratorRuntime.mark(function e(n,t){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getParent().find("div.results-content"),this.getParent().find(".no-results").hide(),c.pageView("/",{q:n}),e.next=5,s.search({limit:f,page:t,query:n});case 5:(i=e.sent)&&i.length>0?r.html(this.renderResults(i,n,t)):(this.getParent().find(".no-results").show(),r.html(""));case 7:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}(),show:function(){var e=this;$("body > nav div.nav-wrap").removeClass("open"),$("nav .icon-links li.search a").addClass("hovered"),$("body").css("overflow","hidden"),this.getParent().is(".filtered")&&$("#content").addClass("blur"),o.get("edit")&&$("nav").css("position","fixed"),this.getParent().addClass("visible");window.setTimeout(function(){e.getParent().find("div.field input").focus()},50),window.setTimeout(function(){e.resize()},50)},toggle:function(){this.getParent().is(".visible")?this.hide():this.show()}}},1061:function(e,n,t){function r(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}t(1062);var i=t(1175),o=t(12),a=t(775);e.exports={buildSlideInnerHtml:function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i="/redzone/corporate/".concat(t,"/");return'\n            <div class="sponsor">\n                <div class="sponsor-image">\n                    <a href="'.concat(n||i,'">\n                        <img width="118px" src="').concat(e,'" />\n                    </a>\n                </div>\n                <span class="slogon">\n                    ').concat(r||"","\n                </span>\n            </div>\n        ")},getSponsors:function(){var e,n=(e=regeneratorRuntime.mark(function e(){var n,t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.getAll();case 3:(n=e.sent)&&this.renderSponsors(n,function(){t.initializeSwiper(),t.showSponsors()}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o.error(e.t0),this.hideSponsors();case 11:case"end":return e.stop()}},e,this,[[0,7]])}),function(){var n=this,t=arguments;return new Promise(function(i,o){var a=e.apply(n,t);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)})});return function(){return n.apply(this,arguments)}}(),hideSponsors:function(){$("#sponsors-container").hide()},initialize:function(){$("#sponsors-container").length>0&&(this.hideSponsors(),this.getSponsors())},initializeSwiper:function(){new i.default(document.querySelector("#sponsors-container"),{autoHeight:!0,autoplay:5e3,direction:"horizontal",initialSlide:1,loop:!0,navigation:{nextEl:document.querySelector(".swiper-button-next"),prevEl:document.querySelector(".swiper-button-prev")},speed:400})},newSlide:function(e){return'<div class="swiper-slide">'.concat(e,"</div>")},renderSponsors:function(e,n){var t=this,r=1,i="",o="";(e||[]).forEach(function(e){e.image&&e.image.filepath&&(2===r?(o+=t.buildSlideInnerHtml(e.image.filepath,e.website,e.slug,e.slogan),i=t.newSlide(o)+i,o="",r=0):o+=t.buildSlideInnerHtml(e.image.filepath,e.website,e.slug,e.slogan),r+=1)}),r>1&&(i=this.newSlide(o)+i),e.length<2&&($("#prev-sponsors").hide(),$("#next-sponsors").hide()),e.length>0&&($("#sponsor-slides").append(i),n())},showSponsors:function(){$("#sponsors-container").show()}}},1063:function(e,n,t){var r=t(37);e.exports={bindClickEvent:function(){$("#button-close").on("click",function(){$("#gdpr-overlay").hide(),document.cookie="ccpolicy=ccpolicyapproved; expires=Thu, 01 Jan 2040 00:00:00 UTC; path=/;"})},createDom:function(){$("body").append('\n            <div\n                id="gdpr-overlay"\n                style="\n                    padding:5px 20px;\n                    width:100%;\n                    position:fixed;\n                    bottom:0;\n                    left:0;\n                    right:0;\n                    z-index:99999999;\n                    min-height:10px;\n                    background:#252525;\n                    box-sizing:border-box;\n                "\n            >\n                <div\n                    id="gdpr-text"\n                    style="\n                        width:79%;\n                        margin:10px 5px 10px 10px;\n                        float:left;\n                        color:#ffffff;\n                    "\n                >\n                    <p\n                        style="\n                            margin:2px;\n                            padding:2px;\n                            font-size:0.8em;\n                            font-family: Montserrat, Roboto;\n                        "\n                    >\n                        This website, published by Tiso Blackstar Group (Pty) Ltd, uses cookies,\n                        which help to run the website in various ways, including essential services,\n                        advertising and analytics.\n                        By accepting or continuing to use this website, you consent to us using cookies.\n                        You can see how to opt out of non-essential cookies or get more information about\n                        how we manage cookies in our\n                        <a\n                            href="/privacy-policy"\n                            style="\n                                color:#ffffff;\n                                box-shadow:0 0 0 #ffffff;\n                                text-decoration:underline;\n                            "\n                        >\n                            privacy and cookie policy\n                        </a>.\n                    </p>\n                </div>\n                <div\n                    id="gdpr-button"\n                    style="\n                        width:17%;\n                        margin:11px 10px 10px 5px;\n                        float:right;\n                    "\n                >\n                    <button\n                        id="button-close"\n                        style="\n                            width:100%;\n                            height:60px;\n                            font-family: Montserrat;\n                            cursor:pointer;\n                            padding:5px 15px;\n                            background-color:#252525;\n                            border:1px solid #ffffff;\n                            color:#ffffff;\n                        "\n                    >\n                        Accept Cookies\n                    </button>\n                </div>\n            </div>\n        ')},gdprCss:function(){$("p a").on("mouseover",function(e){$(e.currentTarget).css("background-color","transparent")});(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)<=768&&($("#gdpr-text > p").css("font-size","0.9em"),$("#gdpr-text").css({margin:0,width:"100%"}),$("#gdpr-button").css({margin:0,width:"100%"}),$("button").css("height","45px"))},initialize:function(){var e=document.cookie,n=[];e.split(";").forEach(function(e){n.push(e.split("=")[0].trim())}),n.indexOf("ccpolicy")<0&&!r.get("edit")&&(this.createDom(),this.bindClickEvent(),this.gdprCss())}}},11:function(e,n,t){function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function o(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function s(e){i(a,r,o,s,c,"next",e)}function c(e){i(a,r,o,s,c,"throw",e)}s(void 0)})}}var a=t(9),s=t(16),c=t(17).default,u=t(12),l=function(){var e=o(regeneratorRuntime.mark(function e(n,t){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.next=3,n.text();case 3:if(""===(i=e.sent)){e.next=14;break}return e.prev=5,e.next=8,n.json();case 8:r=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5);try{r=JSON.parse(i)}catch(e){u.warn('Could not parse response JSON on url: "'.concat(t,'"'))}case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}},e,null,[[5,11]])}));return function(n,t){return e.apply(this,arguments)}}(),f=function(){var e=o(regeneratorRuntime.mark(function e(n,t,r,i,o){var a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={unauthorized:401},e.next=3,l(n,t);case 3:s=e.sent,n.status===a.unauthorized?window.top.location="/u/access-denied/":n.ok?i(s):o(s||n);case 5:case"end":return e.stop()}},e)}));return function(n,t,r,i,o){return e.apply(this,arguments)}}();e.exports=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,i;return n=e,(t=[{key:"fetch",value:function(e){function n(n,t){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e,n){var t={credentials:"same-origin",headers:{"Content-Type":"application/json"}};return new Promise(function(){var r=o(regeneratorRuntime.mark(function r(i,o){var s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch(e,a.recursive({},t,n));case 3:s=r.sent,i(s),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),o(r.t0);case 10:case"end":return r.stop()}},r,null,[[0,7]])}));return function(e,n){return r.apply(this,arguments)}}())})},{key:"GET",value:function(e,n){var t=this;return new Promise(function(){var r=o(regeneratorRuntime.mark(function r(i,o){var a,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=s.stringify(n),r.prev=1,r.next=4,t.fetch("".concat(e).concat(e.indexOf("?")>-1?"&":"?").concat(a),{method:"GET"});case 4:return c=r.sent,r.next=7,f(c,e,n,i,o);case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),o(r.t0);case 12:case"end":return r.stop()}},r,null,[[1,9]])}));return function(e,n){return r.apply(this,arguments)}}())}},{key:"FORM",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(){var r=o(regeneratorRuntime.mark(function r(i,o){var a,s;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return a=new c,Object.keys(t).forEach(function(e){a.append(e,t[e])}),r.prev=2,r.next=5,n.fetch(e,{body:a.toString(),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},method:"POST"});case 5:return s=r.sent,r.next=8,f(s,e,t,i,o);case 8:r.next=13;break;case 10:r.prev=10,r.t0=r.catch(2),o(r.t0);case 13:case"end":return r.stop()}},r,null,[[2,10]])}));return function(e,n){return r.apply(this,arguments)}}())}},{key:"POST",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(){var r=o(regeneratorRuntime.mark(function r(i,o){var a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.fetch(e,{body:JSON.stringify(t),method:"POST"});case 3:return a=r.sent,r.next=6,f(a,e,t,i,o);case 6:r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),o(r.t0);case 11:case"end":return r.stop()}},r,null,[[0,8]])}));return function(e,n){return r.apply(this,arguments)}}())}}])&&r(n.prototype,t),i&&r(n,i),e}()},156:function(e,n,t){var r=t(178).createStore,i=t(483);window.top.COSMOS_STORE=window.top.COSMOS_STORE||r(i),e.exports=window.top.COSMOS_STORE},158:function(e,n,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function o(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function s(e){i(a,r,o,s,c,"next",e)}function c(e){i(a,r,o,s,c,"throw",e)}s(void 0)})}}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,n){return!n||"object"!==r(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,n){return(l=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var f=t(11),p={articles:{}},d=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),c(this,u(n).apply(this,arguments))}var t,r,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&l(e,n)}(n,f),t=n,(r=[{key:"create",value:function(e){return this.POST("/apiv1/article/create",function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.forEach(function(n){a(e,n,t[n])})}return e}({},e,{image_header:e.image_header?JSON.stringify(e.image_header):null,sections:JSON.stringify(e.sections||[]),widgets:JSON.stringify(e.widgets||[{data:{clean:"",html:"",text:""},type:"text"}])}))}},{key:"get",value:function(){var e=o(regeneratorRuntime.mark(function e(){var n,t,r,i,a=this,s=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=s.length,t=new Array(n),r=0;r<n;r++)t[r]=s[r];return e.next=3,Promise.all(t.map(function(e){return o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(p.articles[e]){n.next=4;break}return n.next=3,a.GET("/apiv1/articles/".concat(e,"/"));case 3:p.articles[e]=n.sent;case 4:return n.abrupt("return",p.articles[e]);case 5:case"end":return n.stop()}},n)}))}));case 3:return i=e.sent,e.abrupt("return",1===t.length?[i]:i);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"pubGetByKeys",value:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n[0]?this.GET("/apiv1/pub/articles/get",{keys:n.join(",")}):[]}},{key:"getByQuery",value:function(e){return this.GET("/apiv1/article/get",{query:e})}},{key:"getBySlug",value:function(e){return this.GET("/apiv1/article/get",{slug:e})}},{key:"search",value:function(e){return this.GET("/apiv1/pub/articles/get-all",{author:e.author,content_type:e.contentType,date_from:Math.floor((Number(e.dateFrom)||0)/1e3),date_to:Math.floor((Number(e.dateTo)||0)/1e3),doc_types:e.docTypes&&Array.isArray(e.docTypes)?e.docTypes.join(","):e.docTypes||[],exclude_fields:e.excludeFields||["widgets","images","plain_text"],group:e.group,is_query:Boolean(e.isQuery),limit:e.limit||25,page:e.page||1,publication:e.publication||"",query:(e.query||"").trim(),section:e.section||"",sponsor:e.sponsor,subsection:e.subsection||"",tag:e.tag})}},{key:"searchKeys",value:function(e){return this.GET("/apiv1/article/get",{keys:e.join(","),query:"*"})}}])&&s(t.prototype,r),i&&s(t,i),n}();e.exports=new d},478:function(e,n,t){var r=t(499);e.exports=function(e){return r(e||"",{lower:!0}).replace(/_/g,"-").replace(/[^A-Za-z0-9-]/g,"").trim()}},483:function(e,n,t){var r=t(178).combineReducers,i=t(484),o=t(485),a=t(486),s=t(487),c=t(488),u=t(489),l=t(490),f=t(491),p=t(492),d=t(493);e.exports=r({article:i,authors:o,drawers:a,env:s,error:c,features:u,loading:l,mode:f,preferences:p,sponsors:d})},484:function(e,n,t){function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(t.push(a.value),!n||t.length!==n);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return t}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=t(58),o=t(9),a=t(480);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"DELETE_ARTICLE_WIDGET":if(!n.id)return e;var t=i(e.data.widgets||[]);t.forEach(function(e,r){e.id===n.id&&t.splice(r,1)});var s=a(t,e.data.widgets),c=i(e.data);return c.widgets=t,{data:c,status:s?e.status:"unsaved"};case"PUT_ARTICLE_WIDGET":if(!n.widget)return e;var u=i(e.data.widgets||[]),l=!1;u.forEach(function(e,t){e.id===n.widget.id&&(u[t].data=o.recursive({},e.data,n.widget.data),l=!0)}),l||(n.index>=0?u.splice(n.index,0,n.widget):u.push(n.widget));var f=a(u,e.data.widgets),p=i(e.data);return p.widgets=u,{data:p,status:f?e.status:"unsaved"};case"SET_ARTICLE_DATA":return n.data?{data:n.data,status:n.status}:e||null;case"SET_ARTICLE_PROPERTY":if(!n.property)return e;var d=o.recursive(!0,e.data,n.property);Object.keys(n.property).forEach(function(e){null===n.property[e]&&(d[e]=null)});var v=null;if(n.status)v=n.status;else v=a(d,e.data)?e.status:"unsaved";return{data:d,status:v};case"SET_ARTICLE_STATUS":return n.status?{data:e.data,status:n.status}:e||null;case"UPDATE_ARTICLE_WIDGETS_ORDER":if(!n.order)return e||null;var h=[];n.order.forEach(function(n){var t=r(e.data.widgets.filter(function(e){return e.id===n}),1)[0];h.push(t)});var g=i(e.data);return g.widgets=h,{data:g,status:"unsaved"};default:return e}}},485:function(e,n){e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_AUTHOR":if(!n.author)return e;var t=e?Array.from(e):[];return t.push(n.author),t;case"UPDATE_AUTHOR":return n.author?e.map(function(e){return e.key===n.author.key?n.author:e}):e;case"SET_AUTHORS":return n.authors?n.authors:[];default:return e}}},486:function(e,n){e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"CLOSE_ALL_DRAWERS":return{};case"SET_DRAWER":var t=Boolean(n.open);if(!n.id)return t;var r=Object.assign({},e);return r[n.id]=r[n.id]||{},r[n.id].open=t,Object.assign({},e,r);case"TOGGLE_DRAWER":if(!n.id)return!1;var i=Object.assign({},e);return i[n.id]=i[n.id]||{},i[n.id].open=!i[n.id].open,Object.assign({},e,i);default:return e}}},487:function(e,n){e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_ENV":return n.env?n.env:{};default:return e}}},488:function(e,n){e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"UPDATE_ERROR":return n.error?n.error:null;default:return e}}},489:function(e,n){e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_FEATURES":return n.features?n.features:{};default:return e}}},490:function(e,n){e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_LOADING":if(!n.loading)return{active:!1,message:null};var t=e&&e.message||null,r=n.loading.active?n.loading.message||null:t;return{active:n.loading.active,message:r};default:return e}}},491:function(e,n){e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_MODE":return n.mode&&"article"===n.mode?"article":"section";default:return e}}},492:function(e,n,t){var r=t(57),i={articleSettingsTab:"publish",articleTab:"widgets",barPinned:!0,barSide:"left",lastNewArticleSection:null,lastNewArticleSelections:null,lastViewedNewFeature:null,showControls:!0,showEasterEggs:!1,showNotes:!0,workflowFilter:null,workflowStatus:null},o=Object.keys(i);e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"UPDATE_PREFERENCES":var t={};return n.preferences?(o.forEach(function(e){t[e]=i[e]}),Object.keys(e||{}).forEach(function(n){t[n]=e[n]}),Object.keys(n.preferences).forEach(function(e){o.indexOf(e)>-1&&(t[e]=n.preferences[e])})):t=e||i,r.set(r.keys.preferences,t),t;default:return e}}},493:function(e,n){e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"ADD_SPONSOR":if(!n.sponsor)return e;var t=e?Array.from(e):[];return t.push(n.sponsor),t;case"UPDATE_SPONSOR":return n.sponsor?e.map(function(e){return e.key===n.sponsor.key?n.sponsor:e}):e;case"SET_SPONSORS":return n.sponsors?n.sponsors:{};default:return e}}},57:function(e,n){function t(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.keys={caches:{dialog:{newsletter:{articles:"app.dialog.newsletter.articles",extra:"app.dialog.newsletter.extra"}}},conversion:{entry:"conversion.entry"},preferences:"app.preferences",selections:{dialog:{publication:"app.selections.dialog.publication",section:"app.selections.dialog.section"},workflow:{filter:"app.selections.workflow.filter",status:"app.selections.workflow.status"}},tracking:"app.tracking"}}var n,r,i;return n=e,(r=[{key:"get",value:function(e){var n=JSON.parse(localStorage.getItem(e));return n?n.value:null}},{key:"remove",value:function(e){return localStorage.removeItem(e)}},{key:"set",value:function(e,n){return localStorage.setItem(e,JSON.stringify({value:n}))}}])&&t(n.prototype,r),i&&t(n,i),e}();e.exports=new r},74:function(e,n){e.exports={event:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];window.ga&&ga("send",{eventAction:e.action,eventCategory:e.category,eventLabel:e.label,hitType:"event",nonInteraction:n})},out:function(e){window.ga&&ga("send","event",{eventAction:"click",eventCategory:"Outbound Link",eventLabel:e.href,transport:"beacon"})},pageView:function(e,n){void 0!==window._em&&void 0!==window._em.trackAjaxPageview&&window._em.trackAjaxPageview("".concat(window.location.hostname).concat(e,"?").concat($.param(n))),window.ga&&window.ga("send","pageview","".concat(window.location.hostname).concat(e,"?").concat($.param(n)))}}},763:function(e,n,t){var r=t(1060),i=t(1061),o=t(1063);e.exports=function(){r.initialize(),i.initialize(),o.initialize()}},775:function(e,n,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,n,t,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,i)}function o(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var a=e.apply(n,t);function s(e){i(a,r,o,s,c,"next",e)}function c(e){i(a,r,o,s,c,"throw",e)}s(void 0)})}}function a(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,n){return!n||"object"!==r(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,n){return(u=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var l=t(9),f=t(11),p=t(478),d=t(156),v=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),s(this,c(n).apply(this,arguments))}var t,r,i;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&u(e,n)}(n,f),t=n,(r=[{key:"create",value:function(){var e=o(regeneratorRuntime.mark(function e(n){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.POST("/apiv1/sponsor/create",l.recursive({},n,{active:!1!==n.active,image:n.image?JSON.stringify(n.image):null,slug:p(n.slug),social:n.social?JSON.stringify(n.social):null}));case 2:return t=e.sent,d.dispatch({sponsor:t,type:"ADD_SPONSOR"}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}()},{key:"get",value:function(e){return this.GET("/apiv1/sponsor/get",{key:e})}},{key:"getAll",value:function(){return this.GET("/apiv1/sponsor/get-all")}},{key:"list",value:function(){var e=o(regeneratorRuntime.mark(function e(){var n,t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.POST("/apiv1/sponsor/get-all",{active:!1});case 2:return(n=e.sent).sort(function(e,n){return e.name.toLowerCase()<n.name.toLowerCase()?-1:e.name.toLowerCase()>n.name.toLowerCase()?1:0}),t=n.filter(function(e){return e.active}),r=n.filter(function(e){return!e.active}),n=t.concat(r),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=o(regeneratorRuntime.mark(function e(n){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.POST("/apiv1/sponsor/update",l.recursive({},n,{active:!1!==n.active,image:n.image?JSON.stringify(n.image):null,slug:p(n.slug),social:n.social?JSON.stringify(n.social):null}));case 2:return t=e.sent,d.dispatch({sponsor:t,type:"UPDATE_SPONSOR"}),e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}));return function(n){return e.apply(this,arguments)}}()}])&&a(t.prototype,r),i&&a(t,i),n}();e.exports=new v}}]);