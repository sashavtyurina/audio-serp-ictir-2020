/*! MH PhotoSwipe v1.0.4 */
!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.PhotoSwipe=t()}(this,function(){"use strict";var e;return function(m,i,e,t){var h={features:null,bind:function(e,t,n,o){var i=(o?"remove":"add")+"EventListener";t=t.split(" ");for(var a=0;a<t.length;a++)t[a]&&e[i](t[a],n,!1)},isArray:function(e){return e instanceof Array},createEl:function(e,t){var n=document.createElement(t||"div");return e&&(n.className=e),n},getScrollY:function(){var e=window.pageYOffset;return void 0!==e?e:document.documentElement.scrollTop},unbind:function(e,t,n){h.bind(e,t,n,!0)},removeClass:function(e,t){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(e,t){h.hasClass(e,t)||(e.className+=(e.className?" ":"")+t)},hasClass:function(e,t){return e.className&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},getChildByClass:function(e,t){for(var n=e.firstChild;n;){if(h.hasClass(n,t))return n;n=n.nextSibling}},arraySearch:function(e,t,n){for(var o=e.length;o--;)if(e[o][n]===t)return o;return-1},extend:function(e,t,n){for(var o in t)if(t.hasOwnProperty(o)){if(n&&e.hasOwnProperty(o))continue;e[o]=t[o]}},easing:{sine:{out:function(e){return Math.sin(e*(Math.PI/2))},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},cubic:{out:function(e){return--e*e*e+1}}},detectFeatures:function(){if(h.features)return h.features;var e,t=h.createEl().style,n="",o={};if(o.oldIE=document.all&&!document.addEventListener,o.touch="ontouchstart"in window,window.requestAnimationFrame&&(o.raf=window.requestAnimationFrame,o.caf=window.cancelAnimationFrame),o.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!o.pointerEvent){var i=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);a&&0<a.length&&1<=(a=parseInt(a[1],10))&&a<8&&(o.isOldIOSPhone=!0)}var r=i.match(/Android\s([0-9\.]*)/),l=r?r[1]:0;1<=(l=parseFloat(l))&&(l<4.4&&(o.isOldAndroid=!0),o.androidVersion=l),o.isMobileOpera=/opera mini|opera mobi/i.test(i)}for(var s=["transform","perspective","animationName"],u=["","webkit","Moz","ms","O"],c,p,d=0;d<4;d++){n=u[d];for(var m=0;m<3;m++)c=s[m],p=n+(n?c.charAt(0).toUpperCase()+c.slice(1):c),!o[c]&&p in t&&(o[c]=p);n&&!o.raf&&(n=n.toLowerCase(),o.raf=window[n+"RequestAnimationFrame"],o.raf&&(o.caf=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]))}if(!o.raf){var f=0;o.raf=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-f)),o=window.setTimeout(function(){e(t+n)},n);return f=t+n,o},o.caf=function(e){clearTimeout(e)}}return o.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,h.features=o}};h.detectFeatures(),h.features.oldIE&&(h.bind=function(e,t,n,o){t=t.split(" ");for(var i=(o?"detach":"attach")+"Event",a,r=function(){n.handleEvent.call(n)},l=0;l<t.length;l++)if(a=t[l])if("object"==typeof n&&n.handleEvent){if(o){if(!n["oldIE"+a])return!1}else n["oldIE"+a]=r;e[i]("on"+a,n["oldIE"+a])}else e[i]("on"+a,n)});var f=this,n=25,o=3,v={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(e){return"A"===e.tagName},getDoubleTapZoom:function(e,t){return e?1:t.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};h.extend(v,t);var a=function(){return{x:0,y:0}},s,r,g,w,l,u,c={x:0,y:0},p={x:0,y:0},y={x:0,y:0},d,x,b,_={},C,I,T,E,S,A,D=0,M={},O={x:0,y:0},F,k,P=0,R,Z,L,z,N,U,K=!0,B,H=[],W,G,Y,q,j,V,X,$={},J=!1,Q,ee=function(e,t){h.extend(f,t.publicMethods),H.push(e)},te=function(e){var t=an();return t-1<e?e-t:e<0?t+e:e},ne={},oe=function(e,t){return ne[e]||(ne[e]=[]),ne[e].push(t)},ie=function(e){var t=ne[e];if(t){var n=Array.prototype.slice.call(arguments);n.shift();for(var o=0;o<t.length;o++)t[o].apply(f,n)}},ae=function(){return(new Date).getTime()},re=function(e){yt=e,f.bg.style.opacity=e*v.bgOpacity},le=function(e,t,n,o,i){(!J||i&&i!==f.currItem)&&(o/=i?i.fitRatio:f.currItem.fitRatio),e[N]=T+t+"px, "+n+"px"+E+" scale("+o+")"},se=function(e){dt&&(e&&(C>f.currItem.fitRatio?J||(mn(f.currItem,!1,!0),J=!0):J&&(mn(f.currItem),J=!1)),le(dt,y.x,y.y,C))},ue=function(e){e.container&&le(e.container.style,e.initialPosition.x,e.initialPosition.y,e.initialZoomLevel,e)},ce=function(e,t){t[N]=T+e+"px, 0px"+E},pe=function(e,t){if(!v.loop&&t){var n=w+(O.x*D-e)/O.x,o=Math.round(e-pt.x);(n<0&&0<o||n>=an()-1&&o<0)&&(e=pt.x+o*v.mainScrollEndFriction)}pt.x=e,ce(e,l)},de=function(e,t){var n=ft[e]-M[e];return p[e]+c[e]+n-t/I*n},me=function(e,t){e.x=t.x,e.y=t.y,t.id&&(e.id=t.id)},fe=function(e){e.x=Math.round(e.x),e.y=Math.round(e.y)},he=null,ve=function(){he&&(h.unbind(document,"mousemove",ve),h.addClass(m,"pswp--has_mouse"),v.mouseUsed=!0,ie("mouseUsed")),he=setTimeout(function(){he=null},100)},ge=function(){h.bind(document,"keydown",f),X.transform&&h.bind(f.scrollWrap,"click",f),v.mouseUsed||h.bind(document,"mousemove",ve),h.bind(window,"resize scroll orientationchange",f),ie("bindEvents")},we=function(){h.unbind(window,"resize scroll orientationchange",f),h.unbind(window,"scroll",b.scroll),h.unbind(document,"keydown",f),h.unbind(document,"mousemove",ve),X.transform&&h.unbind(f.scrollWrap,"click",f),et&&h.unbind(window,d,f),clearTimeout(Q),ie("unbindEvents")},ye=function(e,t){var n=un(f.currItem,_,e);return t&&(ct=n),n},xe=function(e){return(e=e||f.currItem).initialZoomLevel},be=function(e){return 0<(e=e||f.currItem).w?v.maxSpreadZoom:1},_e=function(e,t,n,o){return o===f.currItem.initialZoomLevel?(n[e]=f.currItem.initialPosition[e],!0):(n[e]=de(e,o),n[e]>t.min[e]?(n[e]=t.min[e],!0):n[e]<t.max[e]&&(n[e]=t.max[e],!0))},Ce=function(){if(N){var e=X.perspective&&!B;return T="translate"+(e?"3d(":"("),void(E=X.perspective?", 0px)":")")}N="left",h.addClass(m,"pswp--ie"),ce=function(e,t){t.left=e+"px"},ue=function(e){var t=1<e.fitRatio?1:e.fitRatio,n=e.container.style,o=t*e.w,i=t*e.h;n.width=o+"px",n.height=i+"px",n.left=e.initialPosition.x+"px",n.top=e.initialPosition.y+"px"},se=function(){if(dt){var e=dt,t=f.currItem,n=1<t.fitRatio?1:t.fitRatio,o=n*t.w,i=n*t.h;e.width=o+"px",e.height=i+"px",e.left=y.x+"px",e.top=y.y+"px"}}},Ie=function(e){var t="";v.escKey&&27===e.keyCode?t="close":v.arrowKeys&&(37===e.keyCode?t="prev":39===e.keyCode&&(t="next")),t&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey||(e.preventDefault?e.preventDefault():e.returnValue=!1,f[t]()))},Te=function(e){e&&(ot||nt||mt||Ve)&&(e.preventDefault(),e.stopPropagation())},Ee=function(){f.setScrollOffset(0,h.getScrollY())},Se={},Ae=0,De=function(e){Se[e]&&(Se[e].raf&&G(Se[e].raf),Ae--,delete Se[e])},Me=function(e){Se[e]&&De(e),Se[e]||(Ae++,Se[e]={})},Oe=function(){for(var e in Se)Se.hasOwnProperty(e)&&De(e)},Fe=function(e,t,n,o,i,a,r){var l=ae(),s;Me(e);var u=function(){if(Se[e]){if(s=ae()-l,o<=s)return De(e),a(n),void(r&&r());a((n-t)*i(s/o)+t),Se[e].raf=W(u)}};u()},ke={shout:ie,listen:oe,viewportSize:_,options:v,isMainScrollAnimating:function(){return mt},getZoomLevel:function(){return C},getCurrentIndex:function(){return w},isDragging:function(){return et},isZooming:function(){return lt},setScrollOffset:function(e,t){M.x=e,V=M.y=t,ie("updateScrollOffset",M)},applyZoomPan:function(e,t,n,o){y.x=t,y.y=n,C=e,se(o)},init:function(){if(!s&&!r){var e;f.framework=h,f.template=m,f.bg=h.getChildByClass(m,"pswp__bg"),Y=m.className,s=!0,X=h.detectFeatures(),W=X.raf,G=X.caf,N=X.transform,j=X.oldIE,f.scrollWrap=h.getChildByClass(m,"pswp__scroll-wrap"),f.container=h.getChildByClass(f.scrollWrap,"pswp__container"),l=f.container.style,f.itemHolders=F=[{el:f.container.children[0],wrap:0,index:-1},{el:f.container.children[1],wrap:0,index:-1},{el:f.container.children[2],wrap:0,index:-1}],F[0].el.style.display=F[2].el.style.display="none",Ce(),b={resize:f.updateSize,orientationchange:function(){clearTimeout(Q),Q=setTimeout(function(){_.x!==f.scrollWrap.clientWidth&&f.updateSize()},500)},scroll:Ee,keydown:Ie,click:Te};var t=X.isOldIOSPhone||X.isOldAndroid||X.isMobileOpera,n;for(X.animationName&&X.transform&&!t||(v.showAnimationDuration=v.hideAnimationDuration=0),e=0;e<H.length;e++)f["init"+H[e]]();if(i)(f.ui=new i(f,h)).init();ie("firstUpdate"),w=w||v.index||0,(isNaN(w)||w<0||w>=an())&&(w=0),f.currItem=on(w),(X.isOldIOSPhone||X.isOldAndroid)&&(K=!1),m.setAttribute("aria-hidden","false"),v.modal&&(K?m.style.position="fixed":(m.style.position="absolute",m.style.top=h.getScrollY()+"px")),void 0===V&&(ie("initialLayout"),V=q=h.getScrollY());var o="pswp--open ";for(v.mainClass&&(o+=v.mainClass+" "),v.showHideOpacity&&(o+="pswp--animate_opacity "),o+=B?"pswp--touch":"pswp--notouch",o+=X.animationName?" pswp--css_animation":"",o+=X.svg?" pswp--svg":"",h.addClass(m,o),f.updateSize(),u=-1,P=null,e=0;e<3;e++)ce((e+u)*O.x,F[e].el.style);j||h.bind(f.scrollWrap,x,f),oe("initialZoomInEnd",function(){f.setContent(F[0],w-1),f.setContent(F[2],w+1),F[0].el.style.display=F[2].el.style.display="block",v.focus&&m.focus(),ge()}),f.setContent(F[1],w),f.updateCurrItem(),ie("afterInit"),K||(S=setInterval(function(){Ae||et||lt||C!==f.currItem.initialZoomLevel||f.updateSize()},1e3)),h.addClass(m,"pswp--visible")}},close:function(){s&&(r=!(s=!1),ie("close"),we(),Xt(f.currItem,null,!0,f.destroy))},destroy:function(){ie("destroy"),Vt&&clearTimeout(Vt),m.setAttribute("aria-hidden","true"),m.className=Y,S&&clearInterval(S),h.unbind(f.scrollWrap,x,f),h.unbind(window,"scroll",f),It(),Oe(),ne=null},panTo:function(e,t,n){n||(e>ct.min.x?e=ct.min.x:e<ct.max.x&&(e=ct.max.x),t>ct.min.y?t=ct.min.y:t<ct.max.y&&(t=ct.max.y)),y.x=e,y.y=t,se()},handleEvent:function(e){e=e||window.event,b[e.type]&&b[e.type](e)},goTo:function(e){var t=(e=te(e))-w;P=t,w=e,f.currItem=on(w),D-=t,pe(O.x*D),Oe(),mt=!1,f.updateCurrItem()},next:function(){f.goTo(w+1)},prev:function(){f.goTo(w-1)},updateCurrZoomItem:function(e){if(e&&ie("beforeChange",0),F[1].el.children.length){var t=F[1].el.children[0];dt=h.hasClass(t,"pswp__zoom-wrap")?t.style:null}else dt=null;ct=f.currItem.bounds,I=C=f.currItem.initialZoomLevel,y.x=ct.center.x,y.y=ct.center.y,e&&ie("afterChange")},invalidateCurrItems:function(){A=!0;for(var e=0;e<3;e++)F[e].item&&(F[e].item.needsUpdate=!0)},updateCurrItem:function(e){if(0!==P){var t=Math.abs(P),n;if(!(e&&t<2)){f.currItem=on(w),J=!1,ie("beforeChange",P),3<=t&&(u+=P+(0<P?-3:3),t=3);for(var o=0;o<t;o++)0<P?(n=F.shift(),F[2]=n,ce((++u+2)*O.x,n.el.style),f.setContent(n,w-t+o+1+1)):(n=F.pop(),F.unshift(n),ce(--u*O.x,n.el.style),f.setContent(n,w+t-o-1-1));if(dt&&1===Math.abs(P)){var i=on(k);i.initialZoomLevel!==C&&(un(i,_),mn(i),ue(i))}P=0,f.updateCurrZoomItem(),k=w,ie("afterChange")}}},updateSize:function(e){if(!K&&v.modal){var t=h.getScrollY();if(V!==t&&(m.style.top=t+"px",V=t),!e&&$.x===window.innerWidth&&$.y===window.innerHeight)return;$.x=window.innerWidth,$.y=window.innerHeight,m.style.height=$.y+"px"}if(_.x=f.scrollWrap.clientWidth,_.y=f.scrollWrap.clientHeight,Ee(),O.x=_.x+Math.round(_.x*v.spacing),O.y=_.y,pe(O.x*D),ie("beforeResize"),void 0!==u){for(var n,o,i,a=0;a<3;a++)n=F[a],ce((a+u)*O.x,n.el.style),i=w+a-1,v.loop&&2<an()&&(i=te(i)),(o=on(i))&&(A||o.needsUpdate||!o.bounds)?(f.cleanSlide(o),f.setContent(n,i),1===a&&(f.currItem=o,f.updateCurrZoomItem(!0)),o.needsUpdate=!1):-1===n.index&&0<=i&&f.setContent(n,i),o&&o.container&&(un(o,_),mn(o),ue(o));A=!1}I=C=f.currItem.initialZoomLevel,(ct=f.currItem.bounds)&&(y.x=ct.center.x,y.y=ct.center.y,se(!0)),ie("resize")},zoomTo:function(t,e,n,o,i){e&&(I=C,ft.x=Math.abs(e.x)-y.x,ft.y=Math.abs(e.y)-y.y,me(p,y));var a=ye(t,!1),r={};_e("x",a,r,t),_e("y",a,r,t);var l=C,s=y.x,u=y.y;fe(r);var c=function(e){1===e?(C=t,y.x=r.x,y.y=r.y):(C=(t-l)*e+l,y.x=(r.x-s)*e+s,y.y=(r.y-u)*e+u),i&&i(e),se(1===e)};n?Fe("customZoomTo",0,1,n,o||h.easing.sine.inOut,c):c(1)}},Pe=30,Re=10,Ze,Le,ze={},Ne={},Ue={},Ke={},Be={},He=[],We={},Ge,Ye=[],qe={},je,Ve,Xe,$e=0,Je={x:0,y:0},Qe=0,et,tt,nt,ot,it,at,rt,lt,st,ut,ct,pt={x:0,y:0},dt,mt,ft={x:0,y:0},ht={x:0,y:0},vt,gt,wt,yt,xt,bt=function(e,t){return e.x===t.x&&e.y===t.y},_t=function(e,t){return Math.abs(e.x-t.x)<n&&Math.abs(e.y-t.y)<n},Ct=function(e,t){return qe.x=Math.abs(e.x-t.x),qe.y=Math.abs(e.y-t.y),Math.sqrt(qe.x*qe.x+qe.y*qe.y)},It=function(){it&&(G(it),it=null)},Tt=function(){et&&(it=W(Tt),Bt())},Et=function(){return!("fit"===v.scaleMode&&C===f.currItem.initialZoomLevel)},St=function(e,t){return!(!e||e===document)&&(!(e.getAttribute("class")&&-1<e.getAttribute("class").indexOf("pswp__scroll-wrap"))&&(t(e)?e:St(e.parentNode,t)))},At={},Dt=function(e,t){return At.prevent=!St(e.target,v.isClickableElement),ie("preventDragEvent",e,t,At),At.prevent},Mt=function(e,t){return t.x=e.pageX,t.y=e.pageY,t.id=e.identifier,t},Ot=function(e,t,n){n.x=.5*(e.x+t.x),n.y=.5*(e.y+t.y)},Ft=function(e,t,n){if(50<e-Le){var o=2<Ye.length?Ye.shift():{};o.x=t,o.y=n,Ye.push(o),Le=e}},kt=function(){var e=y.y-f.currItem.initialPosition.y;return 1-Math.abs(e/(_.y/2))},Pt={},Rt={},Zt=[],Lt,zt=function(e){for(;0<Zt.length;)Zt.pop();return U?(Lt=0,He.forEach(function(e){0===Lt?Zt[0]=e:1===Lt&&(Zt[1]=e),Lt++})):-1<e.type.indexOf("touch")?e.touches&&0<e.touches.length&&(Zt[0]=Mt(e.touches[0],Pt),1<e.touches.length&&(Zt[1]=Mt(e.touches[1],Rt))):(Pt.x=e.pageX,Pt.y=e.pageY,Pt.id="",Zt[0]=Pt),Zt},Nt=function(e,t){var n,o=0,i=y[e]+t[e],a,r=0<t[e],l=pt.x+t.x,s=pt.x-We.x,u,c;if(n=i>ct.min[e]||i<ct.max[e]?v.panEndFriction:1,i=y[e]+t[e]*n,(v.allowPanToNext||C===f.currItem.initialZoomLevel)&&(dt?"h"!==vt||"x"!==e||nt||(r?(i>ct.min[e]&&(n=v.panEndFriction,o=ct.min[e]-i,a=ct.min[e]-p[e]),(a<=0||s<0)&&1<an()?(c=l,s<0&&l>We.x&&(c=We.x)):ct.min.x!==ct.max.x&&(u=i)):(i<ct.max[e]&&(n=v.panEndFriction,o=i-ct.max[e],a=p[e]-ct.max[e]),(a<=0||0<s)&&1<an()?(c=l,0<s&&l<We.x&&(c=We.x)):ct.min.x!==ct.max.x&&(u=i))):c=l,"x"===e))return void 0!==c&&(pe(c,!0),at=c!==We.x),ct.min.x!==ct.max.x&&(void 0!==u?y.x=u:at||(y.x+=t.x*n)),void 0!==c;mt||at||C>f.currItem.fitRatio&&(y[e]+=t[e]*n)},Ut=function(e){if(!("mousedown"===e.type&&0<e.button))if(tn)e.preventDefault();else if(!Xe||"mousedown"!==e.type){if(Dt(e,!0)&&e.preventDefault(),ie("pointerDown"),U){var t=h.arraySearch(He,e.pointerId,"id");t<0&&(t=He.length),He[t]={x:e.pageX,y:e.pageY,id:e.pointerId}}var n=zt(e),o=n.length;rt=null,Oe(),et&&1!==o||(et=gt=!0,h.bind(window,d,f),je=xt=wt=Ve=at=ot=tt=nt=!1,vt=null,ie("firstTouchStart",n),me(p,y),c.x=c.y=0,me(Ke,n[0]),me(Be,Ke),We.x=O.x*D,Ye=[{x:Ke.x,y:Ke.y}],Le=Ze=ae(),ye(C,!0),It(),Tt()),!lt&&1<o&&!mt&&!at&&(I=C,lt=tt=!(nt=!1),c.y=c.x=0,me(p,y),me(ze,n[0]),me(Ne,n[1]),Ot(ze,Ne,ht),ft.x=Math.abs(ht.x)-y.x,ft.y=Math.abs(ht.y)-y.y,st=ut=Ct(ze,Ne))}},Kt=function(e){if(e.preventDefault(),U){var t=h.arraySearch(He,e.pointerId,"id");if(-1<t){var n=He[t];n.x=e.pageX,n.y=e.pageY}}if(et){var o=zt(e);if(vt||ot||lt)rt=o;else if(pt.x!==O.x*D)vt="h";else{var i=Math.abs(o[0].x-Ke.x)-Math.abs(o[0].y-Ke.y);10<=Math.abs(i)&&(vt=0<i?"h":"v",rt=o)}}},Bt=function(){if(rt){var e=rt.length;if(0!==e)if(me(ze,rt[0]),Ue.x=ze.x-Ke.x,Ue.y=ze.y-Ke.y,lt&&1<e){if(Ke.x=ze.x,Ke.y=ze.y,!Ue.x&&!Ue.y&&bt(rt[1],Ne))return;me(Ne,rt[1]),nt||(nt=!0,ie("zoomGestureStarted"));var t=Ct(ze,Ne),n=qt(t);n>f.currItem.initialZoomLevel+f.currItem.initialZoomLevel/15&&(xt=!0);var o=1,i=xe(),a=be();if(n<i)if(v.pinchToClose&&!xt&&I<=f.currItem.initialZoomLevel){var r,l=1-(i-n)/(i/1.2);re(l),ie("onPinchClose",l),wt=!0}else 1<(o=(i-n)/i)&&(o=1),n=i-o*(i/3);else a<n&&(1<(o=(n-a)/(6*i))&&(o=1),n=a+o*i);o<0&&(o=0),st=t,Ot(ze,Ne,Je),c.x+=Je.x-ht.x,c.y+=Je.y-ht.y,me(ht,Je),y.x=de("x",n),y.y=de("y",n),je=C<n,C=n,se()}else{if(!vt)return;if(gt&&(gt=!1,10<=Math.abs(Ue.x)&&(Ue.x-=rt[0].x-Be.x),10<=Math.abs(Ue.y)&&(Ue.y-=rt[0].y-Be.y)),Ke.x=ze.x,Ke.y=ze.y,0===Ue.x&&0===Ue.y)return;if("v"===vt&&v.closeOnVerticalDrag&&!Et()){c.y+=Ue.y,y.y+=Ue.y;var s=kt();return Ve=!0,ie("onVerticalDrag",s),re(s),void se()}var u;Ft(ae(),ze.x,ze.y),ot=!0,ct=f.currItem.bounds,Nt("x",Ue)||(Nt("y",Ue),fe(y),se())}}},Ht=function(e){if(X.isOldAndroid){if(Xe&&"mouseup"===e.type)return;-1<e.type.indexOf("touch")&&(clearTimeout(Xe),Xe=setTimeout(function(){Xe=0},600))}var t;if(ie("pointerUp"),Dt(e,!1)&&e.preventDefault(),U){var n=h.arraySearch(He,e.pointerId,"id");if(-1<n)if(t=He.splice(n,1)[0],navigator.msPointerEnabled){var o={4:"mouse",2:"touch",3:"pen"};t.type=o[e.pointerType],t.type||(t.type=e.pointerType||"mouse")}else t.type=e.pointerType||"mouse"}var i=zt(e),a,r=i.length;if("mouseup"===e.type&&(r=0),2===r)return!(rt=null);1===r&&me(Be,i[0]),0!==r||vt||mt||(t||("mouseup"===e.type?t={x:e.pageX,y:e.pageY,type:"mouse"}:e.changedTouches&&e.changedTouches[0]&&(t={x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY,type:"touch"})),ie("touchRelease",e,t));var l=-1;if(0===r&&(et=!1,h.unbind(window,d,f),It(),lt?l=0:-1!==Qe&&(l=ae()-Qe)),Qe=1===r?ae():-1,a=-1!==l&&l<150?"zoom":"swipe",lt&&r<2&&(lt=!1,1===r&&(a="zoomPointerUp"),ie("zoomGestureEnded")),rt=null,ot||nt||mt||Ve)if(Oe(),(Ge=Ge||Wt()).calculateSwipeSpeed("x"),Ve){var s;if(kt()<v.verticalDragRange)f.close();else{var u=y.y,c=yt;Fe("verticalDrag",0,1,300,h.easing.cubic.out,function(e){y.y=(f.currItem.initialPosition.y-u)*e+u,re((1-c)*e+c),se()}),ie("onVerticalDrag",1)}}else{if((at||mt)&&0===r){var p;if(Yt(a,Ge))return;a="zoomPointerUp"}mt||("swipe"===a?!at&&C>f.currItem.fitRatio&&Gt(Ge):jt())}},Wt=function(){var t,n,o={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(e){n=1<Ye.length?(t=ae()-Le+50,Ye[Ye.length-2][e]):(t=ae()-Ze,Be[e]),o.lastFlickOffset[e]=Ke[e]-n,o.lastFlickDist[e]=Math.abs(o.lastFlickOffset[e]),20<o.lastFlickDist[e]?o.lastFlickSpeed[e]=o.lastFlickOffset[e]/t:o.lastFlickSpeed[e]=0,Math.abs(o.lastFlickSpeed[e])<.1&&(o.lastFlickSpeed[e]=0),o.slowDownRatio[e]=.95,o.slowDownRatioReverse[e]=1-o.slowDownRatio[e],o.speedDecelerationRatio[e]=1},calculateOverBoundsAnimOffset:function(t,e){o.backAnimStarted[t]||(y[t]>ct.min[t]?o.backAnimDestination[t]=ct.min[t]:y[t]<ct.max[t]&&(o.backAnimDestination[t]=ct.max[t]),void 0!==o.backAnimDestination[t]&&(o.slowDownRatio[t]=.7,o.slowDownRatioReverse[t]=1-o.slowDownRatio[t],o.speedDecelerationRatioAbs[t]<.05&&(o.lastFlickSpeed[t]=0,o.backAnimStarted[t]=!0,Fe("bounceZoomPan"+t,y[t],o.backAnimDestination[t],e||300,h.easing.sine.out,function(e){y[t]=e,se()}))))},calculateAnimOffset:function(e){o.backAnimStarted[e]||(o.speedDecelerationRatio[e]=o.speedDecelerationRatio[e]*(o.slowDownRatio[e]+o.slowDownRatioReverse[e]-o.slowDownRatioReverse[e]*o.timeDiff/10),o.speedDecelerationRatioAbs[e]=Math.abs(o.lastFlickSpeed[e]*o.speedDecelerationRatio[e]),o.distanceOffset[e]=o.lastFlickSpeed[e]*o.speedDecelerationRatio[e]*o.timeDiff,y[e]+=o.distanceOffset[e])},panAnimLoop:function(){if(Se.zoomPan&&(Se.zoomPan.raf=W(o.panAnimLoop),o.now=ae(),o.timeDiff=o.now-o.lastNow,o.lastNow=o.now,o.calculateAnimOffset("x"),o.calculateAnimOffset("y"),se(),o.calculateOverBoundsAnimOffset("x"),o.calculateOverBoundsAnimOffset("y"),o.speedDecelerationRatioAbs.x<.05&&o.speedDecelerationRatioAbs.y<.05))return y.x=Math.round(y.x),y.y=Math.round(y.y),se(),void De("zoomPan")}};return o},Gt=function(e){if(e.calculateSwipeSpeed("y"),ct=f.currItem.bounds,e.backAnimDestination={},e.backAnimStarted={},Math.abs(e.lastFlickSpeed.x)<=.05&&Math.abs(e.lastFlickSpeed.y)<=.05)return e.speedDecelerationRatioAbs.x=e.speedDecelerationRatioAbs.y=0,e.calculateOverBoundsAnimOffset("x"),e.calculateOverBoundsAnimOffset("y"),!0;Me("zoomPan"),e.lastNow=ae(),e.panAnimLoop()},Yt=function(e,t){var n,o,i;if(mt||($e=w),"swipe"===e){var a=Ke.x-Be.x,r=t.lastFlickDist.x<10;30<a&&(r||20<t.lastFlickOffset.x)?o=-1:a<-30&&(r||t.lastFlickOffset.x<-20)&&(o=1)}o&&((w+=o)<0?(w=v.loop?an()-1:0,i=!0):w>=an()&&(w=v.loop?0:an()-1,i=!0),i&&!v.loop||(P+=o,D-=o,n=!0));var l=O.x*D,s=Math.abs(l-pt.x),u;return u=n||l>pt.x==0<t.lastFlickSpeed.x?(u=0<Math.abs(t.lastFlickSpeed.x)?s/Math.abs(t.lastFlickSpeed.x):333,u=Math.min(u,400),Math.max(u,250)):333,$e===w&&(n=!1),mt=!0,ie("mainScrollAnimStart"),Fe("mainScroll",pt.x,l,u,h.easing.cubic.out,pe,function(){Oe(),mt=!1,$e=-1,!n&&$e===w||f.updateCurrItem(),ie("mainScrollAnimComplete")}),n&&f.updateCurrItem(!0),n},qt=function(e){return 1/ut*e*I},jt=function(){var e=C,t=xe(),n=be();C<t?e=t:n<C&&(e=n);var o=1,i,a=yt;return wt&&!je&&!xt&&C<t?f.close():(wt&&(i=function(e){re((1-a)*e+a)}),f.zoomTo(e,0,200,h.easing.cubic.out,i)),!0};ee("Gestures",{publicMethods:{initGestures:function(){var e=function(e,t,n,o,i){R=e+t,Z=e+n,L=e+o,z=i?e+i:""};(U=X.pointerEvent)&&X.touch&&(X.touch=!1),U?navigator.msPointerEnabled?e("MSPointer","Down","Move","Up","Cancel"):e("pointer","down","move","up","cancel"):X.touch?(e("touch","start","move","end","cancel"),B=!0):e("mouse","down","move","up"),d=Z+" "+L+" "+z,x=R,U&&!B&&(B=1<navigator.maxTouchPoints||1<navigator.msMaxTouchPoints),f.likelyTouchDevice=B,b[R]=Ut,b[Z]=Kt,b[L]=Ht,z&&(b[z]=b[L]),X.touch&&(x+=" mousedown",d+=" mousemove mouseup",b.mousedown=b[R],b.mousemove=b[Z],b.mouseup=b[L]),B||(v.allowPanToNext=!1)}}});var Vt,Xt=function(s,e,u,t){var c;Vt&&clearTimeout(Vt),en=tn=!0,s.initialLayout?(c=s.initialLayout,s.initialLayout=null):c=v.getThumbBoundsFn&&v.getThumbBoundsFn(w);var p=u?v.hideAnimationDuration:v.showAnimationDuration,d=function(){De("initialZoom"),u?(f.template.removeAttribute("style"),f.bg.removeAttribute("style")):(re(1),e&&(e.style.display="block"),h.addClass(m,"pswp--animated-in"),ie("initialZoom"+(u?"OutEnd":"InEnd"))),t&&t(),tn=!1},n;if(!p||!c||void 0===c.x)return ie("initialZoom"+(u?"Out":"In")),C=s.initialZoomLevel,me(y,s.initialPosition),se(),m.style.opacity=u?0:1,re(1),void(p?setTimeout(function(){d()},p):d());(function(){var r=g,l=!f.currItem.src||f.currItem.loadError||v.showHideOpacity;s.miniImg&&(s.miniImg.style.webkitBackfaceVisibility="hidden"),u||(C=c.w/s.w,y.x=c.x,y.y=c.y-q,f[l?"template":"bg"].style.opacity=.001,se()),Me("initialZoom"),u&&!r&&h.removeClass(m,"pswp--animated-in"),l&&(u?h[(r?"remove":"add")+"Class"](m,"pswp--animate_opacity"):setTimeout(function(){h.addClass(m,"pswp--animate_opacity")},30)),Vt=setTimeout(function(){if(ie("initialZoom"+(u?"Out":"In")),u){var t=c.w/s.w,n=y.x,o=y.y,i=C,a=yt,e=function(e){1===e?(C=t,y.x=c.x,y.y=c.y-V):(C=(t-i)*e+i,y.x=(c.x-n)*e+n,y.y=(c.y-V-o)*e+o),se(),l?m.style.opacity=1-e:re(a-e*a)};r?Fe("initialZoom",0,1,p,h.easing.cubic.out,e,d):(e(1),Vt=setTimeout(d,p+20))}else C=s.initialZoomLevel,me(y,s.initialPosition),se(),re(1),l?m.style.opacity=1:re(1),Vt=setTimeout(d,p+20)},u?25:90)})()},$t,Jt={},Qt=[],en,tn,nn={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return $t.length}},on,an,rn,ln=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},sn=function(e,t,n){var o=e.bounds;o.center.x=Math.round((Jt.x-t)/2),o.center.y=Math.round((Jt.y-n)/2)+e.vGap.top,o.max.x=t>Jt.x?Math.round(Jt.x-t):o.center.x,o.max.y=n>Jt.y?Math.round(Jt.y-n)+e.vGap.top:o.center.y,o.min.x=t>Jt.x?0:o.center.x,o.min.y=n>Jt.y?e.vGap.top:o.center.y},un=function(e,t,n){if(!e.src||e.loadError)return e.w=e.h=0,e.initialZoomLevel=e.fitRatio=1,e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},e.initialPosition=e.bounds.center,e.bounds;var o=!n;if(o&&(e.vGap||(e.vGap={top:0,bottom:0}),ie("parseVerticalMargin",e)),Jt.x=t.x,Jt.y=t.y-e.vGap.top-e.vGap.bottom,o){var i=Jt.x/e.w,a=Jt.y/e.h;e.fitRatio=i<a?i:a;var r=v.scaleMode;"orig"===r?n=1:"fit"===r&&(n=e.fitRatio),1<n&&(n=1),e.initialZoomLevel=n,e.bounds||(e.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}return n?(sn(e,e.w*n,e.h*n),o&&n===e.initialZoomLevel&&(e.initialPosition=e.bounds.center),e.bounds):void 0},cn=function(e,t,n,o,i,a){t.loadError||o&&(t.imageAppended=!0,mn(t,o,t===f.currItem&&J),n.appendChild(o),a&&setTimeout(function(){t&&t.loaded&&t.placeholder&&(t.placeholder.style.display="none",t.placeholder=null)},500))},pn=function(e){e.loading=!0,e.loaded=!1;var t=e.img=h.createEl("pswp__img","img"),n=function(){e.loading=!1,e.loaded=!0,e.loadComplete?e.loadComplete(e):e.img=null,t.onload=t.onerror=null,t=null};return t.onload=n,t.onerror=function(){e.loadError=!0,n()},t.src=e.src,t},dn=function(e,t){if(e.src&&e.loadError&&e.container)return t&&(e.container.innerHTML=""),e.container.innerHTML=v.errorMsg.replace("%url%",e.src),!0},mn=function(e,t,n){if(e.src){t=t||e.container.lastChild;var o=n?e.w:Math.round(e.w*e.fitRatio),i=n?e.h:Math.round(e.h*e.fitRatio);e.placeholder&&!e.loaded&&(e.placeholder.style.width=o+"px",e.placeholder.style.height=i+"px"),t.style.width=o+"px",t.style.height=i+"px"}},fn=function(){if(Qt.length){for(var e,t=0;t<Qt.length;t++)(e=Qt[t]).holder.index===e.index&&cn(e.index,e.item,e.baseDiv,e.img,!1,e.clearPlaceholder);Qt=[]}};ee("Controller",{publicMethods:{lazyLoadItem:function(e){e=te(e);var t=on(e);t&&(!t.loaded&&!t.loading||A)&&(ie("gettingData",e,t),t.src&&pn(t))},initController:function(){h.extend(v,nn,!0),f.items=$t=e,on=f.getItemAt,an=v.getNumItemsFn,rn=v.loop,an()<3&&(v.loop=!1),oe("beforeChange",function(e){var t=v.preload,n=null===e||0<=e,o=Math.min(t[0],an()),i=Math.min(t[1],an()),a;for(a=1;a<=(n?i:o);a++)f.lazyLoadItem(w+a);for(a=1;a<=(n?o:i);a++)f.lazyLoadItem(w-a)}),oe("initialLayout",function(){f.currItem.initialLayout=v.getThumbBoundsFn&&v.getThumbBoundsFn(w)}),oe("mainScrollAnimComplete",fn),oe("initialZoomInEnd",fn),oe("destroy",function(){for(var e,t=0;t<$t.length;t++)(e=$t[t]).container&&(e.container=null),e.placeholder&&(e.placeholder=null),e.img&&(e.img=null),e.preloader&&(e.preloader=null),e.loadError&&(e.loaded=e.loadError=!1);Qt=null})},getItemAt:function(e){return 0<=e&&(void 0!==$t[e]&&$t[e])},allowProgressiveImg:function(){return v.forceProgressiveLoading||!B||v.mouseUsed||1200<screen.width},setContent:function(t,n){v.loop&&(n=te(n));var e=f.getItemAt(t.index);e&&(e.container=null);var o=f.getItemAt(n),i;if(o){ie("gettingData",n,o),t.index=n;var a=(t.item=o).container=h.createEl("pswp__zoom-wrap");if(!o.src&&o.html&&(o.html.tagName?a.appendChild(o.html):a.innerHTML=o.html),dn(o),un(o,_),!o.src||o.loadError||o.loaded)o.src&&!o.loadError&&((i=h.createEl("pswp__img","img")).style.opacity=1,i.src=o.src,mn(o,i),cn(n,o,a,i,!0));else{if(o.loadComplete=function(e){if(s){if(t&&t.index===n){if(dn(e,!0))return e.loadComplete=e.img=null,un(e,_),ue(e),void(t.index===w&&f.updateCurrZoomItem());e.imageAppended?!tn&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null):X.transform&&(mt||tn)?Qt.push({item:e,baseDiv:a,img:e.img,index:n,holder:t,clearPlaceholder:!0}):cn(n,e,a,e.img,mt||tn,!0)}e.loadComplete=null,e.img=null,ie("imageLoadComplete",n,e)}},h.features.transform){var r="pswp__img pswp__img--placeholder";r+=o.msrc?"":" pswp__img--placeholder--blank";var l=h.createEl(r,o.msrc?"img":"");o.msrc&&(l.src=o.msrc),mn(o,l),a.appendChild(l),o.placeholder=l}o.loading||pn(o),f.allowProgressiveImg()&&(!en&&X.transform?Qt.push({item:o,baseDiv:a,img:o.img,index:n,holder:t}):cn(n,o,a,o.img,!0,!0))}en||n!==w?ue(o):(dt=a.style,Xt(o,i||o.img)),t.el.innerHTML="",t.el.appendChild(a)}else t.el.innerHTML=""},cleanSlide:function(e){e.img&&(e.img.onload=e.img.onerror=null),e.loaded=e.loading=e.img=e.imageAppended=!1}}});var hn,vn={},gn=function(e,t,n){var o=document.createEvent("CustomEvent"),i={origEvent:e,target:e.target,releasePoint:t,pointerType:n||"touch"};o.initCustomEvent("pswpTap",!0,!0,i),e.target.dispatchEvent(o)},wn;ee("Tap",{publicMethods:{initTap:function(){oe("firstTouchStart",f.onTapStart),oe("touchRelease",f.onTapRelease),oe("destroy",function(){vn={},hn=null})},onTapStart:function(e){1<e.length&&(clearTimeout(hn),hn=null)},onTapRelease:function(e,t){if(t&&!ot&&!tt&&!Ae){var n=t,o;if(hn&&(clearTimeout(hn),hn=null,_t(n,vn)))return void ie("doubleTap",n);if("mouse"===t.type)return void gn(e,t,"mouse");if("BUTTON"===e.target.tagName.toUpperCase()||h.hasClass(e.target,"pswp__single-tap"))return void gn(e,t);me(vn,n),hn=setTimeout(function(){gn(e,t),hn=null},300)}}}}),ee("DesktopZoom",{publicMethods:{initDesktopZoom:function(){j||(B?oe("mouseUsed",function(){f.setupDesktopZoom()}):f.setupDesktopZoom(!0))},setupDesktopZoom:function(e){wn={};var t="wheel mousewheel DOMMouseScroll";oe("bindEvents",function(){h.bind(m,t,f.handleMouseWheel)}),oe("unbindEvents",function(){wn&&h.unbind(m,t,f.handleMouseWheel)}),f.mouseZoomedIn=!1;var n,o=function(){f.mouseZoomedIn&&(h.removeClass(m,"pswp--zoomed-in"),f.mouseZoomedIn=!1),C<1?h.addClass(m,"pswp--zoom-allowed"):h.removeClass(m,"pswp--zoom-allowed"),i()},i=function(){n&&(h.removeClass(m,"pswp--dragging"),n=!1)};oe("resize",o),oe("afterChange",o),oe("pointerDown",function(){f.mouseZoomedIn&&(n=!0,h.addClass(m,"pswp--dragging"))}),oe("pointerUp",i),e||o()},handleMouseWheel:function(e){if(C<=f.currItem.fitRatio)return v.modal&&(!v.closeOnScroll||Ae||et?e.preventDefault():N&&2<Math.abs(e.deltaY)&&(g=!0,f.close())),!0;if(e.stopPropagation(),wn.x=0,"deltaX"in e)1===e.deltaMode?(wn.x=18*e.deltaX,wn.y=18*e.deltaY):(wn.x=e.deltaX,wn.y=e.deltaY);else if("wheelDelta"in e)e.wheelDeltaX&&(wn.x=-.16*e.wheelDeltaX),e.wheelDeltaY?wn.y=-.16*e.wheelDeltaY:wn.y=-.16*e.wheelDelta;else{if(!("detail"in e))return;wn.y=e.detail}ye(C,!0);var t=y.x-wn.x,n=y.y-wn.y;(v.modal||t<=ct.min.x&&t>=ct.max.x&&n<=ct.min.y&&n>=ct.max.y)&&e.preventDefault(),f.panTo(t,n)},toggleDesktopZoom:function(e){e=e||{x:_.x/2+M.x,y:_.y/2+M.y};var t=v.getDoubleTapZoom(!0,f.currItem),n=C===t;f.mouseZoomedIn=!n,f.zoomTo(n?f.currItem.initialZoomLevel:t,e,333),h[(n?"remove":"add")+"Class"](m,"pswp--zoomed-in")}}}),h.extend(f,ke)}}),function(z,N){"use strict";z.PhotoSwipeUI=function(o,s){var i=this,e=!1,a=!0,t,l,r,u,n,c,p,d,m,f,h,v,g,w={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(e,t){return e.title?(t.children[0].innerHTML=e.title,!0):(t.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,indexIndicatorSep:" / ",fitControlsWidth:1200},y,x=function(){return!o.likelyTouchDevice||g.mouseUsed||screen.width>g.fitControlsWidth},b=function(e,t,n){s[(n?"add":"remove")+"Class"](e,"pswp__"+t)},_=function(){var e=1===g.getNumItemsFn();e!==v&&(b(l,"ui--one-slide",e),v=e)},C=function(e){for(var t=0;t<g.closeElClasses.length;t++)if(s.hasClass(e,"pswp__"+g.closeElClasses[t]))return!0},I,T,E=0,S=function(){clearTimeout(T),E=0,p&&i.setIdle(!1)},A=function(e){var t=e||z.event,n=t.relatedTarget||t.toElement;n&&"HTML"!==n.nodeName||(clearTimeout(T),T=setTimeout(function(){i.setIdle(!0)},g.timeToIdleOutside))},D=function(){g.fullscreenEl&&!s.features.isOldAndroid&&((t=t||i.getFullscreenAPI())?(s.bind(N,t.eventK,i.updateFullscreen),i.updateFullscreen(),s.addClass(o.template,"pswp--supports-fs")):s.removeClass(o.template,"pswp--supports-fs"))},M=function(e){f!==e&&(b(m,"preloader--active",!e),f=e)},O=function(){g.preloaderEl&&(M(!0),d("beforeChange",function(){clearTimeout(h),h=setTimeout(function(){o.currItem&&o.currItem.loading?o.allowProgressiveImg()&&(!o.currItem.img||o.currItem.img.naturalWidth)||M(!1):M(!0)},g.loadingIndicatorDelay)}),d("imageLoadComplete",function(e,t){o.currItem===t&&M(!0)}))},F=function(e){var t=e.vGap;if(x()){var n=g.barsSize;if(g.captionEl&&"auto"===n.bottom)if(u||((u=s.createEl("pswp__caption pswp__caption--fake")).appendChild(s.createEl("pswp__caption__center")),l.insertBefore(u,r),s.addClass(l,"pswp__ui--fit")),g.addCaptionHTMLFn(e,u,!0)){var o=u.clientHeight;t.bottom=parseInt(o,10)||44}else t.bottom=n.top;else t.bottom="auto"===n.bottom?0:n.bottom;t.top=n.top}else t.top=t.bottom=0},k=function(){g.timeToIdle&&d("mouseUsed",function(){s.bind(N,"mousemove",S),s.bind(N,"mouseout",A),I=setInterval(function(){2===++E&&i.setIdle(!0)},g.timeToIdle/2)})},P=function(){var t;d("onVerticalDrag",function(e){a&&e<.95?i.hideControls():!a&&.95<=e&&i.showControls()}),d("onPinchClose",function(e){a&&e<.9?(i.hideControls(),t=!0):t&&!a&&.9<e&&i.showControls()}),d("zoomGestureEnded",function(){(t=!1)&&!a&&i.showControls()})},R=[{name:"caption",option:"captionEl",onInit:function(e){r=e}},{name:"button--zoom",option:"zoomEl",onTap:o.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(e){n=e}},{name:"button--close",option:"closeEl",onTap:o.close},{name:"button--arrow--left",option:"arrowEl",onInit:function(t){!1===o.options.loop&&o.listen("beforeChange",function(){var e;1<o.getCurrentIndex()+1?t.removeAttribute("disabled"):t.setAttribute("disabled","")})},onTap:function(){var e=o.getCurrentIndex()+1;(o.options.loop||1<e)&&o.prev()}},{name:"button--arrow--right",option:"arrowEl",onInit:function(t){var n=o.options.getNumItemsFn();!1===o.options.loop&&o.listen("beforeChange",function(){var e;o.getCurrentIndex()+1<n?t.removeAttribute("disabled"):t.setAttribute("disabled","")})},onTap:function(){var e=o.getCurrentIndex()+1,t=o.options.getNumItemsFn();(o.options.loop||e<t)&&o.next()}},{name:"button--fs",option:"fullscreenEl",onTap:function(){t.isFullscreen()?t.exit():t.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(e){m=e}}],Z=function(e){if(y)return!0;var t=e||z.event;g.timeToIdle&&g.mouseUsed&&!p&&S();for(var n,o,i=(t.target||t.srcElement).getAttribute("class")||"",a,r=0;r<R.length;r++)(o=R[r]).onTap&&-1<i.indexOf("pswp__"+o.name)&&(o.onTap(),a=!0);if(a){t.stopPropagation&&t.stopPropagation(),y=!0;var l=s.features.isOldAndroid?600:30;setTimeout(function(){y=!1},l)}},L=function(){var i,a,r,e=function(e){if(e)for(var t=e.length,n=0;n<t;n++){i=e[n],a=i.className;for(var o=0;o<R.length;o++)r=R[o],-1<a.indexOf("pswp__"+r.name)&&(g[r.option]?(s.removeClass(i,"pswp__element--disabled"),r.onInit&&r.onInit(i)):s.addClass(i,"pswp__element--disabled"))}};e(l.children);var t=s.getChildByClass(l,"pswp__top-bar");t&&e(t.children)};i.init=function(){s.extend(o.options,w,!0),g=o.options,l=s.getChildByClass(o.scrollWrap,"pswp__ui"),d=o.listen,P(),d("beforeChange",i.update),d("doubleTap",function(e){var t=o.currItem.initialZoomLevel;o.getZoomLevel()!==t?o.zoomTo(t,e,333):o.zoomTo(g.getDoubleTapZoom(!1,o.currItem),e,333)}),d("preventDragEvent",function(e,t,n){var o=e.target||e.srcElement;o&&o.getAttribute("class")&&-1<e.type.indexOf("mouse")&&(0<o.getAttribute("class").indexOf("__caption")||/(SMALL|STRONG|EM)/i.test(o.tagName))&&(n.prevent=!1)}),d("bindEvents",function(){s.bind(l,"pswpTap click",Z),s.bind(o.scrollWrap,"pswpTap",i.onGlobalTap),o.likelyTouchDevice||s.bind(o.scrollWrap,"mouseover",i.onMouseOver)}),d("unbindEvents",function(){I&&clearInterval(I),s.unbind(N,"mouseout",A),s.unbind(N,"mousemove",S),s.unbind(l,"pswpTap click",Z),s.unbind(o.scrollWrap,"pswpTap",i.onGlobalTap),s.unbind(o.scrollWrap,"mouseover",i.onMouseOver),t&&(s.unbind(N,t.eventK,i.updateFullscreen),t.isFullscreen()&&(g.hideAnimationDuration=0,t.exit()),t=null)}),d("destroy",function(){g.captionEl&&(u&&l.removeChild(u),s.removeClass(r,"pswp__caption--empty")),s.removeClass(l,"pswp__ui--over-close"),s.addClass(l,"pswp__ui--hidden"),i.setIdle(!1)}),g.showAnimationDuration||s.removeClass(l,"pswp__ui--hidden"),d("initialZoomIn",function(){g.showAnimationDuration&&s.removeClass(l,"pswp__ui--hidden")}),d("initialZoomOut",function(){s.addClass(l,"pswp__ui--hidden")}),d("parseVerticalMargin",F),L(),_(),k(),D(),O()},i.setIdle=function(e){b(l,"ui--idle",p=e)},i.update=function(){e=!(!a||!o.currItem)&&(i.updateIndexIndicator(),g.captionEl&&(g.addCaptionHTMLFn(o.currItem,r),b(r,"caption--empty",!o.currItem.title)),!0),_()},i.updateFullscreen=function(e){e&&setTimeout(function(){o.setScrollOffset(0,s.getScrollY())},50),s[(t.isFullscreen()?"add":"remove")+"Class"](o.template,"pswp--fs")},i.updateIndexIndicator=function(){g.counterEl&&(n.innerHTML=o.getCurrentIndex()+1+g.indexIndicatorSep+g.getNumItemsFn())},i.onGlobalTap=function(e){var t=e||z.event,n=t.target||t.srcElement;if(!y)if(t.detail&&"mouse"===t.detail.pointerType){if(C(n))return void o.close();s.hasClass(n,"pswp__img")&&(1===o.getZoomLevel()&&o.getZoomLevel()<=o.currItem.fitRatio?g.clickToCloseNonZoomable&&o.close():o.toggleDesktopZoom(t.detail.releasePoint))}else g.tapToToggleControls&&(a?i.hideControls():i.showControls()),g.tapToClose&&(s.hasClass(n,"pswp__img")||C(n))&&o.close()},i.onMouseOver=function(e){var t=e||z.event,n=t.target||t.srcElement;b(l,"ui--over-close",C(n))},i.hideControls=function(){s.addClass(l,"pswp__ui--hidden"),a=!1},i.showControls=function(){a=!0,e||i.update(),s.removeClass(l,"pswp__ui--hidden")},i.supportsFullscreen=function(){var e=N;return!!(e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen)},i.getFullscreenAPI=function(){var e=N.documentElement,t,n="fullscreenchange";return e.requestFullscreen?t={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:e.mozRequestFullScreen?t={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:e.webkitRequestFullscreen?t={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:e.msRequestFullscreen&&(t={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),t&&(t.enter=function(){if(c=g.closeOnScroll,g.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return o.template[this.enterK]();o.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},t.exit=function(){return g.closeOnScroll=c,N[this.exitK]()},t.isFullscreen=function(){return N[this.elementK]}),t}}}(window,document),function(s,c,o,i){"use strict";var a=!1,r;s.MHPhotoSwipe=function(e,t){var u=this,n;u.selector=e,u.language="function"==typeof isFrenchSite&&s.isFrenchSite()?"fr":"en",u.pswpContainerElement=r,u.defaultOptions={closeOnScroll:!1,history:!1,loop:!1,shareEl:!1},u.utilities={},u.utilities.htmlToElement=(n=c.createElement("div"),function(e){return n.innerHTML=e,n.firstChild}),u.utilities.extendObject=function(e){for(var t=e||{},n=function(e){return"[object Object]"===Object.prototype.toString.call(e)},o=1;o<arguments.length;o++){var i=arguments[o];if(i)for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=n(i[a])?u.utilities.extendObject(t[a],i[a]):i[a])}return t},u.options=u.utilities.extendObject(u.defaultOptions,t),u.youTubeUrlMatch=function(e){return e.match(/((?:www\.)?youtube\.com|(?:www\.)?youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/(youtu\.be)\/([a-zA-Z0-9\-_]+)/)},u.vimeoUrlMatch=function(e){return e.match(/(?:www\.)?vimeo\.com\/([0-9]*)/)},u.htmlUrlMatch=function(e){return e.split(/[?#]/)[0].match(/.+\.(htm|html|shtml|php)$/)},u.lightboxTemplate='<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div>'+("fr"===u.language?'<button class="pswp__button pswp__button--close" title="Fermer (Échap)"></button><button class="pswp__button pswp__button--fs" title="Basculer en plein écran"></button><button class="pswp__button pswp__button--zoom" title="Zoom avant / arrière"></button>':'<button class="pswp__button pswp__button--close" title="Close (Esc)"></button><button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button><button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>')+'<div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div>'+("fr"===u.language?'<button class="pswp__button pswp__button--arrow--left" title="Précédent (flèche à gauche)"></button><button class="pswp__button pswp__button--arrow--right" title="Suivant (flèche droite)"></button>':'<button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button><button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>')+'<div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div>',u.setup=function(){r=u.utilities.htmlToElement(u.lightboxTemplate),c.body.appendChild(r),u.pswpContainerElement=r},u.getPhotoSize=function(e){var t;return t=e.hasAttribute("data-size")?e.getAttribute("data-size").split("x"):e.getElementsByTagName("img").length?[e.getElementsByTagName("img")[0].naturalWidth,e.getElementsByTagName("img")[0].naturalHeight]:[0,0]},u.createPhotoGalleries=function(e,o){var r,l,t={},n=function(e){var a=[],i={},t,n=!0;for(r=0,l=e.length;r<l;r++)0!==(t=u.getPhotoSize(e[r]))[0]&&0!==t[1]&&(a.push({src:e[r].getAttribute("href"),w:parseInt(t[0],10),h:parseInt(t[1],10),el:e[r]}),e[r].hasAttribute("title")&&(a[a.length-1].title=e[r].getAttribute("title")),e[r].getElementsByTagName("img").length?a[a.length-1].msrc=e[r].getElementsByTagName("img")[0].getAttribute("src"):n=!1);i.getThumbBoundsFn=function(e){var t=a[e].el.querySelector("img"),n=s.pageYOffset||c.documentElement.scrollTop,o,i;return i=t?(o=t.getBoundingClientRect()).width:(o=a[e].el.getBoundingClientRect(),10),{x:o.left,y:o.top+n,w:i}},n||(i.showHideOpacity=!0,i.showAnimationDuration=0),u.utilities.extendObject(i,o),a.forEach(function(e,t){var n=u.utilities.extendObject({},i);n.index=t;var o=function(e){e.preventDefault(),u.newPhotoSwipe(a,n)};e.el.addEventListener("click",o)})},i;for(r=0,l=e.length;r<l;r++)e[r].hasAttribute("href")&&(i=e[r].hasAttribute("data-rel")?"data-rel-"+e[r].getAttribute("data-rel"):e[r].hasAttribute("rel")?"rel-"+e[r].getAttribute("rel"):"ungrouped-"+r,Object.prototype.hasOwnProperty.call(t,i)||(t[i]=[]),t[i].push(e[r]));for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&n(t[a])},u.createIframeModal=function(e,t){for(var n={closeElClasses:["item","caption","zoom-wrap","ui","top-bar","iframe-container","iframe-container-inner"],tapToClose:!0,showHideOpacity:!0,showAnimationDuration:0,getThumbBoundsFn:function(){return{x:0,y:0,w:1}}},s=u.utilities.extendObject({},n,t),o=function(e){var t=e.getAttribute("href"),n=u.youTubeUrlMatch(t),o=u.vimeoUrlMatch(t),i="",a="",r;i+='<iframe width="560" height="315" ',n?(i+='src="https://'+n[1].replace(/^youtu\.be/,"www.youtube.com")+"/embed/"+n[2]+'?autoplay=1"',i+=' allowfullscreen allow="autoplay; fullscreen"'):o?(i+='src="https://player.vimeo.com/video/'+o[1]+'?autoplay=1&byline=0&portrait=0"',i+=' allowfullscreen allow="autoplay; fullscreen"'):i+='src="'+t+'"',i+=' frameborder="0"></iframe>',(s.iframeHeight||s.iframeWidth)&&(a+=' style="'+(s.iframeHeight?"height: "+parseFloat(s.iframeHeight)+"px;":"")+(s.iframeWidth?"width: "+parseFloat(s.iframeWidth)+"px;":"")+'"'),r=[{html:'<div class="pswp__iframe-container"><div class="pswp__iframe-container-inner"><div class="pswp__iframe-content'+(n||o?" pswp__video-content":"")+'"'+a+">"+i+"</div></div></div>"}];var l=function(e){var t;e.preventDefault(),u.newPhotoSwipe(r,s).listen("destroy",function(){var e=u.pswpContainerElement.querySelector(".pswp__iframe-container iframe");e&&e.parentNode.removeChild(e)})};e.addEventListener("click",l)},i=0,a=e.length;i<a;i++)o(e[i])},u.newPhotoSwipe=function(e,t){var n=new o(u.pswpContainerElement,i,e,t);return n.init(),n},u.maybeRunSetup=function(){a||(u.setup(),a=!0)},u.init=function(){var e=[];if(u.maybeRunSetup(),Array.isArray(u.selector)&&u.selector.length)u.newPhotoSwipe(u.selector,u.options);else if(u.galleryElements=c.querySelectorAll(u.selector),u.galleryElements.length){for(var t=0,n=u.galleryElements.length;t<n;t++){var o=u.galleryElements[t],i=o.getAttribute("href");"iframe"in u.options&&u.options.iframe?u.createIframeModal([o],u.options):"A"===o.tagName.toUpperCase()&&(u.youTubeUrlMatch(i)||u.vimeoUrlMatch(i)||u.htmlUrlMatch(i))?u.createIframeModal([o],u.options):e.push(o)}e.length&&u.createPhotoGalleries(e,u.options)}}},s.mhPhotoSwipe=function(e,t){var n=new s.MHPhotoSwipe(e,t);return n.init(),n}}(window,document,window.PhotoSwipe,window.PhotoSwipeUI);
