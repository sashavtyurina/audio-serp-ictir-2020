/*!
 * fancyBox - jQuery Plugin
 * version: 3.0.0 Beta 1 (Tue, 29 Jan 2013)
 * @requires jQuery v1.7 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2013 Janis Skarnelis - janis@fancyapps.com
 *
 */
!function(e,t,i,n){"use strict";var o=i(e),a=i(t),r=i("html"),s=i.fancybox=function(){s.open.apply(this,arguments)},l=s.isTouch=t.createTouch!==n||e.ontouchstart!==n,c=function(e){return e&&e.hasOwnProperty&&e instanceof i},d=function(e){return e&&"string"===i.type(e)},p=function(e){return d(e)&&e.indexOf("%")>0},h=function(e,t){var i=parseFloat(e,10)||0;return t&&p(e)&&(i=s.getViewport()[t]/100*i),Math.ceil(i)},f=function(e,t){return h(e,t)+"px"},u=Date.now||function(){return+new Date},g=function(e){var t=d(e)?i(e):e;if(t&&t.length){t.removeClass("fancybox-wrap").stop(!0).trigger("onReset").hide().unbind();try{t.find("iframe").unbind().attr("src",l?"":"//about:blank"),setTimeout(function(){var e,n;(t.empty().remove(),!s.lock||s.coming||s.current)||(i(".fancybox-margin").removeClass("fancybox-margin"),e=o.scrollTop(),n=o.scrollLeft(),r.removeClass("fancybox-lock"),s.lock.remove(),s.lock=null,o.scrollTop(e).scrollLeft(n))},150)}catch(n){}}};i.extend(s,{version:"3.0.0",defaults:{theme:"default",padding:15,margin:[30,55,30,55],loop:!0,arrows:!0,closeBtn:!0,expander:!l,caption:{type:"outside"},overlay:{closeClick:!0,speedIn:0,speedOut:250,showEarly:!0,css:{}},helpers:{},width:800,height:450,minWidth:100,minHeight:100,maxWidth:99999,maxHeight:99999,aspectRatio:!1,fitToView:!0,autoHeight:!0,autoWidth:!0,autoResize:!0,autoCenter:!l,topRatio:.5,leftRatio:.5,openEffect:"elastic",openSpeed:350,openEasing:"easeOutQuad",closeEffect:"elastic",closeSpeed:350,closeEasing:"easeOutQuad",nextEffect:"elastic",nextSpeed:350,nextEasing:"easeOutQuad",prevEffect:"elastic",prevSpeed:350,prevEasing:"easeOutQuad",autoPlay:!1,playSpeed:3e3,onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeClose:i.noop,afterClose:i.noop,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-inner"></div></div>',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true"></iframe>',error:'<p class="fancybox-error">{{ERROR}}</p>',closeBtn:'<a title="{{CLOSE}}" class="fancybox-close" href="javascript:;"></a>',next:'<a title="{{NEXT}}" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="{{PREV}}" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},locale:"en",locales:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",EXPAND:"Display actual size",SHRINK:"Fit to the viewport",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow"},de:{CLOSE:"Schliessen",NEXT:"Vorw\xe4rts",PREV:"Zur\xfcck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp\xe4ter nochmal.",EXPAND:"",SHRINK:"",PLAY_START:"",PLAY_STOP:""}},index:0,content:null,href:null,wrapCSS:"",modal:!1,locked:!0,preload:3,mouseWheel:!0,scrolling:"auto",scrollOutside:!0},current:null,coming:null,group:[],index:0,isActive:!1,isOpen:!1,isOpened:!1,isMaximized:!1,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,helpers:{},open:function(e,t){e&&!1!==s.close(!0)&&(i.isPlainObject(t)||(t={}),s.opts=i.extend(!0,{},s.defaults,t),s.populate(e),s.group.length&&s._start(s.opts.index))},populate:function(e){var t=[];i.isArray(e)||(e=[e]),i.each(e,function(o,a){var r,p,h,f,u,g=i.extend(!0,{},s.opts);if(i.isPlainObject(a))r=a;else if(d(a))r={href:a};else{if(!(c(a)||"object"===i.type(a)&&a.nodeType))return;p=i(a),(r=i(p).get(0)).href||(r={href:a}),r=i.extend({href:p.data("fancybox-href")||p.attr("href")||r.href,title:p.data("fancybox-title")||p.attr("title")||r.title,type:p.data("fancybox-type"),element:p},p.data("fancybox-options"))}r.type||!r.content&&!r.href||(r.type=r.content?"html":s.guessType(p,r.href)),"image"!==(h=r.type||s.opts.type)&&"swf"!==h||(g.autoWidth=g.autoHeight=!1,g.scrolling="visible"),"image"===h&&(g.aspectRatio=!0),"iframe"===h&&(g.autoWidth=!1,g.scrolling=l?"scroll":"visible"),e.length<2&&(g.margin=30),f=(r=i.extend(!0,{},g,r)).margin,u=r.padding,"number"===i.type(f)&&(r.margin=[f,f,f,f]),"number"===i.type(u)&&(r.padding=[u,u,u,u]),r.modal&&i.extend(!0,r,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,overlay:{closeClick:!1}}),r.autoSize!==n&&(r.autoWidth=r.autoHeight=!!r.autoSize),"auto"===r.width&&(r.autoWidth=!0),"auto"===r.height&&(r.autoHeight=!0),t.push(r)}),s.group=s.group.concat(t)},cancel:function(){var e=s.coming;e&&!1!==s.trigger("onCancel")&&(s.hideLoading(),s.ajaxLoad&&s.ajaxLoad.abort(),s.imgPreload&&(s.imgPreload.onload=s.imgPreload.onerror=null),e.wrap&&g(e.wrap),s.ajaxLoad=s.imgPreload=s.coming=null,s.current||s._afterZoomOut(e))},close:function(e){e&&"object"===i.type(e)&&e.preventDefault(),s.cancel(),s.isActive&&!s.coming&&!1!==s.trigger("beforeClose")&&(s.unbind(),s.isClosing=!0,s.lock&&s.lock.css("overflow","hidden"),s.isOpen&&!0!==e?(s.isOpen=s.isOpened=!1,s.transitions.close()):s._afterZoomOut())},prev:function(e){var t=s.current;t&&s.jumpto(t.index-1,d(e)?e:t.direction.prev)},next:function(e){var t=s.current;t&&s.jumpto(t.index+1,d(e)?e:t.direction.next)},jumpto:function(e,t){var i=s.current;s.coming&&s.coming.index===e||(s.cancel(),i.index==e?t=null:t||(t=i.direction[e>i.index?"next":"prev"]),s.direction=t,s._start(e))}}),i.extend(s,{guessType:function(e,t){var i=e&&e.prop("class")?e.prop("class").match(/fancybox\.(\w+)/):0,n=!1;return i?i[1]:(d(t)?t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)?n="image":t.match(/\.(swf)((\?|#).*)?$/i)?n="swf":"#"===t.charAt(0)&&(n="inline"):d(e)&&(n="html"),n)},trigger:function(e,t){var n,o=t||s.coming||s.current;if(o){if(i.isFunction(o[e])&&(n=o[e].apply(o,Array.prototype.slice.call(arguments,1))),!1===n||"afterClose"===e&&s.isActive)return!1;o.helpers&&i.each(o.helpers,function(t,n){var a,r=s.helpers[t];n&&r&&i.isFunction(r[e])&&(a=i.extend(!0,{},r.defaults,n),r.opts=a,r[e](a,o))}),i.event.trigger(e)}},reposition:function(e,t){var i,n=t||s.current,o=n&&n.wrap;s.isOpen&&o&&(i=s._getPosition(n),!1===e||e&&"scroll"===e.type?o.stop(!0).animate(i,200).css("overflow","visible"):o.css(i))},update:function(e){var t,n=e&&e.type,o=(u(),s.current);if(o&&s.isOpen){if("scroll"===n){if(s.wrap.outerHeight(!0)>s.getViewport().h)return;return s.didUpdate&&clearTimeout(s.didUpdate),void(s.didUpdate=setTimeout(function(){s.reposition(e),s.didUpdate=null},50))}s.lock&&s.lock.css("overflow","hidden"),s._setDimension(),s.reposition(e),s.lock&&s.lock.css("overflow","auto"),"float"===o.caption.type&&(t=s.getViewport().w-(s.wrap.outerWidth(!0)-s.inner.width()),o.caption.wrap.css("width",t).css("marginLeft",-1*(.5*t-.5*s.inner.width()))),o.expander&&(o.canShrink?i(".fancybox-expand").show().attr("title",o.locales[o.locale].SHRINK):o.canExpand?i(".fancybox-expand").show().attr("title",o.locales[o.locale].EXPAND):i(".fancybox-expand").hide()),s.trigger("onUpdate")}},toggle:function(e){s.current&&s.isOpen&&(s.current.fitToView="boolean"===i.type(e)?e:!s.current.fitToView,s.update(!0))},hideLoading:function(){i("#fancybox-loading").remove()},showLoading:function(){var e,t;s.hideLoading(),e=i('<div id="fancybox-loading"></div>').click(s.cancel).appendTo("body"),s.defaults.fixed||(t=s.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){return s.lock?{x:s.lock.scrollLeft(),y:s.lock.scrollTop(),w:s.lock[0].clientWidth,h:s.lock[0].clientHeight}:{x:o.scrollLeft(),y:o.scrollTop(),w:l&&e.innerWidth?e.innerWidth:o.width(),h:l&&e.innerHeight?e.innerHeight:o.height()}},unbind:function(){c(s.wrap)&&s.wrap.unbind(".fb"),c(s.inner)&&s.inner.unbind(".fb"),a.unbind(".fb"),o.unbind(".fb")},rebind:function(){var e,t=s.current;s.unbind(),t&&s.isOpen&&(o.bind("orientationchange.fb"+(l?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),s.update),(e=t.keys)&&a.bind("keydown.fb",function(o){var a=o.which||o.keyCode,r=o.target||o.srcElement;if(27===a&&s.coming)return!1;o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||r&&(r.type||i(r).is("[contenteditable]"))||i.each(e,function(e,r){return r[a]!==n?(o.preventDefault(),t.group.length>1&&s[e](r[a]),!1):i.inArray(a,r)>-1?(o.preventDefault(),"play"===e?s.slideshow.toggle():s[e](),!1):void 0})}),s.lastScroll=u(),t.mouseWheel&&s.group.length>1&&s.wrap.bind("DOMMouseScroll.fb mousewheel.fb MozMousePixelScroll.fb",function(e){var t=e.originalEvent,i=t.target||0,n=t.wheelDelta||t.detail||0,o=t.wheelDeltaX||0,a=t.wheelDeltaY||0,r=u();i&&i.style&&(!i.style.overflow||"hidden"!==i.style.overflow)&&(i.clientWidth&&i.scrollWidth>i.clientWidth||i.clientHeight&&i.scrollHeight>i.clientHeight)||0===n||s.current&&s.current.canShrink||(t.stopPropagation(),s.lastScroll&&r-s.lastScroll<80?s.lastScroll=r:(s.lastScroll=r,t.axis&&(t.axis===t.HORIZONTAL_AXIS?o=-1*n:t.axis===t.VERTICAL_AXIS&&(a=-1*n)),0===o?a>0?s.prev("down"):s.next("up"):o>0?s.prev("right"):s.next("left")))}),s.touch.init())},rebuild:function(){var e=s.current;e.wrap.find(".fancybox-nav, .fancybox-close, .fancybox-expand").remove(),e.arrows&&s.group.length>1&&((e.loop||e.index>0)&&i(s._translate(e.tpl.prev)).appendTo(s.inner).bind("click.fb",s.prev),(e.loop||e.index<s.group.length-1)&&i(s._translate(e.tpl.next)).appendTo(s.inner).bind("click.fb",s.next)),e.closeBtn&&i(s._translate(e.tpl.closeBtn)).appendTo(s.wrap).bind("click.fb",s.close),e.expander&&"image"===e.type&&(i('<a title="Expand image" class="fancybox-expand" href="javascript:;"></a>').appendTo(s.inner).bind("click.fb",s.toggle),!e.canShrink&&e.canExpand)},_start:function(e){var t,n;if(s.opts.loop&&(e<0&&(e=s.group.length+e%s.group.length),e%=s.group.length),!(t=s.group[e]))return!1;(t=i.extend(!0,{},s.opts,t)).group=s.group,t.index=e,s.coming=t,!1!==s.trigger("beforeLoad")?(s.isActive=!0,s._build(),a.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(a.unbind(".loading"),e.preventDefault(),s.cancel())}),t.overlay&&t.overlay.showEarly&&s.overlay.open(t.overlay),"image"===(n=t.type)?s._loadImage():"ajax"===n?s._loadAjax():"iframe"===n?s._loadIframe():"inline"===n?s._loadInline():"html"===n||"swf"===n?s._afterLoad():s._error()):s.coming=null},_build:function(){var e,t,n,l=s.coming,c=l.caption.type;l.wrap=e=i('<div class="fancybox-wrap"></div>').appendTo(l.parent||"body").addClass("fancybox-"+l.theme),l.inner=i('<div class="fancybox-inner"></div>').appendTo(e),l["outside"===c||"float"===c?"inner":"wrap"].addClass("fancybox-skin fancybox-"+l.theme+"-skin"),l.locked&&l.overlay&&s.defaults.fixed&&(s.lock||(s.lock=i('<div id="fancybox-lock"></div>').appendTo(e.parent())),s.lock.unbind().append(e),l.overlay.closeClick&&s.lock.click(function(e){i(e.target).is(s.lock)&&s.close()}),(a.height()>o.height()||"scroll"===r.css("overflow-y"))&&(i("*:visible").filter(function(){return"fixed"===i(this).css("position")&&!i(this).hasClass("fancybox-overlay")&&"fancybox-lock"!==i(this).attr("id")}).addClass("fancybox-margin"),r.addClass("fancybox-margin")),t=o.scrollTop(),n=o.scrollLeft(),r.addClass("fancybox-lock"),o.scrollTop(t).scrollLeft(n)),s.trigger("onReady")},_error:function(e){s.coming&&(i.extend(s.coming,{type:"html",autoWidth:!0,autoHeight:!0,closeBtn:!0,minWidth:0,minHeight:0,padding:[15,15,15,15],scrolling:"visible",hasError:e,content:s._translate(s.coming.tpl.error)}),s._afterLoad())},_loadImage:function(){var e=s.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,i.extend(s.coming,{width:this.width,height:this.height,content:i(this).addClass("fancybox-image")}),s._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,s._error("image")},e.src=s.coming.href,(!0!==e.complete||e.width<1)&&s.showLoading()},_loadAjax:function(){var e,t,n=s.coming,o=n.href;o=(e=o.split(/\s+/,2)).shift(),t=e.shift(),s.showLoading(),s.ajaxLoad=i.ajax(i.extend({},n.ajax,{url:n.href,error:function(e,t){s.coming&&"abort"!==t?s._error("ajax",e):s.hideLoading()},success:function(e,o){"success"===o&&(t&&(e=i("<div>").html(e).find(t)),n.content=e,s._afterLoad())}}))},_loadIframe:function(){var e,t=s.coming;t.content=e=i(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",l?"auto":t.iframe.scrolling),t.iframe.preload&&(s.showLoading(),s._setDimension(t),t.wrap.addClass("fancybox-tmp"),e.one("load.fb",function(){t.iframe.preload&&(i(this).data("ready",1),i(this).bind("load.fb",s.update),s._afterLoad())})),e.attr("src",t.href).appendTo(t.inner),t.iframe.preload?1!==e.data("ready")&&s.showLoading():s._afterLoad()},_loadInline:function(){var e=s.coming,t=e.href;e.content=i(d(t)?t.replace(/.*(?=#[^\s]+$)/,""):t),e.content.length?s._afterLoad():s._error()},_preloadImages:function(){var e,t,i=s.group,n=s.current,o=i.length,a=n.preload?Math.min(n.preload,o-1):0;for(t=1;t<=a;t+=1)(e=i[(n.index+t)%o])&&"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e=s.coming,t=s.current;if(a.unbind(".loading"),!e||!1===s.isActive||!1===s.trigger("afterLoad",e,t))return s.hideLoading(),e&&e.wrap&&g(e.wrap),t||s._afterZoomOut(e),void(s.coming=null);i.extend(s,{wrap:e.wrap.addClass("fancybox-type-"+e.type+" fancybox-"+(l?"mobile":"desktop")+" fancybox-"+e.theme+"-"+(l?"mobile":"desktop")+" "+e.wrapCSS),inner:e.inner,current:e,previous:t}),s._prepare(),s.trigger("beforeShow",e,t),s.isOpen=!1,s.coming=null,s._setDimension(),s.hideLoading(),e.overlay&&!s.overlay.el&&s.overlay.open(e.overlay),s.transitions.open()},_prepare:function(){var e,t=s.current,n=t.content||"",o=t.wrap,a=t.inner,r=t.margin,l=t.padding,p=t.href,h=t.type,u=(t.scrolling,t.caption),g=t.title,m=u.type,y="fancybox-placeholder",w="fancybox-display";"iframe"!==h&&c(n)&&n.length&&(n.data(y)||n.data(w,n.css("display")).data(y,i('<div class="'+y+'"></div>').insertAfter(n).hide()),n=n.show().detach(),t.wrap.bind("onReset",function(){i(this).find(n).length&&n.css("display",n.data(w)).replaceAll(n.data(y)).data(y,!1).data(w,!1)})),"swf"===h&&(n='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+p+'"></param>',e="",i.each(t.swf,function(t,i){n+='<param name="'+t+'" value="'+i+'"></param>',e+=" "+t+'="'+i+'"'}),n+='<embed src="'+p+'" type="application/x-shockwave-flash" width="100%" height="100%"'+e+"></embed></object>"),c(n)&&n.parent().is(t.inner)||(t.inner.append(n),t.content=t.inner.children(":last")),i.each(["Top","Right","Bottom","Left"],function(e,t){r[e]&&o.css("margin"+t,f(r[e])),l[e]&&("Bottom"===t&&"outside"===m||o.css("padding"+t,f(l[e])),"outside"!==m&&"float"!==m||(a.css("border"+t+"Width",f(l[e])),"Top"!==t&&"Left"!==t||a.css("margin"+t,f(-1*l[e]))))}),i.isFunction(g)&&(g=g.call(t.element,t)),d(g)&&""!==i.trim(g)&&(t.caption.wrap=i('<div class="fancybox-title fancybox-title-'+m+'-wrap">'+g+"</div>").appendTo(t["over"===m?"inner":"wrap"]),"float"===m&&t.caption.wrap.width(s.getViewport().w-(s.wrap.outerWidth(!0)-s.inner.width())).wrapInner("<div></div>"))},_setDimension:function(e){var t,i,n,o,a,r,l,d,u,g,m,y,w,x,v,b=s.getViewport(),_=e||s.current,k=_.wrap,T=_.inner,C=_.width,O=_.height,L=_.minWidth,W=_.minHeight,E=_.maxWidth,S=_.maxHeight,H=_.margin,M=_.scrollOutside?_.scrollbarWidth:0,A=(H=_.margin,_.padding),R=_.scrolling,P=1;if(t=(R=R.split(","))[0],i=R[1]||t,_.inner.css("overflow-x","yes"===t?"scroll":"no"===t?"hidden":t).css("overflow-y","yes"===i?"scroll":"no"===i?"hidden":i),o=H[1]+H[3]+A[1]+A[3],n=H[0]+H[2]+A[0]+A[2],L=h(p(L)?h(L,"w")-o:L),E=h(p(E)?h(E,"w")-o:E),W=h(p(W)?h(W,"h")-n:W),S=h(p(S)?h(S,"h")-n:S),a=h(p(C)?h(C,"w")-o:C),r=h(p(O)?h(O,"h")-n:O),_.fitToView&&(E=Math.min(E,h("100%","w")-o),S=Math.min(S,h("100%","h")-n)),g=b.w,m=b.h,"iframe"===_.type){if(d=_.content,k.removeClass("fancybox-tmp"),(_.autoWidth||_.autoHeight)&&d&&1===d.data("ready"))try{d[0].contentWindow&&d[0].contentWindow.document.location&&(u=d.contents().find("body"),T.addClass("fancybox-tmp"),T.width(screen.width-o).height(99999),M&&u.css("overflow-x","hidden"),_.autoWidth&&(a=u.outerWidth(!0)),_.autoHeight&&(r=u.outerHeight(!0)),T.removeClass("fancybox-tmp"))}catch(j){}}else(_.autoWidth||_.autoHeight)&&"image"!==_.type&&"swf"!==_.type&&(T.addClass("fancybox-tmp"),_.autoWidth?T.width("auto"):T.width(E),_.autoHeight?T.height("auto"):T.height(S),_.autoWidth&&(a=T[0].scrollWidth||T.width()),_.autoHeight&&(r=T[0].scrollHeight||T.height()),T.removeClass("fancybox-tmp"));if(C=a,O=r,l=a/r,!_.autoResize)return k.css({width:f(C),height:"auto"}),void T.css({width:f(C),height:f(O)});if(_.aspectRatio?(C>E&&(O=(C=E)/l),O>S&&(C=(O=S)*l),C<L&&(O=(C=L)/l),O<W&&(C=(O=W)*l)):(C=Math.max(L,Math.min(C,E)),_.autoHeight&&"iframe"!==_.type&&(T.width(C),r=O=T[0].scrollHeight),O=Math.max(W,Math.min(O,S))),k.css({width:f(C),height:"auto"}),T.css({width:f(C),height:f(O)}),y=h(k.outerWidth(!0)),w=h(k.outerHeight(!0)),_.fitToView)if(_.aspectRatio)for(;(y>g||w>m)&&C>L&&O>W&&!(P++>30);)O=Math.max(W,Math.min(S,O-10)),(C=h(O*l))<L&&(O=h((C=L)/l)),C>E&&(O=h((C=E)/l)),k.css({width:f(C)}),T.css({width:f(C),height:f(O)}),y=h(k.outerWidth(!0)),w=h(k.outerHeight(!0));else C=Math.max(L,Math.min(C,C-(y-g))),O=Math.max(W,Math.min(O,O-(w-m)));M&&"auto"===t&&(O<T[0].scrollHeight||c(_.content)&&_.content[0]&&O<_.content[0].offsetHeight)&&C+o+M<E&&(C+=M),k.css({width:C}),T.css({width:f(C),height:f(O)}),y=h(k.outerWidth(!0)),w=h(k.outerHeight(!0)),x=(y>g||w>m)&&C>L&&O>W,v=(y<g||w<m)&&(_.aspectRatio?C<E&&O<S&&C<a&&O<r:(C<E||O<S)&&(C<a||O<r)),_.canShrink=x,_.canExpand=v,!d&&_.autoHeight&&O>W&&O<S&&!v&&T.height("auto")},_getPosition:function(e){var t=e||s.current,i=t.wrap,n=s.getViewport(),o=n.y,a=n.x;return{top:f(Math.max(o,o+(n.h-i.outerHeight(!0))*t.topRatio)),left:f(Math.max(a,a+(n.w-i.outerWidth(!0))*t.leftRatio)),width:f(i.width()),height:f(i.height())}},_afterZoomIn:function(){var e=s.current;e&&(s.lock&&s.lock.css("overflow","auto"),s.isOpen=s.isOpened=!0,s.rebuild(),s.rebind(),e.caption&&e.caption.wrap&&e.caption.wrap.show().css({visibility:"visible",opacity:0,left:0}).animate({opacity:1},"fast"),s.update(),s.wrap.css("overflow","visible").addClass("fancybox-open").focus(),s[s.wrap.hasClass("fancybox-skin")?"wrap":"inner"].addClass("fancybox-"+e.theme+"-skin-open"),e.caption&&e.caption.wrap&&e.caption.wrap.show().css("left",0).animate({opacity:1},"fast"),e.margin[2]>0&&i('<div class="fancybox-spacer"></div>').css("height",f(e.margin[2]-2)).appendTo(s.wrap),s.trigger("afterShow"),s._preloadImages(),e.autoPlay&&!s.slideshow.isActive&&s.slideshow.start())},_afterZoomOut:function(e){var t=function(){g(".fancybox-wrap")};s.hideLoading(),(e=e||s.current)&&e.wrap&&e.wrap.hide(),i.extend(s,{group:[],opts:{},coming:null,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,inner:null}),s.trigger("afterClose",e),s.coming||s.current||(e.overlay?s.overlay.close(e.overlay,t):t())},_translate:function(e){var t=s.coming||s.current,i=t.locales[t.locale];return e.replace(/\{\{(\w+)\}\}/g,function(e,t){var o=i[t];return o===n?e:o})}}),s.transitions={_getOrig:function(e){var t=e||s.current,i=t.wrap,n=t.element,a=t.orig,r=s.getViewport(),l={},d=50,p=50;return!a&&n&&n.is(":visible")&&((a=n.find("img:first:visible")).length||(a=n)),!a&&t.group[0].element&&(a=t.group[0].element.find("img:visible:first")),c(a)&&a.is(":visible")?(l=a.offset(),a.is("img")&&(d=a.outerWidth(),p=a.outerHeight()),s.lock&&(l.top-=o.scrollTop(),l.left-=o.scrollLeft())):(l.top=r.y+(r.h-p)*t.topRatio,l.left=r.x+(r.w-d)*t.leftRatio),l={top:f(l.top-.5*(i.outerHeight(!0)-i.height())),left:f(l.left-.5*(i.outerWidth(!0)-i.width())),width:f(d),height:f(p)}},_getCenter:function(e){var t=e||s.current,i=t.wrap,n=s.getViewport(),o=n.y,a=n.x;return{top:f(Math.max(o,o+(n.h-i.outerHeight(!0))*t.topRatio)),left:f(Math.max(a,a+(n.w-i.outerWidth(!0))*t.leftRatio)),width:f(i.width()),height:f(i.height())}},_prepare:function(e,t){var i=e||s.current,n=i.wrap,o=i.inner;n.height(n.height()),o.css({width:100*o.width()/n.width()+"%",height:Math.floor(100*o.height()/n.height()*100)/100+"%"}),!0===t&&n.find(".fancybox-title, .fancybox-spacer, .fancybox-close, .fancybox-nav").remove(),o.css("overflow","hidden")},fade:function(e,t){var n=this._getCenter(e),o={opacity:0};return"open"===t||"changeIn"===t?[i.extend(n,o),{opacity:1}]:[{},o]},drop:function(e,t){var n=i.extend(this._getCenter(e),{opacity:1}),o=i.extend({},n,{opacity:0,top:f(Math.max(s.getViewport().y-e.margin[0],h(n.top)-200))});return"open"===t||"changeIn"===t?[o,n]:[{},o]},elastic:function(e,t){var n,o,a,r=e.wrap,l=e.margin,c=s.getViewport(),d=s.direction,p=this._getCenter(e),f=i.extend({},p),u=i.extend({},p);return"open"===t?f=this._getOrig(e):"close"===t?(f={},u=this._getOrig(e)):d&&(n="up"===d||"down"===d?"top":"left",o="up"===d||"left"===d?200:-200,"changeIn"===t?(a=h(f[n])+o,a="left"===d?Math.min(a,c.x+c.w-l[3]-r.outerWidth()-1):"right"===d?Math.max(a,c.x-l[1]):"up"===d?Math.min(a,c.y+c.h-l[0]-r.outerHeight()-1):Math.max(a,c.y-l[2]),f[n]=a):(a=h(r.css(n))-o,f={},a="left"===d?Math.max(a,c.x-l[3]):"right"===d?Math.min(a,c.x+c.w-l[1]-r.outerWidth()-1):"up"===d?Math.max(a,c.y-l[0]):Math.min(a,c.y+c.h-l[2]-r.outerHeight()-1),u[n]=a)),"open"===t||"changeIn"===t?(f.opacity=0,u.opacity=1):u.opacity=0,[f,u]},open:function(){var e,t,n,o,a,r=s.current,l=s.previous;s.direction;l&&l.wrap.stop(!0).removeClass("fancybox-opened"),s.isOpened?(e=r.nextEffect,n=r.nextSpeed,o=r.nextEasing,a="changeIn"):(e=r.openEffect,n=r.openSpeed,o=r.openEasing,a="open"),"none"===e?s._afterZoomIn():(t=this[e](r,a),"elastic"===e&&this._prepare(r),r.wrap.css(t[0]),r.wrap.animate(t[1],n,o,s._afterZoomIn)),l&&(s.isOpened&&"none"!==l.prevEffect?(l.wrap.stop(!0).removeClass("fancybox-opened"),t=this[l.prevEffect](l,"changeOut"),this._prepare(l,!0),l.wrap.animate(t[1],l.prevSpeed,l.prevEasing,function(){g(l.wrap)})):g(i(".fancybox-wrap").not(r.wrap)))},close:function(){var e,t=s.current,i=t.wrap.stop(!0).removeClass("fancybox-opened"),n=t.closeEffect;if("none"===n)return s._afterZoomOut();this._prepare(t,!0),e=this[n](t,"close"),i.addClass("fancybox-animating").animate(e[1],t.closeSpeed,t.closeEasing,s._afterZoomOut)}},s.slideshow={_clear:function(){this._timer&&clearTimeout(this._timer)},_set:function(){this._clear(),s.current&&this.isActive&&(this._timer=setTimeout(s.next,this._speed))},_timer:null,_speed:null,isActive:!1,start:function(e){var t=s.current;t&&(t.loop||t.index<t.group.length-1)&&(this.stop(),this.isActive=!0,this._speed=e||t.playSpeed,a.bind({"beforeLoad.player":i.proxy(this._clear,this),"onUpdate.player":i.proxy(this._set,this),"onCancel.player beforeClose.player":i.proxy(this.stop,this)}),this._set(),s.trigger("onPlayStart"))},stop:function(){this._clear(),a.unbind(".player"),this.isActive=!1,this._timer=this._speed=null,s.trigger("onPlayEnd")},toggle:function(){this.isActive?this.stop():this.start.apply(this,arguments)}},s.overlay={el:null,theme:"",open:function(e){var t,n,a=this,r=this.el,l=s.defaults.fixed;e=i.extend({},s.defaults.overlay,e),r?r.stop(!0).removeAttr("style").unbind(".overlay"):r=i('<div class="fancybox-overlay'+(l?" fancybox-overlay-fixed":"")+'"></div>').appendTo(e.parent||"body"),e.closeClick&&r.bind("click.overlay",function(){return!(s.lastTouch&&u()-s.lastTouch<300)&&(s.isActive?s.close():a.close(),!1)}),(n=e.theme||(s.coming?s.coming.theme:"default"))!==this.theme&&r.removeClass("fancybox-"+this.theme+"-overlay"),this.theme=n,r.addClass("fancybox-"+n+"-overlay").css(e.css),t=r.css("opacity"),!this.el&&t<1&&e.speedIn&&r.css({opacity:0,filter:"alpha(opacity=0)"}).fadeTo(e.speedIn,t),this.el=r,l||(o.bind("resize.overlay",i.proxy(this.update,this)),this.update())},close:function(e,t){e=i.extend({},s.defaults.overlay,e),this.el&&this.el.stop(!0).fadeOut(e.speedOut,function(){o.unbind("resize.overlay"),i(".fancybox-overlay").remove(),s.overlay.el=null,i.isFunction(t)&&t()})},update:function(){this.el.css({width:"100%",height:"100%"}),this.el.width(a.width()).height(a.height())}},s.touch={startX:0,wrapX:0,dx:0,isMoving:!1,_start:function(e){s.current;var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,n=u();if(s.isOpen&&!s.wrap.is(":animated")&&(i(e.target).is(s.inner)||i(e.target).parent().is(s.inner))){if(s.lastTouch&&n-s.lastTouch<300)return e.preventDefault(),s.lastTouch=n,this._cancel(!0),s.toggle(),!1;s.lastTouch=n,s.wrap&&s.wrap.outerWidth()>s.getViewport().w||(e.preventDefault(),t&&s.wrap&&s.wrap.outerWidth()<s.getViewport().w&&(this.startX=t.pageX,this.wrapX=s.wrap.position().left,this.isMoving=!0,s.inner.bind("touchmove.fb",i.proxy(this._move,this)).one("touchend.fb touchcancel.fb",i.proxy(this._cancel,this))))}},_move:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,i=this.startX-t.pageX;this.isMoving&&s.isOpen&&(this.dx=i,s.current.wrap.outerWidth(!0)<=o.width()&&(Math.abs(i)>=50?(e.preventDefault(),this.last=0,this._cancel(!0),i>0?s.next("left"):s.prev("right")):Math.abs(i)>3&&(e.preventDefault(),this.last=0,s.wrap.css("left",this.wrapX-i))))},_clear:function(){this.startX=this.wrapX=this.dx=0,this.isMoving=!1},_cancel:function(){s.inner&&s.inner.unbind("touchmove.fb"),s.isOpen&&Math.abs(this.dx)>3&&s.reposition(!1),this._clear()},init:function(){s.inner&&s.touch&&(this._cancel(!0),s.inner.bind("touchstart.fb",i.proxy(this._start,this)))}},i.easing.easeOutQuad||(i.easing.easeOutQuad=function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i}),a.ready(function(){var t,a,l,c,d,p;i.scrollbarWidth===n&&(i.scrollbarWidth=function(){var e=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),n=t.innerWidth()-t.height(99).innerWidth();return e.remove(),n}),i.support.fixedPosition===n&&(i.support.fixedPosition=(d=i('<div style="position:fixed;top:20px;padding:0;margin:0;border:0;"></div>').appendTo("body"),p="fixed"===d.css("position")&&(d[0].offsetTop>18&&d[0].offsetTop<22||15===d[0].offsetTop),d.remove(),p)),i.extend(s.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")}),l=o.scrollTop(),c=o.scrollLeft(),t=i(e).width(),r.addClass("fancybox-lock-test"),a=i(e).width(),r.removeClass("fancybox-lock-test"),o.scrollTop(l).scrollLeft(c),s.lockMargin=a-t,i("<style type='text/css'>.fancybox-margin{margin-right:"+s.lockMargin+"px;}</style>").appendTo("head"),i("script[src*='jquery.fancybox.js']").length>0&&i("script[src*='jquery.fancybox.js']").attr("src").match(/autorun/)&&i("a[href$='.jpg'],a[href$='.png'],a[href$='.gif'],.fancybox").attr("data-fancybox-group","gallery").fancybox()}),i.fn.fancybox=function(e){var t=this,n=!!this.length&&this.selector,o=n&&n.indexOf("()")<0&&!(e&&!1===e.live),r=function(a){var r=o?i(n):t,l=i(this).blur(),c=e.groupAttr||"data-fancybox-group",d=l.attr(c),p=this.rel;!d&&p&&"nofollow"!==p&&(c="rel",d=p),d&&(l=r.filter("["+c+'="'+d+'"]'),e.index=l.index(this)),l.length&&(a.preventDefault(),s.open(l.get(),e))};return e=e||{},o?a.undelegate(n,"click.fb-start").delegate(n+":not('.fancybox-close,.fancybox-nav,.fancybox-wrap')","click.fb-start",r):t.unbind("click.fb-start").bind("click.fb-start",r),this}}(window,document,jQuery);